---
title: "Типы данных C в ODBC | Документы Microsoft"
ms.custom: 
ms.date: 01/19/2017
ms.prod: sql-non-specified
ms.reviewer: 
ms.suite: 
ms.technology:
- drivers
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- data types [ODBC], C data types
- C data types [ODBC], about C data types
- C data types [ODBC]
ms.assetid: c91bef31-3794-4736-966a-d50997b2233c
caps.latest.revision: 26
author: MightyPen
ms.author: genemi
manager: jhubbard
ms.workload: Inactive
ms.translationtype: MT
ms.sourcegitcommit: f7e6274d77a9cdd4de6cbcaef559ca99f77b3608
ms.openlocfilehash: 65a5bd882462dbd72c39c751dcfed52c61ab194c
ms.contentlocale: ru-ru
ms.lasthandoff: 09/09/2017

---
# <a name="c-data-types-in-odbc"></a>Типы данных C в ODBC
ODBC определяет типы данных C, которые используются переменные приложения и их соответствующие идентификаторы типа. Эти значения используются буферами, которые привязаны к столбцам результирующего набора и параметров инструкции. Например предположим, что приложение хочет получить данные из столбцов результирующего набора в символьном формате. Он объявляется переменная с SQLCHAR * тип данных, а затем связывает столбец результирующего набора с идентификатором типа SQL_C_CHAR этой переменной. Полный список типов данных C и идентификаторы типов см. в разделе [типы данных приложение D:](../../../odbc/reference/appendixes/appendix-d-data-types.md).  
  
 ODBC также определяет сопоставление из каждого типа данных SQL в тип данных C по умолчанию. Например целое число со знаком длиной 2 байта в приложении сопоставляется целое число со знаком длиной 2 байта в источнике данных. Чтобы использовать сопоставление по умолчанию, приложение указывает идентификатор типа SQL_C_DEFAULT. Тем не менее использовать этот идентификатор не рекомендуется из соображений совместимости.  
  
 Все типы данных C целое число, определенные в ODBC 1*.x* были подписаны. Беззнаковые типы данных C и их соответствующие идентификаторы типа были добавлены в ODBC 2.0. По этой причине приложения и драйверы должны быть особенно осторожны при работе с 1*.x* версии.  
  
## <a name="c-data-type-extensibility"></a>Возможность расширения типа данных c.  
 В ODBC 3.8 можно указать типы данных C специфические для драйвера. Это позволяет привязать тип SQL как тип C драйвера в приложениях ODBC, при вызове [SQLBindCol](../../../odbc/reference/syntax/sqlbindcol-function.md), [SQLGetData](../../../odbc/reference/syntax/sqlgetdata-function.md), или [SQLBindParameter](../../../odbc/reference/syntax/sqlbindparameter-function.md). Это может быть полезна для поддержки новых типов серверов, поскольку существующие типы данных C может не представлять правильно новые типы данных для сервера. Использование типов C драйвера можно увеличить число преобразований, выполняемых драйверы.  
  
 Например, предположим, что система управления базами данных (СУБД) появился новый тип SQL, **DATETIMEOFFSET**, для представления даты и времени с сведения о часовом поясе. Будет не указан тип C в ODBC это значение соответствовало **DATETIMEOFFSET**. Приложение было бы выполнить привязку **DATETIMEOFFSET** как SQL_C_BINARY и приведения его в определяемый пользователем тип. В ODBC 3.8 начиная с версии C возможность расширения типа данных, драйвер можно определить новый соответствующий тип C. Например для нового типа SQL DATETIMEOFFSET драйвер можно определить новый соответствующий тип C, например SQL_C_DATETIMEOFFSET. Затем приложение может привязать новый тип SQL, как тип C специфические для драйвера.  
  
 Тип данных C определяется в драйвере следующим образом:  
  
-   Уровень соответствия для приложения, драйвер ODBC и диспетчер драйверов ODBC 3.8 (или более поздней версии).  
  
-   Диапазон данных, относящиеся к драйверу типа C — между 0x4000 и 0x7FFF.  
  
-   Драйвер определяет структуру данных, соответствующий типу C.  Это можно сделать в пакете SDK для конкретного драйвера.  
  
 Диспетчер драйверов не пройдет проверку типа C, определенного в диапазоне 0x4000 и 0x7FFF; драйвер будет выполнять проверки и преобразования типа данных. Но если диапазон данных типа C, передаваемый диспетчера драйверов от 0x0000 до 0x3FFF или от 0x8000 до 0xFFFF, диспетчер драйверов проверит тип данных C.  
  
> [!NOTE]  
>  Типы данных C драйвера должны быть описаны в документации по драйверу.  
  
 Чтобы указать уровень соответствия ODBC 3.8, приложение вызывает [SQLSetEnvAttr](../../../odbc/reference/syntax/sqlsetenvattr-function.md) атрибута задано значение SQL_ATTR_ODBC_VERSION **SQL_OV_ODBC3_80**. Чтобы определить версию драйвера, приложение вызывает **SQLGetInfo** с SQL_DRIVER_ODBC_VER.  
  
 Дополнительные сведения об ODBC 3.8 см. в разделе [новые возможности ODBC 3.8](../../../odbc/reference/what-s-new-in-odbc-3-8.md).  
  
## <a name="see-also"></a>См. также:  
 [Типы данных C](../../../odbc/reference/appendixes/c-data-types.md)

