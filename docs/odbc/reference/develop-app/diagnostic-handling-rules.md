---
title: "Диагностические правилам обработки | Документы Microsoft"
ms.custom: 
ms.date: 01/19/2017
ms.prod: sql-non-specified
ms.prod_service: drivers
ms.service: 
ms.component: reference
ms.reviewer: 
ms.suite: sql
ms.technology:
- drivers
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- diagnostic information [ODBC], SqlGetDiagField
- SQLGetDiagField function [ODBC], diagnostic handling rules
- SQLGetDiagRec function [ODBC], diagnostic handling rules
- diagnostic information [ODBC], SqlGetDiagRec
ms.assetid: 74387c3a-d6b3-4c35-b209-b9612602b20a
caps.latest.revision: 5
author: MightyPen
ms.author: genemi
manager: jhubbard
ms.workload: Inactive
ms.translationtype: MT
ms.sourcegitcommit: f7e6274d77a9cdd4de6cbcaef559ca99f77b3608
ms.openlocfilehash: 7cfd05e9c41fee1e0a753e2c4e4fa4f86db641b3
ms.contentlocale: ru-ru
ms.lasthandoff: 09/09/2017

---
# <a name="diagnostic-handling-rules"></a>Правила обработки диагностики
Следующие правила определяют диагностики обработки в **SQLGetDiagRec** и **SQLGetDiagField**.  
  
 Для всех компонентов ODBC:  
  
-   Не должны заменить, изменить или маску ошибок или предупреждений, полученных из другого компонента ODBC.  
  
-   Возможно добавление записи Дополнительные сведения о состоянии, при получении диагностическое сообщение из другого компонента ODBC. Добавленная запись необходимо добавить действительные значение на исходное сообщение.  
  
 Для использования ODBC компонент, непосредственно взаимодействует источника данных:  
  
-   Необходимо добавить его идентификатор поставщика, его идентификатор компонента и идентификатор источника данных для диагностики сообщения, которое поступает из источника данных.  
  
-   Необходимо сохранить источник данных машинный код ошибки.  
  
-   Необходимо сохранить источник данных диагностическое сообщение.  
  
 Для любого компонента ODBC, который формирует ошибку или предупреждение независимо от источника данных:  
  
-   Необходимо указать правильный код SQLSTATE для ошибки или предупреждения.  
  
-   Необходимо создать текст диагностическое сообщение.  
  
-   Необходимо добавить его идентификатор поставщика и идентификатору компонента для диагностическое сообщение.  
  
-   Должен возвращать машинный код ошибки, если он доступен и может применяться.  
  
 Для компонента ODBC, который взаимодействует с диспетчером драйверов:  
  
-   Необходимо инициализировать выходные аргументы **SQLGetDiagRec** и **SQLGetDiagField**.  
  
-   Необходимо отформатировать и возвращать диагностических данных в качестве выходных аргументов **SQLGetDiagRec** и **SQLGetDiagField** при вызове этой функции.  
  
 Для одного компонента ODBC отличные от диспетчера драйверов:  
  
-   Необходимо задать значение SQLSTATE, на основании собственной ошибки. Для драйверов на основе файлов и драйверов на основе СУБД, которые не используют шлюз драйвер необходимо задать значение SQLSTATE. Для драйверов на основе DBMS, использующие шлюз драйвер или шлюз, поддерживающий ODBC могут устанавливать SQLSTATE.

