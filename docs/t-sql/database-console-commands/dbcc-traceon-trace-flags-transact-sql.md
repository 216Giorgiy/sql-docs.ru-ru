---
title: "Флаги трассировки (Transact-SQL) | Документы Microsoft"
ms.custom: 
ms.date: 01/08/2018
ms.prod: sql-non-specified
ms.prod_service: sql-database
ms.service: 
ms.component: t-sql|database-console-commands
ms.reviewer: 
ms.suite: sql
ms.technology: database-engine
ms.tgt_pltfrm: 
ms.topic: language-reference
dev_langs: TSQL
helpviewer_keywords:
- trace flags [SQL Server], about trace flags
- trace flags [SQL Server]
- global trace flags [SQL Server]
- flags [SQL Server]
- session trace flags [SQL Server]
- performance [SQL Server], trace
- debugging [SQL Server], trace flags
ms.assetid: b971b540-1ac2-435b-b191-24399eb88265
caps.latest.revision: "171"
author: pmasl
ms.author: pelopes
manager: jhubbard
ms.workload: Active
ms.openlocfilehash: 4dcffcd589d6ff9bd2b32aa618611dc78e98edea
ms.sourcegitcommit: 7e117bca721d008ab106bbfede72f649d3634993
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/09/2018
---
# <a name="dbcc-traceon---trace-flags-transact-sql"></a>DBCC TRACEON - флаги трассировки (Transact-SQL)
[!INCLUDE[tsql-appliesto-ss2012-xxxx-xxxx-xxx-md](../../includes/tsql-appliesto-ss2012-xxxx-xxxx-xxx-md.md)]

Флаги трассировки используются для временной установки определенных характеристик сервера или отключения определенного режима. Например, если флаг трассировки 3205 установлен при запуске экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], то отключается режим аппаратного сжатия для ленточных накопителей. Флаги трассировки часто используются для диагностики проблем, связанных с производительностью, отладки хранимых процедур или сложных компьютерных систем.
  
В следующей таблице перечислены и описаны флаги трассировки, доступные в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].
 
> [!NOTE]
> Некоторые флаги трассировки были представлены в конкретной [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] версии. Дополнительные сведения о соответствующей версии см. в статье технической поддержки Майкрософт, связанных с флагом трассировки.

> [!IMPORTANT]
> Поведение флага трассировки может не поддерживаться в следующих версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 

  
|Флаг трассировки|Описание|  
|---|---|
|**139**| Принудительно правильный семантику преобразования в области действия инструкции DBCC проверьте такие команды как [инструкции DBCC CHECKDB](../../t-sql/database-console-commands/dbcc-checkdb-transact-sql.md), [DBCC CHECKTABLE](../../t-sql/database-console-commands/dbcc-checktable-transact-sql.md) и [DBCC CHECKCONSTRAINTS](../../t-sql/database-console-commands/dbcc-checkconstraints-transact-sql.md), при анализе Улучшенная точность и преобразование логика введены с уровнем совместимости 130 для определенных типов данных, базы данных, которая имеет более низкий уровень совместимости. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/help/4010261).<br /><br />**Примечание:** флаг трассировки применяется к [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM CU3, [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 и более поздней версии сборки.<br /><br />**Предупреждение:** трассировки флаг 139 не должен быть постоянно включен в рабочей среде и должны использоваться исключительно с целью выполнения проверки базы данных проверяет, описанный в этом [статья службы поддержки Майкрософт](http://support.microsoft.com/help/4010261). Его следует немедленно отключить после завершения проверки.<br /><br />**Область**: глобальные только|
|**174**|Увеличивает [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] планирование число контейнеров кэша из 40,009 для 160,001 на 64-разрядных системах. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3026083).<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальные только|
|**176**|Включает исправления, чтобы устранить ошибки при перестроении секции в оперативный режим для таблиц, содержащих вычисляемый столбец секционирования. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3213683).<br /><br />**Область**: глобальные или сеанса|
|**205**|Отчеты в журнал ошибок при повторной компиляции хранимой процедуры зависит от статистики в результате автоматического обновления статистики. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/195565).<br /><br />**Область**: глобальные только|
|**260**|Выводит сведения о версиях динамически загружаемых библиотек (DLL) расширенных хранимых процедур. Дополнительные сведения о **GetXpVersion()**, в разделе [Создание расширенных хранимых процедур,](../../relational-databases/extended-stored-procedures-programming/creating-extended-stored-procedures.md).<br /><br />**Область:** глобальной или сеанса|
|**272**|Отключает удостоверение предварительное выделение во избежание пропусков значений столбца идентификаторов в случаях, когда сервер неожиданно перезапускается или при сбое сервера-получателя. Обратите внимание, что кэширование удостоверение используется для повышения производительности INSERT для таблицы со столбцами идентификаторов.<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)], для выполнения этой задачи на уровне базы данных, в описании параметра IDENTITY_CACHE в [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Область**: глобальные только|
|**610**|Элементы управления с минимальным протоколированием вставок в индексированных таблиц. Этот флаг не трассировки требуется минимальное ведение журнала включено по умолчанию для индексированных таблиц запуска SQL Server 2016. В SQL Server 2016 при операции массовой загрузки вызывает новую страницу для выделения всех строк, последовательно заполнения этой новой странице минимально протоколируются если выполняются все другие необходимые условия для минимального протоколирования. По-прежнему полностью протоколируются строк, вставляемых в существующих страниц (не новое размещение страницы), чтобы обеспечить индексном порядке, как строк, перемещенных в результате использования разбиения страниц во время загрузки. Также важно иметь ALLOW_PAGE_LOCKS установлен в ON для индексов (которые включено по умолчанию) для минимальное протоколирование операции будет работать, как страница блокировок во время выделения и тем самым только страницы или регистрируются размещением экстента. Дополнительные сведения см. в разделе [руководство по производительности загрузки данных](https://msdn.microsoft.com/library/dd425070.aspx).<br /><br />**Область**: глобальные или сеанса|
|**634**|Отключает фоновую задачу сжатия columnstore. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]периодически выполняет фоновую задачу кортежей, сжимает группы строк индекса columnstore с несжатыми данными, по одной такой группе строк за раз.<br /><br />Сжатие columnstore позволяет повысить производительность запросов, но при этом потребляются ресурсы системы. Можно управлять временем сжатия columnstore вручную, путем отключения фоновой задачи сжатия с помощью флага трассировки 634 и явного вызова инструкции ALTER INDEX... REORGANIZE и ALTER INDEX... ПЕРЕСТРОЙТЕ во время по своему усмотрению.<br /><br />**Область:** глобального только|
|**652**|Отключает предварительно извлечение просмотров страниц. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/920093).<br /><br />**Область**: глобальные или сеанса|
|**661**|Отключает процесс фантомных записей удаления. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/920093).<br /><br />**Область**: глобальные только|
|**692**|Отключает быстрые операции вставки при массовой загрузке данных в кучу или кластеризованный индекс. Запуск [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], быстрые операции вставки включена по умолчанию, используя минимального протоколирования, когда база данных находится в простой модели или массовом вошедшего в модели восстановления для оптимизации производительности вставки записей, добавленных в новые страницы. С помощью быстрой вставки каждый пакет массовой загрузки получает новый extent(s) обход выделения Поиск существующего экстента с доступное свободное место для оптимизации производительности insert.<br /><br /> С помощью быстрой вставки выполняет массовую загрузку с небольшой пакет размеров может привести к повышенной неиспользуемое пространство, занятой объектами, поэтому рекомендуется использовать большие batchsize для каждого пакета для заполнения области полностью. Если увеличение batchsize не представляется возможным, запрашивать этот traceflag может помочь снизить неиспользуемое пространство, зарезервированное за счет производительности. <br /><br />**Примечание:** флаг трассировки применяется к [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM и более поздней версии сборки.<br /><br />**Область**: глобальные или сеанса|
|**715**|Позволяет блокировку таблицы для операции массовой загрузки в кучу без некластеризованных индексов. Если этот флаг трассировки включен, операции массовой загрузки получить блокировки массового обновления (BU) при выполнении массового копирования данных в таблицу. Блокировки массового обновления (BU) позволяет нескольким потокам параллельно массовой загрузки данных в той же таблице, предотвратить другие процессы, которые не являются массовой загрузки данных, доступ к таблице.<br /><br />Поведение аналогично поведению, когда пользователь явно задает подсказка TABLOCK при выполнении массовой загрузки, или при блокировки sp_tableoption таблицы при массовой загрузке включена для данной таблицы. Тем не менее если этот флаг трассировки включен, это поведение становится по умолчанию без изменения запроса или базы данных.<br /><br />**Область:** глобальной или сеанса|
|**834**|Использует Microsoft Windows больших страниц памяти для буферного пула. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3210239).<br /><br />**Примечание:** Если вы используете функцию индекс Columnstore [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] для [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], мы не рекомендуем включения флага трассировки 834.<br /><br />**Область**: глобальные только|
|**845**|Включает заблокированных страниц на стандартные SKU для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], если учетная запись службы для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] имеет блокировка страниц в памяти прокси-прокси. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/970070) и на странице документации [сервера параметров конфигурации памяти сервера](../../database-engine/configure-windows/server-memory-server-configuration-options.md#lock-pages-in-memory-lpim).<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] эта функция включена по умолчанию для стандартных конфигураций, и флаг трассировки 845 не должны использоваться.<br /><br />**Область**: глобальные только|
|**902**|Пропускает выполнение скрипта обновления базы данных при установке накопительного пакета обновления или пакета обновления. Если возникает ошибка во время скрипт режим обновления, рекомендуется связаться с Microsoft SQL службу технической поддержки (CSS) для дальнейшего вмешательства со стороны. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2163980).<br /><br />**Предупреждение:** этот флаг трассировки предназначен для устранения сбоя обновлений в режиме обновления скрипта, а не поддерживается для постоянной работы в рабочей среде. Обновление базы данных скрипты потребностей, для успешного выполнения для выполнения полной установки накопительных обновлений и пакетов обновления. Не может вызвать непредвиденные проблемы, связанные с вашей [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] экземпляра.<br /><br />**Область**: глобальные только|
|**1117**|Если файл в файловой группе удовлетворяет требованиям порога автоматического увеличения, все файлы в файловой группе расти.<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] это поведение определяется параметром AUTOGROW_SINGLE_FILE и AUTOGROW_ALL_FILES инструкции ALTER DATABASE, а флаг трассировки 1117 не оказывает влияния. Дополнительные сведения см. в разделе [&#40; ALTER DATABASE File и параметры файловых групп Transact-SQL &#41; ](../../t-sql/statements/alter-database-transact-sql-file-and-filegroup-options.md).<br /><br />**Область:** глобального только|
|**1118**|Удаляет большинство одиночных размещений страниц на сервере, уменьшая вероятность конфликтов блокировок на странице SGAM. При создании нового объекта по умолчанию первых восьми страниц выделяются из различных экстентов (Смешанные экстенты). Затем в случае возникновения необходимости увеличения страниц они выделяются из этого же экстента (однородный экстент). Страница SGAM используется для отслеживания таких смешанных экстентов, так как это может быстро стать узким местом, если происходят многочисленные размещения смешанных страниц. Данный флаг трассировки размещает при создании новых объектов все восемь страниц из одного и того же экстента, что сводит к минимуму необходимость сканирования страницы SGAM. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/328551).<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] этот режим управляется параметром ЗАДАТЬ инструкции mixed_page_allocation ALTER DATABASE, а флаг трассировки 1118 не оказывает влияния. Дополнительные сведения см. в разделе [Параметры ALTER DATABASE SET (Transact-SQL)](../../t-sql/statements/alter-database-transact-sql-set-options.md).<br /><br />**Область:** глобального только|  
|**1204**|Возвращает ресурсы и типы блокировки, участвующие во взаимоблокировке и текущую команду, на которую влияет взаимоблокировка. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/832524).<br /><br />**Область:** глобального только|  
|**1211**|Отключает укрупнение блокировки, основанное на слишком активном использовании памяти или на количестве блокировок. Компонент [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] не будет повышать уровень блокировки с блокировки строки или страницы до блокировки таблицы.<br /><br />При использовании этого флага трассировки может быть создано излишнее количество блокировок. Это может привести к снижению производительности компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] или вызвать ошибки 1204 (невозможность выделить блокированный ресурс) из-за недостатка памяти.<br /><br />Если установлены оба флага трассировки 1211 и 1224, то флаг 1211 имеет более высокий приоритет. Однако, так как флаг трассировки 1211 препятствует укрупнению во всех случаях, даже при слишком активном использовании памяти, рекомендуется использовать флаг 1224. Это помогает избежать ошибок «отсутствия блокировок» при использовании большого числа блокировок.<br /><br />**Область**: глобальные или сеанса|  
|**1222**|Возвращает ресурсы и типы блокировок, участвующих во взаимоблокировке, а также текущую команду, на которую влияет взаимоблокировка, в формате XML, не соответствующем ни одной XSD-схеме.<br /><br />**Область**: глобальные только|  
|**1224**|Отключает укрупнение блокировок на основе количества блокировок. Однако слишком активное использование памяти может включить укрупнение блокировок. Компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] укрупняет блокировки строк или страниц до блокировок таблиц (или секций), если объем памяти, используемый блокированными объектами, превышает одно из следующих условий.<br /><br />-Сорок процентов памяти, используемой [!INCLUDE[ssDE](../../includes/ssde-md.md)]. Это применимо, только если **блокировки** параметра хранимой процедуры sp_configure, равным 0.<br />-Сорок процентов памяти блокировки, настроенной с помощью **блокировки** параметр хранимой процедуры sp_configure. Дополнительные сведения см. в статье [Server Configuration Options &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).<br /><br />Если установлены оба флага трассировки 1211 и 1224, то флаг 1211 имеет более высокий приоритет. Однако, так как флаг трассировки 1211 препятствует укрупнению во всех случаях, даже при слишком активном использовании памяти, рекомендуется использовать флаг 1224. Это помогает избежать ошибок «отсутствия блокировок» при использовании большого числа блокировок.<br /><br />**Примечание:** укрупнение блокировки уровня таблицы или HoBT уровне гранулярности можно также управлять с помощью параметра LOCK_ESCALATION [ALTER TABLE](../../t-sql/statements/alter-table-transact-sql.md) инструкции.<br /><br />**Область:** глобальной или сеанса|
|**1236**|Включает секционирование блокировок базы данных. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2926217).<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 и [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1, этот режим управляется параметром флага трассировки ядра 1236 не оказывает влияния.<br /><br />**Область**: глобальные только|
|**1237**|Позволяет соблюдать приоритет взаимоблокировки текущего сеанса, определяемого пользователем, а не в качестве жертвы взаимоблокировки, скорее всего, по умолчанию для инструкции ALTER PARTITION FUNCTION. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/help/4025261).<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQLv14](../../includes/sssqlv14-md.md)] и базы данных [уровень совместимости](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) 140 это поведение по умолчанию, и флаг трассировки 1237 не оказывает влияния.<br /><br />**Область**: глобальные или сеанса, или запроса|
|**1260**|Отключите монитор дампы планировщика.<br /><br />**Область**: глобальные только|   
|**1448**|Разрешает средству чтения журнала репликации перемещаться вперед даже в том случае, если асинхронные вторичные реплики не подтвердили получение изменения. Средство чтения журнала всегда ожидает синхронные вторичные реплики, даже если установлен флаг трассировки. Средство чтения журнала не будет превышать минимальное время ожидания для синхронных вторичных реплик. Флаг трассировки применяется к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], а не только к группе доступности, базе данных доступности или экземпляру средства чтения журнала. Вступает в силу немедленно без перезагрузки. Этот флаг трассировки не может быть активирован раньше времени или при сбое асинхронной вторичной реплики. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/937041).<br /><br />**Область**: глобальные только|   
|**1462**|Отключает сжатие журнала потока для групп доступности с асинхронной. Эта функция включена по умолчанию для группы доступности с асинхронной для оптимизации пропускной способности сети. Дополнительные сведения см. в разделе [Tune compression for availability group](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md)(Настройка сжатия для группы доступности).<br /><br />**Область**: глобальные только| 
|**1800**|Включает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] оптимизации при использовании дисков размера сектора для файлов журнала для первичной и вторичной реплики в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] средах для AlwaysOn и доставка журналов. Этот флаг трассировки только необходимые включен на экземплярах SQL Server с помощью файла журнала транзакций, которая находится на диске с размером сектора 512 байт. Это **не** требуется включенный на этом диске с размером сектора 4 КБ. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3009974).<br /><br />**Область:** глобального только|
|**2301**|Включите оптимизацию поддержки дополнительных принятия решений. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/920093).<br /><br />**Область**: глобальные и сеансов и запросов|
|**2312**|Можно задать модель оценки кратности оптимизатора запросов [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] через [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] версий, зависимые от уровня совместимости базы данных. Дополнительные сведения см. в разделе [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2801413).<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, для выполнения этой задачи на уровне запроса, добавить ПОДСКАЗКУ используйте «FORCE_DEFAULT_CARDINALITY_ESTIMATION» [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) вместо этого флага трассировки.<br /><br />**Область**: глобальные или сеанса, или запроса| 
|**2335**|Вызывает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предположить фиксированный объем памяти доступен во время оптимизации запроса. Не ограничивает объем памяти [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предоставляет для выполнения запроса. Памяти, настроенной для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] будет по-прежнему использоваться кэш данных, выполнения запросов и другим потребителям. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2413549).<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальные или сеанса, или запроса|
|**2340**|Вызывает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] отказаться от использования операция сортировки (пакета сортировка) для оптимизированной вложенного цикла соединения, при формировании плана. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2009160).<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, для выполнения этой задачи на уровне запроса, добавить ПОДСКАЗКУ используйте «DISABLE_OPTIMIZED_NESTED_LOOP» [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) вместо этого флага трассировки.<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальные или сеанса, или запроса|
|**2371**|Изменяет пороговое значение динамического автоматического обновления статистики порогового значения основных автоматического обновления статистики. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2754171).<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] и в разделе [уровень совместимости базы данных](../../relational-databases/databases/view-or-change-the-compatibility-level-of-a-database.md) 130, это поведение определяется обработчиком и флаг трассировки 2371 не оказывает влияния.<br /><br />**Область**: глобальные только|
|**2389**|Включить автоматическое создание быстрого статистики для сортировки по возрастанию ключи (поправка гистограммы). Если задан флаг трассировки 2389 начальном столбце статистики помечен как по возрастанию, гистограммы, используемое для оценки количества элементов будет изменен во время компиляции запроса. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2801413).<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Примечание:** этот флаг трассировки не применяется CE, версия 120 или более поздней версии. Используйте флаг трассировки 4139.<br /><br />**Область**: глобальные или сеанса, или запроса|
|**2390**|Включить автоматическое создание быстрого статистические данные по возрастанию или неизвестных ключей (поправка гистограммы). Если задан флаг трассировки 2390 начальном столбце статистики, помечается как по возрастанию или неизвестно, гистограммы, используемое для оценки количества элементов будет изменен во время компиляции запроса. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2801413).<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Примечание:** этот флаг трассировки не применяется CE, версия 120 или более поздней версии. Используйте флаг трассировки 4139.<br /><br />**Область**: глобальные или сеанса, или запроса|
|**2422**|Позволяет [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] прервать запрос, если превышено максимальное время установки конфигурации регулятора ресурсов REQUEST_MAX_CPU_TIME_SEC. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/help/4038419).<br /><br />**Примечание:** флаг трассировки применяется к [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU3 и более поздней версии сборки.<br /><br />**Область**: глобальные|
|**2430**|Включает альтернативные очистки класса блокировки. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2754301).<br /><br />**Область**: глобальные только| 
|**2453**|Позволяет табличная переменная для запуска recompile при изменении достаточно количество строк. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2952444).<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальные или сеанса, или запроса|
|**2528**|Отключает параллельную проверку объектов с помощью инструкций DBCC CHECKDB, DBCC CHECKFILEGROUP и DBCC CHECKTABLE. По умолчанию степень параллелизма определяется обработчиком запросов автоматически. Максимальная степень параллелизма настраивается так же, как и параллельные запросы. Дополнительные сведения см. в разделе [Настройка параметра конфигурации сервера max degree of parallelism](../../database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option.md).<br /><br />**Примечание:** параллельные DBCC проверяет обычно должно быть включено (по умолчанию). Обработчик запросов повторно оценивает и автоматически корректирует параллелизм для каждой таблицы или пакете таблиц проверены с помощью инструкции DBCC CHECKDB.<br /><br />Типичное применение случай — когда системный администратор знает, учтите, что увеличивает нагрузку на сервер, прежде чем инструкции DBCC CHECKDB завершится и таким образом выбирает вручную уменьшить или отключить параллелизм, для увеличения параллелизма с рабочей нагрузкой других пользователей. Однако отключение параллельной проверки в инструкции DBCC CHECKDB может вызвать занимают больше времени.<br /><br />**Примечание:** Если DBCC CHECKDB выполняется при помощи параметра TABLOCK, а параллелизм отключен, таблицы могут оказаться заблокированными на длительные периоды времени.<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2, параметр MAXDOP доступен для переопределения параметра max degree of parallelism, параметр конфигурации хранимой процедуры sp_configure для инструкции.<br /><br />**Область**: глобальные или сеанса|
|**2549**|Выполняется инструкция DBCC CHECKDB команды при условии, что каждый файл базы данных находится на уникальный дисковый накопитель. Команды DBCC CHECKDB выполняет построение внутренний список страниц для чтения на одном физическом диске, уникальный во всех файлах базы данных. Эта логика определяет уникальный дисков основании букву каждого файла имя физического файла.<br /><br />**Примечание:** не используют этот флаг трассировки, если известно, что каждый файл основана на уникальный физического диска.<br /><br />**Примечание:** несмотря на то, что этот флаг трассировки повышения производительности, использование параметра PHYSICAL_ONLY какие цели команды DBCC CHECKDB, некоторые пользователи могут видеть все улучшения производительности. Хотя этот флаг трассировки улучшает использование ресурсов дискового ввода-вывода, базовой производительности дисковых ресурсов может влиять на общую производительность команды DBCC CHECKDB. Дополнительные сведения см. в разделе [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2634571).<br /><br />**Область**: глобальные только| 
|**2562**|Выполняет команду DBCC CHECKDB в единый «пакет» независимо от количества индексов в базе данных. По умолчанию инструкция DBCC CHECKDB пытается свести к минимуму ресурсы базы данных tempdb, ограничивая количество индексов или «факты», создается с помощью понятие «пакеты». Этот флаг трассировки принудительно всю обработку в один пакет.<br /><br />Один с помощью этого флага трассировки действует так, может увеличить пространство, необходимое для базы данных tempdb. База данных tempdb может увеличиваться до 5% или более пользовательской базы данных, которые обрабатываются с помощью команды DBCC CHECKDB.<br /><br />**Примечание:** несмотря на то, что этот флаг трассировки повышения производительности, использование параметра PHYSICAL_ONLY какие цели команды DBCC CHECKDB, некоторые пользователи могут видеть все улучшения производительности. Хотя этот флаг трассировки улучшает использование ресурсов дискового ввода-вывода, базовой производительности дисковых ресурсов может влиять на общую производительность команды DBCC CHECKDB. Дополнительные сведения см. в разделе [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2634571).<br /><br />**Область**: глобальные только|
|**2566**|Выполняется инструкция DBCC CHECKDB без проверка чистоты данных, если не указан параметр DATA_PURITY.<br /><br />**Примечание:** проверяет целостность данных в столбцах по умолчанию включены и не требуется указывать параметр DATA_PURITY. Для баз данных, обновленных из предыдущих версий SQL Server проверки столбцов значений не включены по умолчанию, пока инструкция DBCC CHECKDB WITH DATA_PURITY была выполнена без ошибок в базе данных хотя бы один раз. После этого инструкция DBCC CHECKDB проверяет целостность данных в столбцах по умолчанию. Дополнительные сведения см. в разделе [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/945770).<br /><br />**Область**: глобальные только|
|**3023**|Включает параметр CHECKSUM, по умолчанию для команды BACKUP. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2656988).<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] это поведение управляется параметрами **резервного копирования по умолчанию контрольной суммы** параметра конфигурации. Дополнительные сведения см. в статье [Server Configuration Options &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).<br /><br />**Область**: глобальные и сеанса|
|**3042**|Обходит используемый по умолчанию алгоритм сжатия резервных копий с предварительным выделением места на диске, чтобы файл резервной копии увеличивался до своего конечного размера по мере необходимости. Этот флаг трассировки полезен для экономии пространства, так как выделяется только фактическое пространство, необходимое для резервной копии со сжатием. Но при этом его использование может немного снизить производительность (повысится продолжительность операции резервного копирования). Дополнительные сведения об алгоритме предварительного выделения памяти см. в разделе [сжатие резервных копий файлов &#40; SQL Server &#41; ](../../relational-databases/backup-restore/backup-compression-sql-server.md).<br /><br />**Область**: глобальные только|
|**3051**|Позволяет SQL Server Backup to URL-адрес, ведение журнала в файл журнала об ошибке. Дополнительные сведения см. в разделе [SQL Server Backup to URL Best Practices and Troubleshooting](../../relational-databases/backup-restore/sql-server-backup-to-url-best-practices-and-troubleshooting.md).<br /><br />**Область**: глобальные только|  
|**3205**|По умолчанию инструкция DUMP или BACKUP использует аппаратное сжатие для накопителей на магнитной ленте, поддерживающих этот режим. С помощью этого флага трассировки можно отменить аппаратное сжатие для накопителей на магнитной ленте. Это полезно, если нужно обмениваться лентами с другими рабочими местами или накопителями на магнитной ленте.<br /><br />**Область**: глобальные или сеанса|  
|**3226**|По умолчанию каждая успешная операция резервного копирования добавляет запись в журнал ошибок служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и в журнал системных событий. При создании резервных копий журналов достаточно большим, эти сообщения об успешном завершении накапливаются очень быстро, приведет к увеличению журналов ошибок в какой поиск других сообщений, затруднительно.<br /><br />С помощью этого флага трассировки можно подавить такие записи журнала. Это может быть полезным при частом выполнении резервного копирования журнала и в случае, если ни один из используемых скриптов не зависит от этих записей.<br /><br />**Область**: глобальные только|   
|**3427**|Позволяет решить проблемы, когда много последовательных транзакций, вставка данных в temp в таблицу [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] потребляют больше ресурсов ЦП, чем в [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Дополнительные сведения см. в разделе [статья службы поддержки Майкрософт](http://support.microsoft.com/help/3216543)<br /><br />**Область**: глобальные только|  
|**3608**|Предотвращает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] автоматически запускать и восстанавливать любые базы данных, за исключением **master** базы данных. Если на действий, которые требуют **tempdb** инициируются, затем **модель** восстанавливается и **tempdb** создается. Другие базы данных будут запущены и восстановлены при открытии. Могут не работать некоторые функции, например изоляция моментального снимка и изоляция зафиксированной операции чтения с моментальным снимком. Используйте для [перемещение системных баз данных](../../relational-databases/databases/move-system-databases.md) и [перемещение пользовательских баз данных](../../relational-databases/databases/move-user-databases.md).<br /><br />**Примечание:** не следует использовать во время обычной работы.<br /><br />**Область**: глобальные только|   
|**3625**|Ограничивает объем сведений, возвращаемых для пользователей, которые не являются членами фиксированной серверной роли sysadmin, маскируя параметры некоторых сообщений об ошибках с помощью "\*\*\*\*\*\*". Это поможет предотвратить раскрытие конфиденциальных сведений.<br /><br />**Область**: глобальные только|  
|**4136**|Отключает сканирование пока параметров OPTION(RECOMPILE), WITH RECOMPILE или ОПТИМИЗИРОВАТЬ для \<значение > используется. Дополнительные сведения см. в разделе [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/980653). Для выполнения этой задачи на уровне базы данных, в описании параметра PARAMETER_SNIFFING в [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md). Для выполнения этой задачи на уровне запроса, добавьте OPTIMIZE FOR UNKNOWN [указание запроса](../../t-sql/queries/hints-transact-sql-query.md). Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1, второй вариант для выполнения этой задачи на уровне запроса — добавить ПОДСКАЗКУ используйте «PARAMETER_SNIFFING» [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) вместо этого флага трассировки.<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальные или сеанса|  
|**4137**|Вызывает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для формирования плана с помощью минимального избирательность при оценке и предикаты фильтров для учетной записи для корреляции в модель оценки кратности оптимизатора запросов из [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и более ранних версий. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2658214).<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, для выполнения этой задачи на уровне запроса, добавить ПОДСКАЗКУ используйте «ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES» [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) вместо того чтобы использовать этот флаг трассировки при использовании CE прежних версий.<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Примечание:** этот флаг трассировки не применяется CE, версия 120 или более поздней версии. Используйте флаг трассировки 9471.<br /><br />**Область**: глобальные или сеанса, или запроса| 
|**4138**|Вызывает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для формирования плана, который не использует корректировки цель строки с помощью запросов, содержащих предложение TOP, OPTION (FAST N), или СУЩЕСТВУЕТ ключевые слова. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2667211).<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, для выполнения этой задачи на уровне запроса, добавить ПОДСКАЗКУ используйте «DISABLE_OPTIMIZER_ROWGOAL» [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) вместо этого флага трассировки.<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальные или сеанса, или запроса| 
|**4139**|Включить автоматическое создание быстрого статистики (гистограммы поправка) независимо от состояния ключевого столбца. Если установлен флаг трассировки 4139, независимо от начальные состояния столбец статистики (по возрастанию, по убыванию или бланк), гистограммы, используемое для оценки количества элементов будет изменен во время компиляции запроса. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2952101).<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, для выполнения этой задачи на уровне запроса, добавить ПОДСКАЗКУ используйте «ENABLE_HIST_AMENDMENT_FOR_ASC_KEYS» [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) вместо этого флага трассировки.<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Примечание:** этот флаг трассировки не применяется к CE версии 70. Вместо этого используйте флаги трассировки 2389 и 2390.<br /><br />**Область**: глобальные или сеанса, или запроса|
|**4199**|<a name="4199"></a>Позволяет запросу изменения в оптимизаторе (QO) выпущены в виде [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] накопительные пакеты обновления и пакеты обновления.<br /><br />QO изменения, внесенные в предыдущих версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] включены по умолчанию в базе данных последние [уровень совместимости](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) в выпуске данного продукта без трассировки флаг 4199 включена.<br /><br />В следующей таблице перечислены поведение при использовании уровней совместимости конкретной базы данных и флагом трассировки 4199. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/974006).<br /><br /><table border="1" frame="void" width="550"><tr valign="middle" align="center"><td>**Уровень совместимости базы данных**</td><td>**TF 4199**</td><td>**Изменяет QO из предыдущих уровней совместимости базы данных**</td><td>**QO изменения для текущей версии RTM post**</td></tr><tr valign="middle" align="center"><td rowspan="2">**от 100 до 120**</td><td>Выкл.</td><td>Выключено</td><td>Выключено</td></tr><tr valign="middle" align="center"><td>Вкл.</td><td>Включено</td><td>Включено</td></tr><tr valign="middle" align="center"><td rowspan="2">**130**</td><td>Выкл.</td><td>Включено</td><td>Выключено</td></tr><tr valign="middle" align="center"><td>Вкл.</td><td>Включено</td><td>Включено</td></tr><tr valign="middle" align="center"><td rowspan="2">**140**</td><td>Выкл.</td><td>Включено</td><td>Выключено</td></tr><tr valign="middle" align="center"><td>Вкл.</td><td>Включено</td><td>Включено</td></tr></table><br /><br />Для выполнения этой задачи на уровне базы данных, в описании параметра QUERY_OPTIMIZER_HOTFIXES в [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, для выполнения этой задачи на уровне запроса, добавить ПОДСКАЗКУ используйте «ENABLE_QUERY_OPTIMIZER_HOTFIXES» [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) вместо этого флага трассировки.<br /><br />**Область**: глобальные или сеанса, или запроса|
|**4610**|Увеличивает размер хэш-таблицы, в котором хранятся записи кэша с коэффициентом 8. При использовании вместе с флагом трассировки 4618 увеличивает количество записей в хранилище кэша TokenAndPermUserStore 8192. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/959823).<br /><br />**Область:** глобального только|
|**4616**|Делает метаданные уровня сервера видимыми ролям приложений. В [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] роль приложения не может получать доступ к метаданным за пределами собственной базы данных, так как роли приложений не связаны с участником уровня сервера. Это поведение было изменено по сравнению с предыдущими версиями [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Установка этого глобального флага отключает новые ограничения и позволяет ролям приложений получать доступ к метаданным уровня сервера.<br /><br />**Область**: глобальные только|
|**4618**|Ограничения число записей в кэше TokenAndPermUserStore хранить до 1024. При использовании вместе с флагом трассировки 4610 увеличивает количество записей в хранилище кэша TokenAndPermUserStore 8192. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/959823).<br /><br />**Область:** глобального только|
|**5004**|Приостанавливает Прозрачного шифрования данных сканирования и вызывает рабочий поток шифрования сканирования выйти без выполнения действий. База данных останется в шифровании состояние (выполняется шифрование). Чтобы возобновить просмотр повторное шифрование, отключите флаг трассировки 5004 и выполнения инструкции ALTER DATABASE < имя_базы_данных > SET ON ШИФРОВАНИЯ. <br /><br />**Область:** глобального только|
|**6498**|Включает более одного большого запроса компиляцию для получения доступа к большого шлюза, при наличии достаточного объема памяти. Он основан на 80 процент памяти целевого SQL Server и позволяет одна компиляция большого запроса на 25 гигабайт (ГБ) памяти. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3024815).<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 и [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] это поведение определяется обработчиком и флаг трассировки 6498 не оказывает влияния.<br /><br />**Область**: глобальные только|
|**6527**|Отключается создание дампа памяти при первом возникновении исключения «Нехватка памяти» при интеграции со средой CLR. По умолчанию [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] создает небольшой дамп памяти при первом возникновении исключения нехватки памяти в среде CLR. Режим работы флага трассировки следующий.<br /><br />— Если оно используется как флаг трассировки при запуске, то дамп памяти никогда не создается. Однако если используются другие флаги трассировки, то дамп памяти может быть создан.<br />— Если этот флаг трассировки включен на работающем сервере, то дамп памяти создаваться не будет автоматически из этой точки на. Однако если дамп памяти был уже создан из-за возникновения исключения, связанного с нехваткой памяти, в CLR, то этот флаг трассировки никак не повлияет на работу системы.<br /><br />**Область**: глобальные только|
|**6532**|Включает улучшения производительности операций запросов с типами пространственных данных в [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Рост производительности зависит от конфигурации, типы запросов и объектов. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3107399).<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] это поведение определяется обработчиком и флаг трассировки 6532 не оказывает влияния.<br /><br />**Область**: глобальные и сеанса|
|**6533**|Включает улучшения производительности операций запросов с типами пространственных данных в [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Рост производительности зависит от конфигурации, типы запросов и объектов. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3107399).<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] это поведение определяется обработчиком и флаг трассировки 6533 не оказывает влияния.<br /><br />**Область**: глобальные и сеанса| 
|**6534**|Включает улучшения производительности операций запросов с типами пространственных данных в [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] и [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Рост производительности зависит от конфигурации, типы запросов и объектов. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3107399).<br /><br />**Область**: глобальные и сеанса|
|**7314**|Принудительно начинает ЧИСЛОВЫЕ значения с Неизвестный точность или шкала рассматриваться как значения типа double с поставщиком OLE DB. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3051993).<br /><br />**Область**: глобальные и сеанса|  
|**7412**|Включает статистику выполнения упрощенных запросов, инфраструктуры профилирования. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3170113).<br /><br />**Область**: глобальные только|
|**7471**|Допускает запуск нескольких [обновление СТАТИСТИКИ](../../t-sql/statements/update-statistics-transact-sql.md) для разных статистики на одной таблице одновременно. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3156157).<br /><br />**Область**: глобальные только|
|**7745**|Хранилище запросов принудительно не записями данных на диск при завершении работы базы данных.<br /><br />**Примечание:** использование Эта трассировка может привести к ранее не записаны на диск, будут потеряны в случае завершения работы данных в хранилище запросов. Для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] завершение команды SHUTDOWN WITH NOWAIT вместо этого флага трассировки может использоваться для принудительного немедленного завершения работы.<br /><br />**Область**: глобальные только|
|**7752**|Позволяет асинхронной загрузки хранилища запросов.<br /><br />**Примечание:** используйте этот флаг трассировки, если [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] наблюдается большое количество QDS_LOADDB ожиданий, связанных с синхронной загрузки хранилища запросов (по умолчанию).<br /><br />**Область**: глобальные только|
|**7806**|Включает применение выделенных административных соединений (DAC) в [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. По умолчанию ресурсы приложения уровня данных не зарезервированы в [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Дополнительные сведения см. в разделе [Диагностическое соединение для администраторов баз данных](../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).<br /><br />**Область**: глобальные только|  
|**8011**|Отключите кольцевого буфера для монитора ресурсов. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/920093).<br /><br />**Область**: глобальные и сеанса|
|**8012**|Отключите кольцевого буфера для планировщиков. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/920093).<br /><br />**Область**: глобальные только|
|**8015**|Отключение автоматического обнаружения и установки NUMA. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2813214).<br /><br />**Область**: глобальные только|
|**8018**|Отключите исключения кольцевого буфера. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/920093).<br /><br />**Область**: глобальные только|
|**8019**|Отключите сбор данных стека для исключения кольцевого буфера. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/920093).<br /><br />**Область**: глобальные только|
|**8020**|Отключите мониторинг рабочего набора. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/920093).<br /><br />**Область**: глобальные только|
|**8032**|Восстанавливает параметры предела кэша до значения в RTM-версии [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], что обычно позволяет увеличить размер кэша. Используйте этот параметр, если часто используемые повторно элементы кэша не помещаются в кэш и в [optimize for ad hoc workloads Server Configuration Option](../../database-engine/configure-windows/optimize-for-ad-hoc-workloads-server-configuration-option.md) не удалось разрешить эту проблему с помощью кэша планов.<br /><br />**Предупреждение:** флага трассировки 8032 может привести к снижению производительности, если большие кэши сделать меньше памяти, доступной для других потребителей памяти, например для буферного пула.<br /><br />**Область**: глобальные только|   
|**8048**|Преобразует NUMA секционированных объектов памяти в секционированные ЦП. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2809338).<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 и [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] это поведение определяется обработчиком и флаг трассировки 8048 не оказывает влияния.<br /><br />**Область**: глобальные только|  
|**8079**|Позволяет [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с пакетом обновления 2 для опроса макета оборудования и автоматической настройки программной архитектуры NUMA в системах reporting 8 и более процессоров на узел NUMA. Автоматический режим программной архитектуры NUMA — учитывать Hyperthread (HT или логическим процессором). Секционирование и создание дополнительных узлов шкал фоновой обработки, увеличив число прослушивателей, масштабирование и сети и возможности шифрования.<br /><br />**Примечание:** флаг трассировки применяется к [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2. Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] это поведение определяется обработчиком и флаг трассировки 8048 не оказывает влияния.<br /><br />**Область**: глобальные только| 
|**8207**|Включает одноэлементные обновления для репликации транзакций. Обновления для подписчиков можно реплицировать как пара DELETE и INSERT. Это может не удовлетворять бизнес-правила, например, срабатывание триггера UPDATE. С флагом трассировки 8207 обновление в уникальном столбце, затрагивающее только одну строку (одноэлементное обновление) реплицируется как обновление, а не как пара DELETE или INSERT. Если обновление затрагивает столбец, на котором имеется ограничение unique или обновления, влияющий на несколько строк, обновление будет реплицировано как пара DELETE или INSERT. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/302341).<br /><br />**Область**: глобальные только|
|**8721**|Отчеты в журнал ошибок при выполнении автоматического обновления статистики. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/195565).<br /><br />**Область**: глобальные только|
|**8744**|Отключите предварительную загрузку для вложенных циклов оператора. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/920093).<br /><br />**Примечание:** неправильное использование этого флага трассировки может привести к дополнительной физических операций чтения, когда [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выполняет планы, которые содержат оператор Nested Loops.<br /><br />**Область**: глобальные и сеанса|
|**9024**|Преобразует объект журнала глобального пула памяти в объект памяти узла NUMA. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2809338).<br /><br />**Примечание:** начиная с [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 и [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1, этот режим управляется параметром флага трассировки ядра 9024 не оказывает влияния.<br /><br />**Область**: глобальные только|
|**9347**|Отключает пакетного режима для оператор sort. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]появились новые пакетного режима оператор sort, повышает производительность для многих аналитических запросов. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3172787).<br /><br />**Область**: глобальные или сеанса, или запроса|
|**9349**|Отключает пакетного режима для top N sort, оператор. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]появились новые пакетного режима top оператор sort, повышает производительность для многих аналитических запросов.<br /><br />**Область**: глобальные или сеанса, или запроса|
|**9389**|Включает предоставление динамической памяти для операторы пакетного режима. Если запрос не возвращает всю память, которые необходимы, он сбрасывает данные в базу данных tempdb, требуя дополнительных операций ввода-вывода и потенциально влияет на производительность запроса. Если включен флаг трассировки grant динамической памяти, оператор пакетного режима может запросить дополнительную память и избежать перенос базы данных tempdb, если будет доступной дополнительной памяти.<br /><br />**Область**: глобальные или сеанса| 
|**9453**|Отключает режим выполнения пакета. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/help/4016902).<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область:** глобальные и сеансов и запросов|
|**9471**|Вызывает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для формирования плана с помощью минимального избирательность для одной таблицы фильтров, в разделе модель оценки кратности оптимизатора запросов из [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] через [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] версии.<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, для выполнения этой задачи на уровне запроса, добавить ПОДСКАЗКУ используйте «ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES» [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) вместо этого флага трассировки.<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Примечание:** этот флаг трассировки не применяется к CE версии 70. Используйте флаг трассировки 4137.<br /><br />**Область**: глобальные или сеанса, или запроса| 
|**9476**|Вызывает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для формирования плана вместо допущения вложенности допущения автономности базы по умолчанию, в разделе модель оценки кратности оптимизатора запросов из [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] через [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] версии. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3189675).<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, для выполнения этой задачи на уровне запроса, добавить ПОДСКАЗКУ используйте «ASSUME_JOIN_PREDICATE_DEPENDS_ON_FILTERS» [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) вместо этого флага трассировки.<br /><br />**Примечание:** убедитесь тщательно протестировать этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальные или сеанса, или запроса| 
|**9481**|Можно задать модель оценки кратности оптимизатора запросов [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и более ранних версий, независимо от того, уровень совместимости базы данных. Дополнительные сведения см. в разделе [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/2801413). Для выполнения этой задачи на уровне базы данных, в описании параметра LEGACY_CARDINALITY_ESTIMATION в [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, для выполнения этой задачи на уровне запроса, добавить ПОДСКАЗКУ используйте «FORCE_LEGACY_CARDINALITY_ESTIMATION» [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) вместо этого флага трассировки.<br /><br />**Область**: глобальные или сеанса, или запроса|  
|**9485**|Запрет разрешения SELECT для DBCC SHOW_STATISTICS.<br /><br />**Область**: глобальные только|
|**9488**|Задает основных оценки для функции с табличными значениями по умолчанию 1 (соответствующее значение по умолчанию в разделе модель оценки кратности оптимизатора запросов из [!INCLUDE[ssKilimanjaro](../../includes/ssKilimanjaro-md.md)] и более ранних версий), при использовании модель оценки кратности оптимизатора запросов из [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] через [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] версии.<br /><br />**Область**: глобальные или сеанса, или запроса|
|**9495**|Отключает параллелизма во время вставки для инструкции INSERT... Операций ВЫБОРА и она применяется для пользователей и временных таблиц. Дополнительные сведения см. в разделе [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/3180087)<br /><br />**Область**: глобальные или сеанса| 
|**9567**|Включает сжатие потока данных для группы доступности AlwaysOn во время автоматического заполнения. Сжатие может значительно сократить время передачи во время автоматического заполнения и приведет к увеличению нагрузки на процессор. Дополнительные сведения см. в разделе [Автоматическая инициализация группы доступности Always On](../../database-engine/availability-groups/windows/automatically-initialize-always-on-availability-group.md) и [Настройка сжатия для группы доступности](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Область**: глобальные или сеанса|
|**9591**|Отключает сжатие блока журнала в группы доступности AlwaysOn. Сжатие блока журнала — поведение по умолчанию, используемое с синхронные и асинхронные реплики в [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. В [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], сжатие используется только с асинхронной реплики. <br /><br />**Область**: глобальные или сеанса|
|**9592**|Включает сжатие журнала потока для групп доступности синхронной. Эта функция отключена по умолчанию для группы доступности синхронной, поскольку сжатие приводит к увеличению задержки. Дополнительные сведения см. в разделе [Tune compression for availability group](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md)(Настройка сжатия для группы доступности).<br /><br />**Область**: глобальные или сеанса| 
|**9939**|Включает параллельные планы и параллельное сканирование оптимизированной для памяти таблицы и табличные переменные в операции DML, которые ссылаются на оптимизированные для памяти таблиц или табличных переменных, при условии, что они не являются целевой объект операции DML в [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/4013877).<br /><br />**Примечание:** флаг трассировки 9939 не требуется, если флаг трассировки 4199 явным образом включен.<br /><br />**Область**: глобальные или сеанса, или запроса|   
|**10204**|Отключает слияния и повторного сжатия во время реорганизации индекса columnstore. В [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]при реорганизации индекса columnstore есть новые функции для автоматического слияния небольших сжатые группы строк в больших сжатые группы строк, а также как сжатия все группы строк, имеющих большое количество удаленных строк.<br /><br />**Примечание:** флаг трассировки 10204 не применяется к индексам columnstore, которые создаются в таблицах, оптимизированных для памяти.<br /><br />**Область**: глобальные или сеанса|   
|**10316**|Включает создание дополнительных индексов на [внутренней памяти оптимизированная промежуточной таблица](../../relational-databases/tables/system-versioned-temporal-tables-with-memory-optimized-tables.md), рядом с по умолчанию. Если у вас есть шаблон конкретного запроса, который включает в себя столбцы, которые не затрагиваются в индекс по умолчанию можно добавлять дополнительные задания.<br /><br />**Примечание:** с системным управлением версиями временных таблиц для таблиц, оптимизированных для памяти призваны обеспечить высокую скорость обработки транзакций. Имейте в виду, что создание дополнительных индексов может вызвать издержки для операций DML, которые обновляют или удаляют строки в текущей таблице. Дополнительные индексы должны сможет найти правильный баланс между производительностью темпоральные запросы и дополнительные издержки DML.<br /><br />**Область**: глобальные или сеанса|
|**11023**|Отключает использование последнего сохраненного дискретизации, все обновление последующих статистики, где для частоты выборки не указан явно, как часть [инструкции UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md) инструкции. Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/4039284).<br /><br />**Область**: глобальные|    
|**11024**|Включает запуска автоматическое обновление статистики, когда счетчик изменения любого раздела превышает локальной [пороговое значение](../../relational-databases/statistics/statistics.md#AutoUpdateStats). Дополнительные сведения см. в этой [статья службы поддержки Майкрософт](http://support.microsoft.com/kb/4041811).<br /><br />**Область**: глобальные| 
  
## <a name="remarks"></a>Remarks  
 В [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], существует три типа флагов трассировки: запрос, сеанса и глобальные. Флаги трассировки запроса активны в контексте конкретного запроса. Флаги трассировки сеанса действуют во время данного соединения и доступны только для этого соединения. Глобальные флаги трассировки устанавливаются на уровне сервера и доступны для каждого соединения с этим сервером. Некоторые флаги могут быть включены только как глобальные, а некоторые и как глобальные, и как для сеанса.  
  
 Применяются следующие правила.  
-   Глобальный флаг трассировки должен быть включен глобально. В противном случае, флаг трассировки не повлияет на работу сервера. Мы рекомендуем включить глобальные флаги трассировки во время запуска с помощью **-T** параметр командной строки. Это гарантирует, что флаг трассировки остается активным после перезапуска сервера.  
-   Если флаг трассировки либо глобального, областью определения session или запрос, его можно включить с соответствующей областью. Флаг трассировки, включенный на уровне сеанса, никогда не влияет на другой сеанс, и действие флага трассировки прекращается, если SPID, открывший сеанс, выполняет выход.  
  
Флаги трассировки устанавливаются и снимаются с помощью любого из следующих методов:
-   Использование команд DBCC TRACEON и DBCC TRACEOFF.  
     Например, чтобы включить флаг трассировки 2528 глобально, используйте [DBCC TRACEON](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md) с аргументом-1: `DBCC TRACEON (2528, -1)`. Результат использования глобальный флаг трассировки с помощью DBCC TRACEON теряются при перезапуске сервера. Чтобы отключить глобальный флаг трассировки, используйте [DBCC TRACEOFF](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md) с аргументом-1.  
-   С помощью **-T** параметр запуска, чтобы указать, включен флаг трассировки во время запуска.  
     **-T** параметр запуска включает флаг трассировки глобально. Невозможно включить флаг трассировки уровня сеанса с помощью параметра запуска. Это гарантирует, что флаг трассировки остается активным после перезапуска сервера. Дополнительные сведения о параметрах запуска см. в разделе [Параметры запуска службы Database Engine](../../database-engine/configure-windows/database-engine-service-startup-options.md).
-   На уровне запроса, с помощью QUERYTRACEON [указание запроса](http://support.microsoft.com/kb/2801413).
  
Используйте `DBCC TRACESTATUS` команду, чтобы определить, какие флаги трассировки активны в данный момент.
  
## <a name="examples"></a>Примеры  
 В следующем примере флаг трассировки 3205 на для всех сеансов на уровне сервера с помощью DBCC TRACEON.  
  
```sql  
DBCC TRACEON (3205,-1);  
```

Можно включить все исправления влияющих на план, контролируются флаги трассировки 4199 и 4137 для конкретного запроса.
  
```sql
SELECT x FROM correlated WHERE f1 = 0 AND f2 = 1 OPTION (QUERYTRACEON 4199, QUERYTRACEON 4137)
``` 
 
## <a name="see-also"></a>См. также  
[Типы данных (Transact-SQL)](../../t-sql/data-types/data-types-transact-sql.md)  
[DBCC INPUTBUFFER (Transact-SQL)](../../t-sql/database-console-commands/dbcc-inputbuffer-transact-sql.md)  
[DBCC OUTPUTBUFFER &#40; Transact-SQL &#41;](../../t-sql/database-console-commands/dbcc-outputbuffer-transact-sql.md)  
[DBCC TRACEOFF (Transact-SQL)](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md)  
[DBCC TRACEON (Transact-SQL)](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md)  
[Инструкция DBCC TRACESTATUS &#40; Transact-SQL &#41;](../../t-sql/database-console-commands/dbcc-tracestatus-transact-sql.md)  
[EXECUTE (Transact-SQL)](../../t-sql/language-elements/execute-transact-sql.md)  
[SELECT (Transact-SQL)](../../t-sql/queries/select-transact-sql.md)  
[SET NOCOUNT &#40; Transact-SQL &#41;](../../t-sql/statements/set-nocount-transact-sql.md)  
[Параметры ALTER DATABASE SET (Transact-SQL)](../../t-sql/statements/alter-database-transact-sql-set-options.md)  
[ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md)  
[Указания запросов (Transact-SQL)](../../t-sql/queries/hints-transact-sql-query.md)

