---
title: Известные проблемы в данной версии драйвера для SQL Server | Документация Майкрософт
ms.custom: ''
ms.date: 02/14/2018
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.suite: sql
ms.technology: connectivity
ms.tgt_pltfrm: ''
ms.topic: conceptual
helpviewer_keywords:
- known issues
caps.latest.revision: 30
author: MightyPen
ms.author: genemi
manager: craigg
ms.openlocfilehash: a4a07cb8f8c5c3043ee307b7b7653846cc2d4e6e
ms.sourcegitcommit: 79d4dc820767f7836720ce26a61097ba5a5f23f2
ms.translationtype: MTE75
ms.contentlocale: ru-RU
ms.lasthandoff: 08/16/2018
ms.locfileid: "42785559"
---
# <a name="known-issues-in-this-version-of-the-driver"></a>Известные проблемы в данной версии драйвера

[!INCLUDE[Driver_ODBC_Download](../../../includes/driver_odbc_download.md)]

Эта статья содержит список известных проблем с Microsoft ODBC Driver 13, 13.1 и 17 for SQL Server в Linux и macOS.

Дополнительные проблемы будут публиковаться в [блоге группы разработчиков драйвера Microsoft ODBC](http://blogs.msdn.com/b/sqlnativeclient/).  

- В Windows, Linux и macOS символы из кодировки области личных символов (PUA) или символов, определяемых конечными пользователями (EUDC), могут преобразовываться по-разному. Преобразования, выполняемые на сервере в пределах [!INCLUDE[tsql](../../../includes/tsql-md.md)], используют библиотеку функций преобразования Windows. Преобразования в драйвере с помощью преобразования библиотек Windows, Linux или macOS. Каждая из библиотек может давать разные результаты при выполнении преобразований. Дополнительные сведения см. в статье [Символы, определяемые конечными пользователями, и символы области личных символов](/windows/desktop/Intl/end-user-defined-characters).

- Если клиент кодировку UTF-8, диспетчер драйверов не преобразует всегда правильно из UTF-8 в UTF-16. В настоящее время повреждение данных происходит, когда один или несколько символов в строке не являются допустимыми символами UTF-8. Символы ASCII сопоставляются правильно. Диспетчер драйверов пытается выполнить такое преобразование при вызове SQLCHAR-версий интерфейса API ODBC (например, SQLDriverConnectA). Диспетчер драйверов не пытается выполнить такое преобразование при вызове SQLWCHAR-версий ODBC API (например, SQLDriverConnectW).  

- *ColumnSize* параметр **SQLBindParameter** ссылается на число символов в тип SQL, хотя *BufferLength* — количество байтов в приложения буфер. Тем не менее, если используется тип данных SQL `varchar(n)` или `char(n)`, приложение связывает параметр как SQL_C_CHAR или SQL_C_VARCHAR, а клиент использует кодовую страницу UTF-8, может появиться ошибка "Усечение данных строки справа" от драйвера, даже когда значение *ColumnSize* согласовано с размером типа данных на сервере. Эта ошибка возникает, так как преобразование между кодировками символов может измениться длину данных. Например, правого апострофа символов (U + 2019) кодируется в CP-1252 как 0x92 один байт, но в UTF-8, как последовательность 0xe2 3 байта 0x80 0x99.

Например, если кодирования является UTF-8 и указать 1 для *BufferLength* и *ColumnSize* в **SQLBindParameter** для выходного параметра и затем повторите попытку Получение предыдущего символа, хранящиеся в `char(1)` столбца на сервере (с помощью CP-1252), драйвер пытается преобразовать его в кодировку UTF-8 3 байта, но не справится буфер байтов 1 результат. В другом направлении, он сравнивает *ColumnSize* с *BufferLength* в **SQLBindParameter** перед выполнением преобразования между различными кодовыми страницами на Клиент и сервер. Поскольку *ColumnSize* для 1 меньше, чем *BufferLength* , например, для 3, драйвер выдает ошибку. Чтобы избежать этой ошибки, убедитесь, что длина данных после преобразования встраивается в указанный буфер или столбца. Обратите внимание, что *ColumnSize* не может превышать 8000 для `varchar(n)` типа.

## <a name="see-also"></a>См. также:  
[Указания по программированию](../../../connect/odbc/linux-mac/programming-guidelines.md)  
[Заметки о выпуске](../../../connect/odbc/linux-mac/release-notes.md)  

