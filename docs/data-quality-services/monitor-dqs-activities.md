---
title: "Мониторинг операций DQS | Microsoft Docs"
ms.custom: ""
ms.date: "03/01/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "data-quality-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "sql13.dqs.administration.activitymonitoring.f1"
helpviewer_keywords: 
  - "monitoring activity"
  - "наблюдение за активностью"
ms.assetid: 1d4c76f3-0d7b-498e-b792-4db4a0349814
caps.latest.revision: 16
author: "JennieHubbard"
ms.author: "jhubbard"
manager: "jhubbard"
caps.handback.revision: 16
---
# Мониторинг операций DQS
  В этом разделе описывается централизованный контроль следующих действий в [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS): обнаружение знаний, управления доменами, сопоставления политики, очистка данных, сопоставление данных и очистки служб SSIS.  
  
##  <a name="BeforeYouBegin"></a> Перед началом  
  
###  <a name="LimitationsRestrictions"></a> Ограничения  
 Только пользователи с ролью dqs_administrator в базе данных DQS_Main могут прерывать действие или останавливать процесс в составе действия.  
  
###  <a name="Security"></a> Безопасность  
  
####  <a name="Permissions"></a> Разрешения  
  
-   Для просмотра действий DQS необходимо иметь роль dqs_kb_editor или dqs_kb_operator в базе данных DQS_MAIN.  
  
-   Для завершения действия или остановки процесса в составе действия, помимо просмотра действий DQS, необходимо обладать ролью dqs_administrator в базе данных DQS_MAIN.  
  
##  <a name="View"></a> Просмотр действий DQS  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)] [Запустите клиентское приложение DQS](../data-quality-services/run-the-data-quality-client-application.md).  
  
2.  На главном экране [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] нажмите **Мониторинг активности**. Появится экран мониторинга активности.  
  
     ![Экран наблюдения за активностью](../data-quality-services/media/dqs-activitymonitoring.gif "Экран наблюдения за активностью")  
  
3.  На экране мониторинга активности отображаются сведения о каждом действии в сетке действий. В сетке действий показаны следующие сведения о каждом действии DQS:  
  
     **Идентификатор**: целое число. Уникальный номер действия, формируемый системой для мониторинга активности.  
  
     **Имя**: имя проекта качества данных или базе знаний, используемая для этой операции.  
  
     **Является активным**: указывающее, является ли операция активной. Может иметь следующие значения.  
  
    -   **Активно**: действие выполняется в данный момент.  
  
    -   **Закончено**: действие завершено.  
  
    -   **Завершено**: действие было прервано с экрана мониторинга активности администратором служб DQS или отменено пользователем при запуске из соответствующей функциональной области в [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)].  
  
     **Тип**: Указывает тип действия. **Подтипа** указывает конкретного рабочего процесса, который выполняется для типа действия. Отслеживаются следующие типы действий:  
  
    -   **Управление набором знаний** подтипов:  
  
        -   **Обнаружение набора знаний**  
  
        -   **Управление доменами**  
  
        -   **Политика сопоставления**  
  
    -   **Проект DQ** подтипов:  
  
        -   **очистка.**  
  
        -   **сопоставление.**  
  
    -   **Очистка SSIS** подтипов:  
  
        -   **очистка.**  
  
     **Текущее состояние**: указывает текущее состояние действия. Состояние действия определяется последним вычислительным процессом. Обратите внимание, что одно действие может включать несколько вычислительных процессов, например процесс обнаружения может быть запущен несколько раз (в рамках действия "Обнаружение знаний"). Таким образом, состояние в течение времени жизни действия может измениться несколько раз.  
  
     **Текущее состояние** может принимать следующие значения:  
  
    -   **Запущенные**: вычислительный процесс выполняется.  
  
    -   **Успешно**: это состояние установлено перед вычислительный процесс был выполнен и снова после вычислений процесс завершается успешно.  
  
    -   **Ошибка**: вычислительный процесс завершился с ошибкой.  
  
    -   **Остановлен**: вычислительный процесс был приостановлен.  
  
     **DQKB**: имя базы знаний, которая используется для действия.  
  
     **Пользователь**: имя пользователя, который инициировал действие или последнего пользователя, который работал с действием (если они не совпадают).  
  
     **Время начала действия**: Дата и время начала действия  
  
     **Затраченное время**: время, прошедшее с момента запуска действия. Отображается в формате ЧЧ:ММ:СС.  
  
     **Время окончания действия**: Дата и время окончания действия.  
  
##  <a name="Filter"></a> Фильтр сведений о действиях DQS  
 Можно использовать область фильтрации (**Фильтр по**, **значение**, **от даты**, и **до даты**) на экране мониторинга активности можно фильтровать и просматривать необходимые действия на основе определенного критерия фильтра. Для фильтрации записей действий:  
  
1.  Выберите критерий фильтрации: следует ли фильтровать записи действий по значению в одном из столбцов сетки действий (по значениям), по диапазону дат либо по обоим критериям.  
  
    1.  **Фильтрация на основе значения**: выберите критерий фильтра в **Фильтр по** списка, а затем выберите соответствующее значение для фильтра в **значение** списка. После выбора параметра в списке **Фильтровать по** список **Значение** заполняется возможными значениями. Поддерживается фильтрация по следующим полям в записях о действиях: **Активность**, **Тип**, **Подтип**, **Текущее состояние**, **DQKB**и **Пользователь**.  
  
    2.  **Фильтрация дат на основе диапазона**: выбрав соответствующие даты в **даты из** и **до даты** Дата элементов управления. По умолчанию в поле **От даты** отображается дата на два дня раньше текущей, а в поле **До даты** — текущая дата. Фильтрация выполняется не по отдельным датам *От* и *До* , а по диапазону. Это означает, что будут отображены все действия, которые выполнялись в указанном диапазоне дат.  
  
2.  Щелкните значок **Обновить список действий** , чтобы применить фильтрацию, затем просмотрите только отфильтрованные действия DQS.  
  
##  <a name="ActivityDetails"></a> Просмотр подробных сведений о действиях DQS  
 На экране мониторинга активности можно просмотреть подробные сведения о действии DQS, например об этапах его выполнения, а также сведения профилировщика. Для этого:  
  
1.  Выберите действие DQS в сетке действий (на верхней панели).  
  
2.  На нижней панели отображаются подробные сведения о выбранном действии, они разбиты на две вкладки.  
  
    -   **Этапы действия**: Отображает сетку вычислительных процессов (этапов действия), которые связаны с выбранным действием. На этой вкладке для одного действия могут отображаться несколько различных этапов. Это может наблюдаться в том случае, если один этап действия запускался пользователем несколько раз. Например, этап действия был остановлен, а затем снова запущен. Сетка на этой вкладке отображает следующие сведения по каждому этапу действия, связанному с действием: **Тип**, **Текущее состояние**, **Время начала**, **Затраченное время**и **Время окончания**.  
  
    -   **Профилировщик**: отображает профилировочные сведения для текущих и выполнявшихся ранее действий. Для текущих действий он содержит неполные, но согласованные сведения. Профилировочные сведения о действии экспортируются в файл Excel при экспорте соответствующих подробных сведений о действии в файл Excel. Сведения доступны на листах **Профилировщик — источник** и **Профилировщик — поля** в экспортированном файле Excel.  
  
##  <a name="Export"></a> Экспорт подробных сведений о действиях DQS  
 На экране мониторинга можно экспортировать в файл Excel свойства действий, процессы действий и профилировочные сведения для действия. Для этого:  
  
1.  Выберите действие в сетке действий (на верхней панели).  
  
2.  Щелкните значок **Экспортировать выбранное действие в Excel** . Можно также щелкнуть правой кнопкой мыши любое действие в сетке действий и нажмите кнопку **экспортировать действие** в контекстном меню.  
  
3.  Будет предложено указать имя и расположение сохраняемого файла Excel. Экспортированный файл Excel содержит следующие листы:  
  
    |Имя листа|Описание|  
    |----------------|-----------------|  
    |Действие|Содержит сведения (столбцы) о действии, как в сетке действий.|  
    |Процессы|Содержит сведения (столбцы) о процессах в действии, как на **этапы действия** вкладки.|  
    |Профилировщик — источник|Для подтипа **Очистка** содержит следующие сведения о действии: «Записи», «Правильные записи», «Исправленные записи» и «Недопустимые записи».<br /><br /> Для подтипов **Обнаружение знаний**, **Управление доменами**, **Политика сопоставления**и **Сопоставление** содержит следующие сведения о действии: «Записи», «Всего значений», «Новые значения», «Уникальные значения» и «Новые уникальные значения».|  
    |Профилировщик — поля|Для подтипов **Очистка** и **Очистка SSIS** содержит следующие сведения о действии: «Поле», «Домен», «Исправленные значения», «Предложенные значения», «Полнота» и «Точность».<br /><br /> Для подтипов **Обнаружение знаний**, **Управление доменами**, **Политика сопоставления**и **Сопоставление** содержит следующие сведения о действии: «Поле», «Домен», «Новый», «Уникальный», «Действительный в домене» и «Полнота».|  
  
##  <a name="Terminate"></a> Прерывание действия DQS  
 Администраторы служб DQS (роль dqs_administrator) может завершить действие запущенное (активное), которое не имеет тип **очистки SSIS**. При прерывании действия будут остановлены все запущенные процессы в действии и удалится все, что относится к данному действию. Отменить эту операцию невозможно. Прерывание действия на экране мониторинга активности равносильно отмене соответствующего действия нажатием кнопки **Отмена** при запуске его в функциональной области [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)]. Прерывание действия:  
  
1.  Выберите запущенное действие в сетке действий (на верхней панели).  
  
2.  Щелкните значок **Завершить выбранное действие** . Можно также щелкнуть правой кнопкой мыши действие в сетке действий и нажмите кнопку **прервать действие** в контекстном меню.  
  
3.  Появится сообщение с запросом на подтверждение. Нажмите кнопку **Да**.  
  
##  <a name="Stop"></a> Остановка процесса в составе действия DQS  
 Администраторы служб DQS (роль dqs_administrator) можно остановить запущенный (активный) процесс в действии, которое не имеет тип **очистки SSIS**. Остановка процесса в действии на экране мониторинга активности равносильна остановке процесса в соответствующем действии в функциональной области [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)]. Например, это может быть остановка процесса автоматизированной очистки или остановка процесса сопоставления в составе действия сопоставления. Приостановленный процесс невозможно повторно запустить на экране мониторинга активности. Повторный запуск процесса возможен в соответствующей функциональной области [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)]. В этом случае в сетке процессов на вкладке **Этапы действия** появляется дополнительная строка. Состояние приостановленного процесса по-прежнему отображается как **Остановлен**. Чтобы остановить процесс:  
  
1.  Выберите запущенный процесс в сетке подробных сведений о действиях (на нижней панели).  
  
2.  Щелкните значок **Остановить выбранный процесс** . Можно также щелкнуть правой кнопкой мыши на процесс в сетке подробных сведений о действие и нажмите кнопку **Остановить процесс** в контекстном меню.  
  
3.  Появится сообщение с запросом на подтверждение. Нажмите кнопку **Да**.  
  
  