---
title: "Свойства публикации, страница \"Фильтрация строк\" | Документация Майкрософт"
ms.custom: 
ms.date: 03/14/2017
ms.prod: sql-non-specified
ms.prod_service: database-engine
ms.service: 
ms.component: replication
ms.reviewer: 
ms.suite: sql
ms.technology:
- replication
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- sql13.rep.newpubwizard.pubproperties.filterrows.f1
ms.assetid: 2c5fdbed-9b10-4818-98cc-cc6b01351318
caps.latest.revision: 
author: MashaMSFT
ms.author: mathoma
manager: craigg
ms.workload: Inactive
ms.openlocfilehash: 80da582db33f49ef5fe456eb9351e9b4d6091591
ms.sourcegitcommit: ab25b08a312d35489a2c4a6a0d29a04bbd90f64d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2018
---
# <a name="publication-properties-filter-rows"></a>Свойства публикации, фильтрация строк
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md](../../includes/appliesto-ss-xxxx-xxxx-xxx-md.md)]
  Страница **Фильтрация строк** диалогового окна **Свойства публикации** дает возможность добавлять, изменять и удалять следующее:  
  
-   Применить статические фильтры строк к статьям таблиц в моментальном снимке, в публикациях транзакций и в публикациях слиянием.  
  
-   Применить параметризованные фильтры строк к статьям таблиц в публикациях слиянием.  
  
-   Использовать фильтры соединения для расширения фильтрации статей объединенных таблиц на относящиеся к ним статьи таблиц.  
  
 Дополнительные сведения о вариантах фильтрации см. в статье [Фильтрация опубликованных данных](../../relational-databases/replication/publish/filter-published-data.md).  
  
> [!NOTE]  
>  Добавление, изменение или удаление фильтра требует нового моментального снимка публикации, а также повторной инициализации всех подписок.  
  
 Для максимальной производительности приложения и снижения объема внешнего хранилища, а также для ограничения доступа к некоторым данным для отдельных подписчиков следует публиковать только необходимые данные. Публикация может содержать как отфильтрованные, так и нефильтрованные таблицы. Например, можно включить полную (нефильтрованную) таблицу со сведениями о продукции компании и использовать фильтры строк для получения отфильтрованной таблицы заказчиков из определенного региона. С помощью фильтрации опубликованных данных можно достичь следующих целей:  
  
-   Минимизировать объем данных, передаваемых по сети.  
  
-   Снизить необходимый подписчику объем для хранения.  
  
-   Настраивать публикации и приложения на основе индивидуальных требований подписчиков.  
  
-   Избежать конфликтов или уменьшить их количество, если подписчики обновляют данные, так как различным подписчикам можно отправить различные секции данных (то есть два подписчика не будут обновлять одни и те же значения данных).  
  
-   Избежать передачи конфиденциальных данных. Фильтры строк и фильтры столбцов могут быть использованы для ограничения доступа подписчика к данным. При репликации слиянием может возникать проблема безопасности, если используется параметризованный фильтр, содержащий HOST_NAME(). Дополнительные сведения см. в подразделе «Фильтрация с использованием HOST_NAME()» раздела [Parameterized Row Filters](../../relational-databases/replication/merge/parameterized-filters-parameterized-row-filters.md).  
  
## <a name="options"></a>Параметры  
 **Отфильтрованные таблицы**  
 Панель заполняется фильтрами по мере того, как они добавляются к статьям таблиц в публикации. Таблицы с фильтрами строк показаны в этой панели как узлы высшего уровня. Для публикаций слиянием таблицы, фильтрация которых была расширена с помощью фильтра соединения, показаны на панели как дочерние узлы.  
  
 **Добавить**  
 Нажмите **Добавить** , чтобы открыть диалоговое окно фильтрации статей таблицы. Нажмите **Добавить** для вызова диалогового окна моментального снимка или публикации транзакций. Нажмите **Добавить** для публикации слиянием, чтобы вывести три варианта: **Добавить фильтр**, **Добавить соединение для расширения выбранного фильтра**, **Автоматически создать фильтры**.  
  
-   Выбрать **Добавить фильтр** для запуска диалогового окна **Добавить фильтр** . Это диалоговое окно позволяет применять фильтры строк к статье таблицы. В диалоговом окне **Добавить фильтр** можно, например, указать, что таблица с данными о клиентах должна содержать данные только о французских клиентах при репликации подписчикам.  
  
-   Выберите пункт **Добавить соединение для расширения выбранного фильтра** для перехода в диалоговое окно **Добавление соединения** . Диалоговое окно **Добавление соединения** позволяет расширить фильтр строк таким образом, чтобы он фильтровал данные в таблицах, связанных с таблицей с фильтром строк. Например, если фильтр таблицы заказчиков установлен таким образом, что таблица содержит данные только о французских заказчиках, а также есть связанная с ней таблица клиентских заказов, то можно задать соединение между этими двумя таблицами, чтобы таблица заказов содержала только заказы от французских заказчиков.  
  
    > [!NOTE]  
    >  Этот параметр доступен, только если сначала выбрать базовую таблицу соединения на панели фильтров.  
  
-   Выберите **Автоматически создать фильтры** для запуска диалогового окна **Создать фильтры** . Это диалоговое окно позволяет указать в публикации слиянием фильтр строк для одной таблицы, который репликация автоматически распространяет на другие таблицы, связанные через внешние ключи. Например, публикация может содержать три таблицы: таблицу клиентов, таблицу заказов (с внешним ключом к таблице клиентов), таблицу сведений о заказах (с внешним ключом к таблице заказов). Определите фильтр строк для таблицы о клиентах, и репликация распространит его на остальные таблицы.  
  
    > [!NOTE]  
    >  Когда фильтры создаются автоматически репликацией, все существующие фильтры публикации удаляются. Для включения автоматически созданных фильтров и фильтров, созданных вручную, сначала создайте фильтры. Для каждой публикации можно указать только один набор автоматически созданных фильтров.  
  
 **Правка**  
 Выберите фильтр строк или фильтр соединения на панели фильтров и нажмите кнопку **Изменить** для запуска диалогового окна **Изменение фильтра** или **Изменение соединения** .  
  
 **Удаление**  
 Выберите фильтр строк или фильтр соединения на панели фильтров и нажмите кнопку **Удалить** для его удаления.  
  
 **Найти таблицу**  
 Только для публикаций слиянием. Нажмите **Найти таблицу** для поиска таблицы в сложном дереве фильтров. В базе данных со сложными связями таблица может быть соединена с несколькими таблицами, поэтому она может отображаться несколько раз в дереве фильтров.  
  
 Реальная таблица показана только в одном месте дерева, в других местах она представлена ярлыком. Ярлык таблицы является только ссылкой на нее, и дочерние узлы таблицы не отображаются. Узел ярлыка помечен стрелкой, а при развертывании этого узла будет отображен текст **Чтобы вывести таблицу для \<имя_таблицы>, нажмите кнопку "Поиск таблицы"**.  
  
 Выберите узел ярлыка на панели и нажмите **Найти таблицу** . Панель разворачивается с выделенной таблицей. Если нажать кнопку **Найти таблицу** без указания ссылки на узел, открывается диалоговое окно **Найти таблицу** .  
  
 **Filter**  
 Содержит определение на языке [!INCLUDE[tsql](../../includes/tsql-md.md)] для фильтра, выбранного на панели фильтров.  
  
## <a name="see-also"></a>См. также:  
 [Create a Publication](../../relational-databases/replication/publish/create-a-publication.md)   
 [Создание и применение исходного моментального снимка](../../relational-databases/replication/create-and-apply-the-initial-snapshot.md)   
 [Повторная инициализация подписки](../../relational-databases/replication/reinitialize-a-subscription.md)   
 [Просмотр и изменение свойств публикации](../../relational-databases/replication/publish/view-and-modify-publication-properties.md)   
 [Фильтрация опубликованных данных](../../relational-databases/replication/publish/filter-published-data.md)   
 [Join Filters](../../relational-databases/replication/merge/join-filters.md)   
 [Parameterized Row Filters](../../relational-databases/replication/merge/parameterized-filters-parameterized-row-filters.md)   
 [Публикация данных и объектов базы данных](../../relational-databases/replication/publish/publish-data-and-database-objects.md)  
  
  
