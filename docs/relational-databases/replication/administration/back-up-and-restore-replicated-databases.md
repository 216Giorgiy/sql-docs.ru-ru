---
title: "Создание резервной копии и восстановление из копий реплицируемых баз данных | Microsoft Docs"
ms.custom: ""
ms.date: "03/14/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "replication"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "резервные копии [репликация SQL Server]"
  - "администрирование репликации, восстановление"
  - "резервное копирование реплицируемых баз данных"
  - "резервные копии [репликация SQL Server], о резервных копиях"
  - "восстановление из резервной копии реплицируемых баз данных [репликация SQL Server]"
  - "восстановление [репликация SQL Server], о восстановлении"
  - "восстановление баз данных [SQL Server], реплицируемые базы данных"
  - "резервное копирование баз данных [SQL Server], реплицируемые базы данных"
  - "восстановление [репликация SQL Server], о восстановлении"
  - "восстановление [репликация SQL Server]"
  - "репликация [SQL Server], администрирование"
  - "база данных распространителя [репликация SQL Server], резервное копирование"
  - "восстановление из копии [репликация SQL Server]"
  - "администрирование репликации, резервное копирование"
ms.assetid: 04588807-21e7-4bbe-9727-b72f692cffa7
caps.latest.revision: 40
author: "BYHAM"
ms.author: "rickbyh"
manager: "jhubbard"
caps.handback.revision: 40
---
# Создание резервной копии и восстановление из копий реплицируемых баз данных
[!INCLUDE[tsql-appliesto-ss2016-xxxx-xxxx-xxx_md](../../../includes/tsql-appliesto-ss2016-xxxx-xxxx-xxx-md.md)]

  Реплицированные базы данных требуют особого внимания к резервному копированию и восстановлению данных. В данном разделе содержится вводные сведения и ссылки на дополнительные сведения о стратегиях резервного копирования и восстановления для различных типов репликации.  
  
 Служба репликации поддерживает восстановление реплицированной базы данных на том же сервере и в той же базе данных, где была создана ее резервная копия. Если восстановить резервную копию реплицированной базы данных на другом сервере или в другой базе данных, то станет невозможным сохранение настроек репликации. В этом случае после восстановления из резервной копии потребуется повторно создать все публикации и подписки.  
  
> [!NOTE]  
>  Реплицируемую базу данных можно восстановить на резервном сервере при использовании доставки журналов. Дополнительные сведения см. в разделе [доставку журналов и репликацию & #40; SQL Server & #41;](../../../database-engine/log-shipping/log-shipping-and-replication-sql-server.md).  
  
 Необходимо регулярно выполнять резервное копирование реплицируемых баз данных и связанных с ними системных баз данных. Выполняйте резервное копирование следующих баз данных:  
  
-   База данных публикаций на издателе.  
  
-   База данных распространителя на распространителе.  
  
-   База данных подписок на каждом подписчике.  
  
-   Системные базы данных **master** и **msdb** на издателе, распространителе и на всех подписчиках. Резервные копии этих баз данных и копия соответствующей базы данных репликации должны быть сделаны одновременно. Например, создавайте резервную копию баз данных **master** и **msdb** на издателе одновременно с резервной копией базы данных публикаций. Если база данных публикаций восстановлена, убедитесь, что базы данных **master** и **msdb** согласованы с базой данных публикаций по настройке и конфигурации репликации.  
  
 Если резервное копирование журналов выполняется регулярно, любые изменения, касающиеся репликации, будут заноситься в резервные копии журнала. Если не выполняется резервное копирование журналов, то необходимо выполнить это резервное копирование при каждом изменении настройки, относящейся к репликации. Дополнительные сведения см. в статье [Common Actions Requiring an Updated Backup](../../../relational-databases/replication/administration/common-actions-requiring-an-updated-backup.md).  
  
## Стратегии резервного копирования и восстановления  
 Стратегии для резервного копирования и восстановления каждого узла в топологии репликации различаются в соответствии с используемым типом репликации. Сведения о стратегиях резервного копирования и восстановления для каждого типа репликации см. в следующих разделах:  
  
-   [Стратегии резервного копирования и восстановления из копии репликации моментальных снимков и репликации транзакций](../../../relational-databases/replication/administration/strategies-for-backing-up-and-restoring-snapshot-and-transactional-replication.md)  
  
-   [Стратегия резервного копирования и восстановления из копии для репликации слиянием](../../../relational-databases/replication/administration/strategies-for-backing-up-and-restoring-merge-replication.md)  
  
 В состав любой стратегии восстановления всегда должно входить сохранение текущего скрипта настроек репликации в безопасном расположении. В случае отказа сервера или необходимости создания тестовой среды можно изменить скрипт, изменив ссылки имен серверов, после чего он может использоваться для восстановления настроек репликации. В дополнение к созданию скрипта текущих настроек репликации нужно создать скрипт включения и отключения репликации. Сведения о создании скриптов для объектов репликации см. в разделе [Scripting Replication](../../../relational-databases/replication/scripting-replication.md).  
  
## См. также:  
 [Резервное копирование и восстановление баз данных SQL Server](../../../relational-databases/backup-restore/back-up-and-restore-of-sql-server-databases.md)   
 [Рекомендации по администрированию репликации](../../../relational-databases/replication/administration/best-practices-for-replication-administration.md)  
  
  