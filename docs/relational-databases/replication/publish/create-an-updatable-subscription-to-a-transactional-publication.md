---
title: "Создание обновляемой подписки для публикации транзакций (среда Management Studio) | Microsoft Docs"
ms.custom: ""
ms.date: "07/21/2016"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "replication"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "обновляемые подписки на публикацию транзакций"
  - "обновляемые подписки на публикацию транзакций, среда SSMS"
ms.assetid: f9ef89ed-36f6-431b-8843-25d445ec137f
caps.latest.revision: 51
author: "BYHAM"
ms.author: "rickbyh"
manager: "jhubbard"
caps.handback.revision: 51
---
# Создание обновляемой подписки для публикации транзакций (среда Management Studio)

> [!NOTE]  
>  Эта функция поддерживается в версиях [!INCLUDE[ssNoVersion_md](../../../includes/ssnoversion-md.md)] с 2012 по 2016.  [!INCLUDE[ssNoteDepFutureAvoid](../../../includes/ssnotedepfutureavoid-md.md)]  
 
Настроить обновляемые подписки на **обновляемых подписок** Страница **мастера создания подписки**. Эта страница доступна только тогда, когда включены публикации транзакций для обновляемых подписок. Дополнительные сведения о включении обновляемых подписок см. в разделе [Включить обновление подписок для публикаций транзакций](../../../relational-databases/replication/publish/enable-updating-subscriptions-for-transactional-publications.md).   
  
## Настройка обновляемой подписки из издателя  

1. Подключитесь к издателю в среде Microsoft SQL Server Management Studio и затем разверните узел сервера.

2. Раскройте папку **Репликация** , а затем папку **Локальные публикации** .

3. Щелкните правой кнопкой мыши публикацию транзакций, настроенной для обновления подписок, затем нажмите кнопку **новые подписки**.

4. На страницах мастера укажите параметры подписки, например, место, где должен выполняться агент распространения.

5. На **обновляемых подписок** Страница **мастера создания подписки**, обеспечить **репликации** выбран.

6. Выберите один из вариантов **зафиксировать на стороне издателя** раскрывающегося списка:

    * Чтобы использовать немедленное обновление подписок, выберите **одновременно фиксировать изменения**. Если выбран этот параметр, а для публикации разрешено очереди обновляемых подписок (по умолчанию для публикаций, созданных с помощью мастера создания публикаций), то свойство подписки **update_mode** задано значение **отработки отказа**. Этот режим позволяет, при необходимости позднее перейти к обновлению посредством очередей.

    * Для обновления подписок посредством очередей, выберите **Ставить изменения в очередь и фиксировать при первой возможности**. Если выбран этот параметр, для публикации разрешено немедленное обновление подписок (по умолчанию для публикаций, созданных с помощью мастера создания публикаций) и на подписчике работает SQL Server 2005 или более поздней версии, то свойство подписки **update_mode** задать переход на другой ресурс в очереди. Этот режим позволяет, при необходимости, включить немедленное обновление позднее.

    Сведения о переключении режимов обновления см. в разделе [переключения между обновление режимами для обновляемой подписки транзакций](../../../relational-databases/replication/administration/switch-between-update-modes-for-an-updatable-transactional-subscription.md).

7. **Имя входа для обновляемых подписок** страница отображается для подписок, применяющих немедленное обновление или **update_mode** значение **отработки отказа в очереди**. На **имя входа для обновляемых подписок** Укажите связанный сервер, через который издателю соединения для немедленно обновляемых подписок. Соединения используются триггерами, которые запускаются на подписчике и распространяют изменения на издатель. Выберите один из следующих вариантов.

    * **Создайте связанный сервер, который соединяется с использованием проверки подлинности SQL Server.** Выберите этот параметр, если вы не определили удаленный сервер или связанный сервер между подписчиком и издателем. Репликация создает связанный сервер. Указанная учетная запись уже должна существовать на издателе.

    * **Использовать уже указанный связанный или удаленный сервер** Выберите этот параметр, если вы определили удаленный сервер или связанный сервер между подписчиком и издателем с помощью [sp_addserver (Transact-SQL)](../../../relational-databases/system-stored-procedures/sp-addserver-transact-sql.md), [sp_addlinkedserver (Transact-SQL)](../../../relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql.md), SQL Server Management Studio или другого метода.

    Сведения о разрешениях, необходимых для учетной записи связанного сервера, в разделе **очередей подписками** из [Введите здесь описание связи](../../../relational-databases/replication/security/secure-the-subscriber.md).

8. Завершите работу мастера.

## Настройка обновляемой подписки из подписчика


1. Подключитесь к подписчику в среде SQL Server Management Studio и раскройте узел сервера.

2. Раскройте папку **Репликация** .

3. Щелкните правой кнопкой мыши **Локальные подписки** папку и выберите пункт **новые подписки**.

4. На **публикации** Страница **мастера создания подписки**, выберите **Найти издатель SQL Server** из **издателя** раскрывающегося списка.

5. Соединитесь с издателем в диалоговом окне **Соединение с сервером** .

6. Выберите включена для обновляемых подписок на публикации транзакций **публикации** страницы.

7. На страницах мастера укажите параметры подписки, например, место, где должен выполняться агент распространения.

8. На **обновляемых подписок** страницы мастера создания подписки Убедитесь **репликации** выбран.

9. Выберите один из вариантов **зафиксировать на стороне издателя** раскрывающегося списка:

    * Чтобы использовать немедленное обновление подписок, выберите **одновременно фиксировать изменения**. Если выбран этот параметр, а для публикации разрешено очереди обновляемых подписок (по умолчанию для публикаций, созданных с помощью мастера создания публикаций), то свойство подписки **update_mode** задано значение **отработки отказа**. Этот режим позволяет, при необходимости позднее перейти к обновлению посредством очередей.

    * Для обновления подписок посредством очередей, выберите **Ставить изменения в очередь и фиксировать при первой возможности**. Если выбран этот параметр, для публикации разрешено немедленное обновление подписок (по умолчанию для публикаций, созданных с помощью мастера создания публикаций) и на подписчике работает SQL Server 2005 или более поздней версии, то свойство подписки **update_mode** задается в очереди **отработки отказа**. Этот режим позволяет, при необходимости, включить немедленное обновление позднее.

    Сведения о переключении режимов обновления см. в разделе [переключения между обновление режимами для обновляемой подписки транзакций](../../../relational-databases/replication/administration/switch-between-update-modes-for-an-updatable-transactional-subscription.md).

10. **Имя входа для обновляемых подписок** страница отображается для подписок, применяющих немедленное обновление или **update_mode** поставлены в очередь к **отработки отказа**. На **имя входа для обновляемых подписок** Укажите связанный сервер, через который издателю соединения для немедленно обновляемых подписок. Соединения используются триггерами, которые запускаются на подписчике и распространяют изменения на издатель. Выберите один из следующих вариантов.

    * **Создайте связанный сервер, который соединяется с использованием проверки подлинности SQL Server.** Выберите этот параметр, если вы не определили удаленный сервер или связанный сервер между подписчиком и издателем. Репликация создает связанный сервер. Указанная учетная запись уже должна существовать на издателе.

    * **Использовать уже указанный связанный или удаленный сервер** Выберите этот параметр, если вы определили удаленный сервер или связанный сервер между подписчиком и издателем с помощью [sp_addserver (Transact-SQL)](../../../relational-databases/system-stored-procedures/sp-addserver-transact-sql.md), [sp_addlinkedserver (Transact-SQL)](../../../relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql.md), SQL Server Management Studio или другого метода.

    Сведения о разрешениях, необходимых для учетной записи связанного сервера, в разделе **очередей подписками** из [Введите здесь описание связи](../../../relational-databases/replication/security/secure-the-subscriber.md).

11. Завершите работу мастера.

## См. также:

[Обновляемые подписки для репликации транзакций](../../../relational-databases/replication/transactional/updatable-subscriptions-for-transactional-replication.md)

[Создание публикации](../../../relational-databases/replication/publish/create-a-publication.md)

[Создание обновляемой подписки для публикации транзакций с использованием Transact-SQL](../../../relational-databases/replication/publish/create-updatable-subscription-to-transactional-publication.md) 
