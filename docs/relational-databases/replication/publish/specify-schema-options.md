---
title: "Указание параметров схемы | Microsoft Docs"
ms.custom: ""
ms.date: "03/14/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "replication"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "схемы [репликация SQL Server], параметры"
  - "статьи [репликация SQL Server], параметры репликации транзакций"
  - "статьи [репликация SQL Server], параметры репликации слиянием"
  - "статьи [репликация SQL Server], параметры схемы"
ms.assetid: 1f85a479-bd6e-4023-abf7-7435a7e5b567
caps.latest.revision: 39
author: "BYHAM"
ms.author: "rickbyh"
manager: "jhubbard"
caps.handback.revision: 39
---
# Указание параметров схемы
  В этом разделе описывается указание параметров схемы в [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] с помощью среды [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] или [!INCLUDE[tsql](../../../includes/tsql-md.md)]. При публикации таблицы или представления можно управлять параметрами создания объектов, применяемых к опубликованному объекту. Эти параметры можно задать при создании статьи, а также изменить их позднее. Если эти параметры не заданы в явном виде, то применяется набор параметров по умолчанию.  
  
> [!NOTE]  
>  Параметры схемы по умолчанию при использовании хранимых процедур репликации могут отличаться от параметров по умолчанию, применяемых для добавления статей с помощью среды [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].  
  
 **В этом разделе**  
  
-   **Перед началом работы выполните следующие действия.**  
  
     [Ограничения](#Restrictions)  
  
     [Рекомендации](#Recommendations)  
  
-   **Для указания параметров схемы используется:**  
  
     [Среда SQL Server Management Studio](#SSMSProcedure)  
  
     [Transact-SQL](#TsqlProcedure)  
  
##  <a name="BeforeYouBegin"></a> Перед началом  
  
###  <a name="Restrictions"></a> Ограничения  
  
-   Если изменить параметры схемы после создания публикации, то необходимо создать новый моментальный снимок.  
  
###  <a name="Recommendations"></a> Рекомендации  
  
-   Полный список параметров схемы см. в разделе **@schema_option** параметра [процедуры sp_addarticle & #40; Transact-SQL & #41;](../../../relational-databases/system-stored-procedures/sp-addarticle-transact-sql.md) и [sp_addmergearticle & #40; Transact-SQL & #41;](../../../relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql.md).  
  
##  <a name="SSMSProcedure"></a> Использование среды SQL Server Management Studio  
 Укажите параметры схемы, например, нужно ли копировать ограничения и триггеры на подписчики, на **Свойства** вкладке **Свойства статьи — \< статья>** диалоговое окно. Эта вкладка доступна в мастере создания публикаций и **Свойства публикации — \< публикация>** диалоговое окно. Дополнительные сведения об использовании мастера и о доступе к диалоговому окну см. в разделе [Создать публикацию](../../../relational-databases/replication/publish/create-a-publication.md) и [Просмотр и изменение свойств публикации](../../../relational-databases/replication/publish/view-and-modify-publication-properties.md).  
  
#### Указание параметров схемы  
  
1.  На **статьи** страница мастера создания публикаций или **Свойства публикации — \< публикация>** диалоговое окно, выберите статью и нажмите кнопку **Свойства статьи**.  
  
2.  Выберите статьи, для которых необходимо внести изменения в параметры схемы:  
  
    -   Щелкните **указать свойства выделенной \< ObjectType> статьи** для запуска **Свойства статьи — \< имя_объекта>** диалоговое окно; свойство изменения, внесенные в этом диалоговом окне, применяются только объект, который будет выделен на панели объектов на **статьи** страницы.  
  
    -   Щелкните **Установка свойств всех \< ObjectType> статьи** для запуска **Свойства всех \< ObjectType> статьи** диалоговое окно; свойство изменения, внесенные в этом диалоговом окне применяются ко всем объектам этого типа на панели объектов на **статьи** страницы, включая объекты, не выбранные для публикации.  
  
        > [!NOTE]  
        >  Изменения, произведенные в **Свойства для всех \< ObjectType> статьи** диалоговое окно отменяют изменения, сделанные ранее в **Свойства статьи — \< имя_объекта>** диалоговое окно. Например, если нужно установить некоторое количество значений по умолчанию для всех статей типа объекта, но при этом задать некоторые свойства для отдельных объектов, сначала установите значения по умолчанию для всех статей. Затем установите свойства для отдельных объектов.  
  
3.  В **Копировать объекты и настройки на подписчик** и **целевой объект** разделы **Свойства** вкладке **Свойства статьи — \< статья>** диалогового окна укажите значения для параметров.  
  
4.  Измените свойства, если необходимо, и нажмите кнопку **ОК**.  
  
5.  При работе в **Свойства публикации — \< публикация>** диалоговом нажмите кнопку **ОК** Сохранить и закрыть диалоговое окно.  
  
##  <a name="TsqlProcedure"></a> Использование Transact-SQL  
 Параметры схемы указываются как шестнадцатеричное значение, представляющее [| (Побитовое или)](../Topic/%7C%20\(Bitwise%20OR\)%20\(Transact-SQL\).md) результат один или несколько параметров. Дополнительные сведения см. в разделе [sp_addarticle](../../../relational-databases/system-stored-procedures/sp-addarticle-transact-sql.md) и [sp_addmergearticle](../../../relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql.md).  
  
> [!NOTE]  
>  Прежде чем применять битовые операции к значениям параметров схемы, необходимо преобразовать их значения из типа **binary** в тип **int** . Дополнительные сведения см. в разделе [CAST и CONVERT & #40; Transact-SQL & #41;](../../../t-sql/functions/cast-and-convert-transact-sql.md).  
  
#### Задание параметров схемы при определении статьи для публикации моментальных снимков или транзакций  
  
1.  На издателе в базе данных публикации выполните хранимую процедуру [sp_addarticle](../../../relational-databases/system-stored-procedures/sp-addarticle-transact-sql.md). Укажите имя публикации, к которой принадлежит статья, для **@publication**, имя статьи для **@article**, объект базы данных, публикуемые для **@source_object**, тип объекта базы данных для **@type**, и [| (Побитовое или)](../Topic/%7C%20\(Bitwise%20OR\)%20\(Transact-SQL\).md) результат одного или нескольких параметров схемы для **@schema_option**. Дополнительные сведения см. в статье [Define an Article](../../../relational-databases/replication/publish/define-an-article.md).  
  
#### Задание параметров схемы при определении статьи для публикации слиянием  
  
1.  На издателе в базе данных публикации выполните хранимую процедуру [sp_addmergearticle](../../../relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql.md). Укажите имя публикации, к которой принадлежит статья, для **@publication**, имя статьи для **@article**, объект базы данных, публикуемые для **@source_object**, и [| (Побитовое или)](../Topic/%7C%20\(Bitwise%20OR\)%20\(Transact-SQL\).md) результат одного или нескольких параметров схемы для **@schema_option**. Дополнительные сведения см. в статье [Define an Article](../../../relational-databases/replication/publish/define-an-article.md).  
  
#### Изменение параметров схемы в существующей статье публикации моментальных снимков или транзакций  
  
1.  На издателе в базе данных публикации выполните хранимую процедуру [sp_helparticle](../../../relational-databases/system-stored-procedures/sp-helparticle-transact-sql.md). Укажите имя публикации, которой принадлежит статья, в параметре **@publication** и имя статьи в параметре **@article**. Обратите внимание на значение **schema_option** столбца в результирующем наборе.  
  
2.  Выполнение [& (побитовое и)](../../../t-sql/language-elements/bitwise-and-transact-sql.md) значение для определения, если параметр имеет значение параметра операции, используя значение из шага 1 и необходимой схемой.  
  
    -   Если результат равен **0**, параметр не установлен.  
  
    -   Если результатом является значение параметра, то он уже установлен.  
  
3.  Если параметр не установлен, выполнение [| (Побитовое или)](../Topic/%7C%20\(Bitwise%20OR\)%20\(Transact-SQL\).md) операции, используя значения из шага 1 и значение параметра необходимой схемой.  
  
4.  На издателе в базе данных публикации выполните хранимую процедуру [sp_changearticle](../../../relational-databases/system-stored-procedures/sp-changearticle-transact-sql.md). Укажите имя публикации, к которой принадлежит статья, для **@publication**, имя статьи для **@article**, значение **schema_option** для **@property**, и шестнадцатеричный результат с шага 3 для **@value**.  
  
5.  Запустите агент моментальных снимков, чтобы создать новый моментальный снимок. Дополнительные сведения см. в статье [Create and Apply the Initial Snapshot](../../../relational-databases/replication/create-and-apply-the-initial-snapshot.md).  
  
#### Изменение параметров схемы для существующей статьи в публикации слиянием  
  
1.  На издателе в базе данных публикации выполните хранимую процедуру [sp_helpmergearticle](../../../relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql.md). Укажите имя публикации, которой принадлежит статья, в параметре **@publication** и имя статьи в параметре **@article**. Обратите внимание на значение **schema_option** столбца в результирующем наборе.  
  
2.  Выполнение [& (побитовое и)](../../../t-sql/language-elements/bitwise-and-transact-sql.md) значение для определения, если параметр имеет значение параметра операции, используя значение из шага 1 и необходимой схемой.  
  
    -   Если результат равен **0**, параметр не установлен.  
  
    -   Если результатом является значение параметра, то он уже установлен.  
  
3.  Если параметр не установлен, выполнение [| (Побитовое или)](../Topic/%7C%20\(Bitwise%20OR\)%20\(Transact-SQL\).md) операции, используя значения из шага 1 и значение параметра необходимой схемой.  
  
4.  На издателе в базе данных публикации выполните хранимую процедуру [sp_changemergearticle](../../../relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql.md). Укажите имя публикации, к которой принадлежит статья, для **@publication**, имя статьи для **@article**, значение **schema_option** для **@property**, и шестнадцатеричный результат с шага 3 для **@value**.  
  
5.  Запустите агент моментальных снимков, чтобы создать новый моментальный снимок. Дополнительные сведения см. в статье [Create and Apply the Initial Snapshot](../../../relational-databases/replication/create-and-apply-the-initial-snapshot.md).  
  
## См. также:  
 [Публикация данных и объектов базы данных](../../../relational-databases/replication/publish/publish-data-and-database-objects.md)   
 [Параметры статьи для репликации транзакций](../../../relational-databases/replication/transactional/article-options-for-transactional-replication.md)  
  
  