---
title: "Организация безопасности издателя | Microsoft Docs"
ms.custom: ""
ms.date: "03/14/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "replication"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "имена входа [репликация SQL Server], список доступа к публикации"
  - "публикации [репликация SQL Server], списки доступа к публикации"
  - "список доступа к публикации (PAL)"
  - "PAL (список доступа к публикации)"
  - "издатели [репликация SQL Server], безопасность"
  - "публикации [репликация SQL Server], безопасность"
ms.assetid: 4513a18d-dd6e-407a-b009-49dc9432ec7e
caps.latest.revision: 48
author: "BYHAM"
ms.author: "rickbyh"
manager: "jhubbard"
caps.handback.revision: 48
---
# Организация безопасности издателя
  К издателю подключаются следующие агенты репликации:  
  
-   Агент чтения журнала.  
  
-   агент моментальных снимков  
  
-   Агент чтения очереди.  
  
-   Агент слияния.  
  
 Рекомендуется выделить для этих агентов соответствующе имена входа, придерживаясь принципа предоставления минимально необходимых прав, и обеспечить надежное хранение их паролей. Сведения о разрешениях, необходимых для каждого из перечисленных агентов, см. в разделе [Replication Agent Security Model](../../../relational-databases/replication/security/replication-agent-security-model.md).  
  
 Помимо надлежащего управления именами входа и паролями, следует понимать роль, которую играет список доступа к публикации (PAL). Он позволяет именам входа производить доступ к данным публикации, ограничивая при этом нерегламентированный доступ к базе данных издателя.  
  
## Список доступа к публикации  
 Список доступа к публикации представляет собой первичный механизм защиты публикаций на издателе. Он работает так же, как и список управления доступом [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows. При создании публикации репликация создает список доступа для этой публикации. Список доступа к публикации может быть сконфигурирован таким образом, что будет содержать список имен входа и групп, которым предоставлен доступ к публикации. Когда агент подключается к издателю или распространителю и запрашивает доступ к публикации, данные проверки подлинности из списка доступа к публикации сравниваются с именем входа издателя, который предоставлен этим агентом. Этот процесс обеспечивает дополнительную защиту издателя, так как имена входа издателя и распространителя не могут использоваться клиентскими средствами для внесения изменений непосредственно на издателе.  
  
> [!NOTE]  
>  Репликация создает для каждой публикации роль на издателе для ввода в действие списка доступа к публикации. Роль имеет имя в формате **Msmerge_***\< PublicationID>* для репликации слиянием и **MSReplPAL_***\< PublicationDatabaseID>***_***\< PublicationID>* для репликации транзакций или моментальных снимков.  
  
 По умолчанию в список доступа к публикации включаются члены предопределенной роли сервера **sysadmin** (существующие на момент создания публикации) и имя входа, использованное для ее создания. По умолчанию все имена входа, которые являются членами **sysadmin** предопределенной роли сервера или **db_owner** явным образом будет добавлено в список доступа к фиксированной роли базы данных в базе данных публикации могут подписаться на публикацию.  
  
 При работе со списком доступа к публикации следует учитывать следующие моменты:  
  
-   Перед добавлением имени входа в список доступа к публикации имени входа [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] необходимо связать его с пользователем базы данных публикации.  
  
-   Следуйте принципу наименьших необходимых прав доступа, предоставляя именам входа из списка доступа к публикации только те разрешения, которые им необходимы для выполнения задач репликации. Не добавляйте имена входа в какие-либо предопределенные роли базы данных или роли сервера, ненужные для репликации. Дополнительные сведения о необходимых разрешениях см. в разделах [Replication Agent Security Model](../../../relational-databases/replication/security/replication-agent-security-model.md) и [Replication Security Best Practices](../../../relational-databases/replication/security/replication-security-best-practices.md).  
  
-   Если используется удаленный распространитель, то учетные записи в списке доступа к публикации должны быть доступны как на издателе, так и на распространителе. Это должны быть либо учетные записи домена, либо локальные учетные записи, определенные на обоих серверах. Связанные с обоими именами входа пароли также должны совпадать.  
  
-   Если список доступа к публикации содержит учетные записи Windows и домен использует службу Active Directory, то учетная запись, под которой выполняется [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , должна иметь разрешения на чтение в каталогах Active Directory. Если имеются проблемы с учетными записями Windows, убедитесь в том, что учетная запись, под которой выполняется [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , имеет достаточные разрешения. Дополнительные сведения см. в документации по Windows.  
  
 Список доступа к публикации, в разделе [Управление именами входа в списке доступа к публикации](../../../relational-databases/replication/security/manage-logins-in-the-publication-access-list.md).  
  
## агент моментальных снимков  
 Для каждой публикации существует один агент моментальных снимков. Дополнительные сведения см. в статье [Create a Publication](../../../relational-databases/replication/publish/create-a-publication.md).  
  
## Доставка моментальных снимков по FTP  
 Если указать, что моментальные снимки должны быть доступны через общий FTP-ресурс, а не через общий UNC-ресурс, при настройке доступа по FTP необходимо будет указать имя входа и пароль. Дополнительные сведения см. в разделе [Доставка моментального снимка через FTP](../../../relational-databases/replication/publish/deliver-a-snapshot-through-ftp.md).  
  
## Агент чтения журнала.  
 У каждой базы данных, опубликованной для репликации транзакций, может быть только один агент чтения журнала. Дополнительные сведения см. в статье [Create a Publication](../../../relational-databases/replication/publish/create-a-publication.md).  
  
## Агент чтения очереди.  
 Для всех издателей и публикаций (допускающих подписки, обновляемые посредством очередей), связанных с определенным распространителем, существует один агент чтения очереди. Дополнительные сведения см. в разделе [Включить обновление подписок для публикаций транзакций](../../../relational-databases/replication/publish/enable-updating-subscriptions-for-transactional-publications.md).  
  
## См. также:  
 [Включение шифрования соединений в ядре базы данных & #40; Диспетчер конфигурации SQL Server & #41;](../../../database-engine/configure-windows/enable encrypted connections to the database engine.md)   
 [Рекомендации по защите репликации](../../../relational-databases/replication/security/replication-security-best-practices.md)   
 [Безопасность и защита и #40; Репликация & #41;](../../../relational-databases/replication/security/security-and-protection-replication.md)  
  
  