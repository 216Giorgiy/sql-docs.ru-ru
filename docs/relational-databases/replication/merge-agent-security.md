---
title: "Безопасность агента слияния | Microsoft Docs"
ms.custom: ""
ms.date: "03/14/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "replication"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "sql13.rep.security.MA.f1"
helpviewer_keywords: 
  - "диалоговое окно «Безопасность агента слияния»"
ms.assetid: 9b86171a-4381-4b39-869a-cdc161e7cd15
caps.latest.revision: 24
author: "BYHAM"
ms.author: "rickbyh"
manager: "jhubbard"
caps.handback.revision: 24
---
# Безопасность агента слияния
  При помощи диалогового окна **Безопасность агента слияния** можно указать учетную запись Windows [!INCLUDE[msCoName](../../includes/msconame-md.md)] , под которой необходимо запускать агент слияния. Агент слияния запускается на распространителе для принудительных подписок и на подписчике для подписок по запросу. На учетную запись Windows можно также ссылаться как на *учетную запись процесса*, потому что процесс агента работает под этой учетной записью. Дополнительные параметры в этом диалоговом окне зависят от метода доступа к нему.  
  
-   Если это диалоговое окно вызывается из мастера создания подписки, можно указать контекст, при котором агент слияния устанавливает соединение с сервером подписчика (для принудительных подписок) или с серверами издателя и распространителя (для подписок по запросу). Можно установить соединение с помощью учетной записи Windows или в контексте [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] учетной записи.  
  
-   Если диалоговое окно открыто из **Свойства подписки** диалоговом окне укажите контекст, под которой агент слияния устанавливает соединения, нажав кнопку с многоточием (**...**) в **соединение с подписчиком** или **соединение с издателем** строки этого диалогового окна. Дополнительные сведения о доступе к **Свойства подписки** диалоговом разделе [представление и изменить свойства принудительной подписки](../../relational-databases/replication/view-and-modify-push-subscription-properties.md) и как: [Просмотр и изменение свойств подписки по запросу](../../relational-databases/replication/view-and-modify-pull-subscription-properties.md).  
  
 Все учетные записи должны быть допустимыми, а для каждой учетной записи должен быть указан правильный пароль. Учетные записи и пароли могут быть проверены только после запуска агента.  
  
## Параметры  
 **Учетная запись процесса**  
 Введите учетную запись Windows, под которой будет запускаться агент слияния.  
  
-   Для принудительных подписок учетная запись должна удовлетворять следующим условиям:  
  
    -   Минимум быть членом **db_owner** фиксированной роли базы данных в базе данных распространителя.  
  
    -   Она должна входить в список доступа к публикации.  
  
    -   Она должна иметь имя входа, связанное с пользователем в базе данных публикации.  
  
    -   Она должна иметь разрешение на чтение хранилища моментальных снимков.  
  
-   Для подписок по запросу учетная запись должна как минимум быть членом **db_owner** фиксированной роли базы данных в базе данных подписки.  
  
 Если при установке соединений производится олицетворение учетной записи процесса, требуются дополнительные разрешения. См. разделы **Соединиться с распространителем и издателем** и **Соединиться с подписчиком** , приведенные ниже.  
  
 Нельзя указать**Учетную запись процесса** для подписок по запросу на [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], потому что агент слияния не работает на экземплярах [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)].  
  
 **Пароль** и **Подтверждение пароля**  
 Введите пароль для учетной записи Windows.  
  
 **Соединиться с издателем и распространителем**  
 Для принудительных подписок соединения с издателем и распространителем всегда выполняются с помощью олицетворения учетной записи, указанной в **учетную запись процесса** текстовое поле.  
  
 Для подписок по запросу укажите, должен ли агент слияния устанавливать соединения с издателем и распространителем при помощи олицетворения учетной записи, указанной в текстовом поле **Учетная запись процесса** , или при помощи учетной записи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Если выбрано использование учетной записи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , введите имя входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и пароль.  
  
> [!NOTE]  
>  [!INCLUDE[msCoName](../../includes/msconame-md.md)] рекомендует выбирать олицетворение учетной записи Windows, а не с помощью [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] учетной записи.  
  
 Учетная запись Windows или учетная запись [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которые используются для соединения, должны удовлетворять следующим условиям.  
  
-   Она должна входить в список доступа к публикации.  
  
-   Она должна иметь имя входа, связанное с пользователем в базе данных публикации.  
  
-   быть именем входа, связанным с пользователем в базе данных распространителя (этот пользователь может быть гостем);  
  
-   Она должна иметь разрешение на чтение хранилища моментальных снимков.  
  
 **Соединиться с подписчиком**  
 Для подписок по запросу соединения с подписчиком всегда выполняются с помощью олицетворения учетной записи, указанной в **учетную запись процесса** текстовое поле.  
  
 Для принудительных подписок укажите, должен ли агент слияния устанавливать соединения с издателем и распространителем путем олицетворения учетной записи, указанной в текстовом поле **Учетная запись процесса** , или при помощи учетной записи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Если выбрано использование учетной записи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , введите имя входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и пароль.  
  
> [!NOTE]  
>  Рекомендуется использовать олицетворение учетной записи Windows вместо учетной записи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 Учетная запись Windows или [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] учетная запись, используемая для соединения с подписчиком необходимо как минимум быть членом **db_owner** фиксированной роли базы данных в базе данных подписки.  
  
## См. также:  
 [Управление именами входа и паролями в репликации](../../relational-databases/replication/security/manage-logins-and-passwords-in-replication.md)   
 [Модель безопасности агента репликации](../../relational-databases/replication/security/replication-agent-security-model.md)   
 [Обзор агентов репликации](../../relational-databases/replication/agents/replication-agents-overview.md)   
 [Рекомендации по защите репликации](../../relational-databases/replication/security/replication-security-best-practices.md)   
 [Подписка на публикации](../../relational-databases/replication/subscribe-to-publications.md)  
  
  