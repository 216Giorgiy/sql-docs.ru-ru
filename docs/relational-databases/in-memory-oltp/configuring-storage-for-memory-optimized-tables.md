---
title: "Настройка хранилища для таблиц, оптимизированных для памяти | Документация Майкрософт"
ms.custom:
- SQL2016_New_Updated
ms.date: 03/14/2017
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- database-engine-imoltp
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 6e005de0-3a77-4b91-b497-14cc0f9f6605
caps.latest.revision: 7
author: JennieHubbard
ms.author: jhubbard
manager: jhubbard
ms.translationtype: Human Translation
ms.sourcegitcommit: f3481fcc2bb74eaf93182e6cc58f5a06666e10f4
ms.openlocfilehash: 0250c8370960dc17adf13c020c51bfc603b111c8
ms.contentlocale: ru-ru
ms.lasthandoff: 06/22/2017

---
# <a name="configuring-storage-for-memory-optimized-tables"></a>Настройка хранилища оптимизированных для памяти таблиц
  Необходимо настроить емкость подсистемы хранения и количество операций ввода-вывода в секунду (IOPS).  
  
## <a name="storage-capacity"></a>Емкость хранилища  
 Чтобы оценить объем памяти, который потребуется для размещения надежных, оптимизированных для памяти таблиц баз данных, используйте сведения из раздела [Оценка требований к объему памяти для таблиц, оптимизированных для памяти](../../relational-databases/in-memory-oltp/estimate-memory-requirements-for-memory-optimized-tables.md) . Поскольку индексы не сохраняются в оптимизированных для памяти таблицах, не учитывайте размер индексов. После определения размера необходимо выделить место на диске, которое будет в четыре раза больше размера надежных, оптимизированных для памяти таблиц.  
  
## <a name="storage-iops"></a>IOPS хранилища  
 [!INCLUDE[hek_2](../../includes/hek-2-md.md)] может значительно повысить количество операций, выполняемых в рамках рабочей нагрузки. Поэтому важно убедиться в том, что подсистема ввода-вывода не станет узким местом.  
  
-   При миграции таблиц, находящихся на диске, в оптимизированные для памяти таблицы убедитесь в том, что журнал транзакций находится на носителе, который способен поддерживать возросшее число операций журнала транзакций. Например, если носитель поддерживает обработку операций журнала транзакций на скорости в 100 МБ/сек, а оптимизированные для памяти таблицы работают в пять раз быстрее, носитель, на котором находится журнал транзакций, также должен позволять увеличить производительность в пять раз, чтобы операции журнала транзакций не стали узким местом в системе.  
  
-   Оптимизированные для памяти таблицы сохраняются в файлы, которые находятся в одном или нескольких контейнерах. Каждый контейнер обычно следует сопоставить с собственным шпинделем. Он служит для увеличения емкости хранилища и увеличения IOPS. Необходимо убедиться в том, что последовательные IOPS носителя могут поддерживать пропускную способность журнала транзакций, которая будет в три раза выше.  
  
     Например, если оптимизированные для памяти таблицы выполняют операции журнала транзакций со скоростью 500 МБ/с, то хранилище оптимизированных для памяти таблиц должно поддерживать IOPS в 1,5 ГБ/с. Необходимость увеличения пропускной способности журнала транзакций в три раза обусловлена тем, что, как было отмечено, пары файла данных и разностного файла сначала записываются с начальными данными, а затем в рамках операции объединения их необходимо считывать и перезаписывать.  
  
     Еще одним фактором при оценке IOPS для хранилища является время восстановления оптимизированных для памяти таблиц. Данные из надежных таблиц должны быть считаны в память до того, как база данных станет доступна приложениям. Обычно загрузку данных в оптимизированные для памяти таблицы можно выполнять со скоростью IOPS. Поэтому, если общий объем хранилища для надежных, оптимизированных для памяти таблиц составляет 60 ГБ и необходимо обеспечить возможность загружать эти данные за одну минуту, для хранения должно быть задано значение IOPS в 1 ГБ/сек.  
  
-   При наличии четного числа шпинделей файлы контрольных точек будут распределяться равномерно по всем физическим дискам. В SQL Server 2014 так не происходит.  
  
## <a name="encryption"></a>Шифрование  
 В [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] хранилище таблиц, оптимизированных для памяти, будет зашифровано в ходе включения прозрачного шифрования данных в базе данных. Дополнительные сведения см. в статье [Прозрачное шифрование данных (TDE)](../../relational-databases/security/encryption/transparent-data-encryption-tde.md).  
  
## <a name="see-also"></a>См. также:  
 [Создание и управление хранилищем для оптимизированных для памяти объектов](../../relational-databases/in-memory-oltp/creating-and-managing-storage-for-memory-optimized-objects.md)  
  
  
