---
title: Виртуализация внешних данных в SQL Server 2019 CTP 2.0 | Документация Майкрософт
description: ''
author: Abiola
ms.author: aboke
manager: craigg
ms.date: 09/24/2018
ms.topic: conceptual
ms.prod: sql
ms.technology: polybase
monikerRange: '>= sql-server-ver15 || = sqlallproducts-allversions'
ms.openlocfilehash: dfd4460c51e4aeef8e9faff8479e7edf2678c35f
ms.sourcegitcommit: 61381ef939415fe019285def9450d7583df1fed0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/01/2018
ms.locfileid: "47627322"
---
# <a name="use-the-data-external-table-wizard-with-external-tables"></a>Сведения об использовании мастера внешних таблиц данных.

Один из основных сценариев для SQL Server 2019 CTP 2.0 — это возможность выполнять виртуализацию данных.  Благодаря этому процессу данные могут оставаться в исходном расположении, однако вы можете **виртуализировать** данные в экземпляре SQL Server таким образом, чтобы их можно было запрашивать так же, как любую другую таблицу в SQL Server. Это уменьшает потребность процессов извлечения, преобразования и загрузки. Это можно сделать с помощью соединителей Polybase. Дополнительные сведения о виртуализации данных см. в документе [Руководство по PolyBase](polybase-guide.md).

## <a name="launch-the-external-table-wizard"></a>Запуск мастера внешних таблиц

Подключитесь к главному экземпляру, используя IP-адрес или номер порта (31433), полученные в конце скрипта развертывания. Разверните узел **Базы данных** в обозревателе объектов. Затем выберите одну из баз данных, в которую необходимо виртуализировать данные из существующего экземпляра SQL Server. Щелкните базу данных правой кнопкой мыши и выберите пункт **Create External Table** (Создать внешнюю таблицу) в контекстном меню. Будет запущен мастер виртуализации данных. Мастер виртуализации данных также можно запустить с помощью палитры команд, нажав клавиши CTRL+SHIFT+P (в Windows) и CMD+SHIFT+P (в Mac).

![Мастер виртуализации данных](media/data-virtualization/virtualize-data-wizard.png)
## <a name="select-a-data-source"></a>Выбор источника данных

Если мастер был запущен в одной из баз данных, раскрывающийся список назначения автоматически будет заполнен. На этом экране также можно ввести или изменить базу данных назначения. В мастере поддерживаются такие внешние типы источников данных, как SQL Server и Oracle.

> [!NOTE]
>SQL Server выделен по умолчанию


![Выбор источника данных](media/data-virtualization/select-data-source.png)

Щелкните "Далее", чтобы перейти к следующему шагу в мастере, на котором задается главный ключ базы данных.

## <a name="create-database-master-key"></a>Создание главного ключа базы данных

На этом шаге вам нужно создать главный ключ базы данных. Создание главного ключа является обязательным, так как он позволяет защитить учетные данные, используемые внешним источником данных. Выберите надежный пароль для главного ключа. Вам также следует создать резервную копию главного ключа с помощью инструкции BACKUP MASTER KEY и хранить ее в безопасном месте вне данного веб-сайта.

![Создание главного ключа базы данных](media/data-virtualization/virtualize-data-master-key.png)

> [!IMPORTANT]
> Если у вас уже есть главный ключ базы данных, поля ввода будут ограничены, и вы сможете пропустить этот шаг. Просто щелкните "Далее", чтобы перейти к следующей странице мастера.

> [!NOTE]
> Если вы выбрали ненадежный пароль, тогда это сделает мастер на последнем шаге. Это известная проблема, которую мы исправим в предстоящем выпуске, чтобы эта ситуация была более интуитивно понятной.

## <a name="enter-the-external-data-source-credentials"></a>Ввод учетных данных внешнего источника данных

На этом шаге введите внешний источник данных и его учетные данные. На этом шаге создается объект внешнего источника данных, а затем используются его учетные данные, чтобы установить соединение между ним и объектом базы данных. Введите имя внешнего источника данных (например, Test) и предоставьте сведения о подключении для внешнего источника данных SQL Server: имя базы данных и имя сервера, где должен быть создан внешний источник данных.

Следующим шагом является настройка учетных данных. Укажите имя учетных данных для базы данных, которое используется для безопасного хранения сведений о входе в создаваемый внешний источник данных (например, TestCred), и введите имя пользователя и пароль для подключения к источнику данных.

![Учетные данные внешнего источника данных](media/data-virtualization/data-source-credentials.png)

## <a name="external-data-table-mapping"></a>Сопоставление внешних таблиц данных

В следующем окне можно выбрать таблицы, для которых нужно создать внешние представления. Если выбрать родительскую базу данных, все дочерние таблицы также будут включены. При выборе таблиц в области справа можно увидеть таблицу сопоставления. Здесь можно внести любые изменения типа или изменить имя выбранной внешней таблицы.

![Учетные данные внешнего источника данных](media/data-virtualization/data-table-mapping.png)

> [!NOTE]
>Дважды щелкните другую выбранную таблицу, чтобы изменить представление сопоставления.

> [!IMPORTANT]
>Тип фотографии еще не поддерживается в средстве внешней таблицы. Если создать внешнее представление с типом фотографии, после создания таблицы будет вызвана ошибка. Однако таблица будет создана.

## <a name="summary"></a>Сводка

На этом шаге предоставляется сводка выбранных значений. Она содержит имя учетных данных для базы данных и объекты внешнего источника данных, которые были созданы в базе данных назначения. На этом шаге у вас есть возможность выбрать команду **Создать скрипт**, которая сформирует T-SQL-синтаксис для создания внешнего источника данных, или **Создать**, которая создаст объект внешнего источника данных.

![Экран сводки](media/data-virtualization/virtualize-data-summary.png)

После нажатия кнопки "Создать" вы увидите объект внешнего источника данных, созданный в базе данных назначения.

![Внешние источники данных](media/data-virtualization/external-data-sources.png)

Если щелкнуть **Создать скрипт**, начнется формирование запроса T-SQL для создания объекта внешнего источника данных.

![Сформировать скрипт](media/data-virtualization/generated-script.png)

> [!NOTE]
> Кнопка "Создать скрипт" должна отображаться только на последней странице мастера. Сейчас она отображается на всех страницах.

## <a name="next-steps"></a>Следующие шаги

Дополнительные сведения о кластерах больших данных SQL Server и связанных сценариях см. в [этой статье](../../big-data-cluster/big-data-cluster-overview.md).
