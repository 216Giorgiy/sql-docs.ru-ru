---
title: Настройка сжатия для группы доступности | Документы Майкрософт
ms.custom: ''
ms.date: 06/22/2016
ms.prod: sql
ms.reviewer: ''
ms.suite: sql
ms.technology: high-availability
ms.tgt_pltfrm: ''
ms.topic: conceptual
ms.assetid: 7632769c-b246-4766-886f-7c60ec540be8
caps.latest.revision: 12
author: MashaMSFT
ms.author: v-saume
manager: craigg
ms.openlocfilehash: 4ab713b7089f4c76214fe5e290196757cce43317
ms.sourcegitcommit: 8aa151e3280eb6372bf95fab63ecbab9dd3f2e5e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2018
ms.locfileid: "34770940"
---
# <a name="tune-compression-for-availability-group"></a>Настройка сжатия для группы доступности
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md](../../../includes/appliesto-ss-xxxx-xxxx-xxx-md.md)]
По умолчанию SQL Server сжимает потоки данных для групп доступности, где это необходимо. Сжатие позволяет сократить объем сетевого трафика, увеличить загрузку ЦП и может вызывать задержки. Включить сжатие могут только члены предопределенной роли сервера sysadmin. В следующей таблице приведены ситуации, в которых SQL Server использует сжатие для потоков журнала группы доступности.

| Сценарий | Параметр сжатия
| ---- | ----
| Реплика синхронной фиксации | Не сжимается
| Реплики асинхронной фиксации | Compressed
| Во время автоматического заполнения | Не сжимается

## <a name="trace-flags-for-availability-group-compression"></a>Флаги трассировки для сжатия группы доступности 

В большинстве случаев изменять эти параметры не рекомендуется. Для тестирования изменения этих параметров можно использовать глобальные флаги трассировки. SQL Server применяет глобальные флаги трассировки ко всему экземпляру. Эти параметры будут применяться ко всем группам доступности в экземпляре.  

В следующей таблице приведены флаги трассировки, изменяющие поведение сжатия по умолчанию для SQL Server. 

Флаг трассировки | Описание
------------- | -------------
1462          | Отключает сжатие потока журналов для групп доступности с асинхронными репликами. На асинхронных репликах эта функция включена по умолчанию для оптимизации пропускной способности сети.
9567          | Включает сжатие потока данных для групп доступности во время для автоматического заполнения. Во время автоматического заполнения сжатие может значительно сократить время передачи и увеличит загрузку ЦП.
9592          | Включает сжатие потока журналов для групп доступности с синхронными репликами. На синхронных репликах эта функция отключена по умолчанию, поскольку сжатие приводит к увеличению задержки. Сжатие потока журнала включено по умолчанию для асинхронных реплик.


## <a name="resources"></a>Ресурсы


[Параметры запуска компонента Database Engine](../../../database-engine/configure-windows/database-engine-service-startup-options.md)

[Автоматическое заполнение](https://msdn.microsoft.com/library/mt735149(SQL.130).aspx)

[Предварительные требования для AlwaysOn](prereqs-restrictions-recommendations-always-on-availability.md) 
