---
title: "Раздел данных | Документы Microsoft"
ms.prod: sql-non-specified
ms.prod_service: drivers
ms.service: 
ms.component: ado
ms.technology: drivers
ms.custom: 
ms.date: 01/19/2017
ms.reviewer: 
ms.suite: sql
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: data section [ADO]
ms.assetid: 43dc42a8-7057-48e6-93d6-880d5c5c51a4
caps.latest.revision: "6"
author: MightyPen
ms.author: genemi
manager: jhubbard
ms.workload: Inactive
ms.openlocfilehash: 486c936681adca59a90dae6a5e304be6f8b4dba5
ms.sourcegitcommit: cc71f1027884462c359effb898390c8d97eaa414
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="data-section"></a>Раздел данных
Раздел данных определяет данные набора строк, а также все ожидающие обновления, вставки или удаления. Раздел данных может содержать ноль или более строк. Он может содержать только данные из одного набора строк, где строка определяется схемой. Кроме того как было отмечено ранее, столбцы без данных может быть опущено. Если атрибут или дочерний элемент используется в секции данных и конструкции не был определен в разделе Схема, он просто игнорируется.  
  
## <a name="string"></a>String  
 Зарезервированные символы XML в текстовых данных должны быть заменены сущности знаков. Например в имени компании «Джо гараже», одиночной кавычки необходимо заменить сущности. Собственно строка будет выглядеть следующим образом:  
  
```  
<z:row CompanyName="Joe's Garage"/>  
```  
  
 Следующие символы зарезервированы в формате XML и должен быть заменен сущности знаков: {",» &,\<, >}.  
  
## <a name="binary"></a>Двоичный  
 Двоичные данные являются bin.hex кодировке (то есть сопоставляется один байт с двух символов, один символ в каждом байта).  
  
## <a name="datetime"></a>DateTime  
 Variant VT_DATE-формат не поддерживается напрямую типы данных XML-данных. Правильный формат для дат, времени и данные компонента: гггг-мм-ДДТЧЧ.  
  
 Дополнительные сведения о форматах даты, заданные XML см. в разделе [спецификации W3C XML-Data](https://go.microsoft.com/fwlink/?LinkId=5692).  
  
 При XML-Data спецификация определяет две эквивалентные типы данных (например, i4 == int), ADO будет записи понятное имя, но чтения в обеих.  
  
## <a name="managing-pending-changes"></a>Управление ожидающими изменениями  
 Набор записей, которые могут быть открыты в немедленно или пакетный режим обновления. При их открытии в пакетный режим обновления с курсорами на стороне клиента, все изменения, внесенные в набор записей находятся в состоянии ожидания, пока не будет вызван метод UpdateBatch. Ожидающие изменения также сохраняются при сохранении набора записей. В XML, они представлены с помощью «обновления» элементы, определенные в urn: schemas-microsoft-com:rowset. Кроме того, если набор строк могут быть обновлены, обновляемое свойство должно быть присвоено значение true, если в определении строки. Например, для определения того, что таблица «Поставщики» содержит ожидающие изменения, определения строки будут выглядеть вид следующие.  
  
```  
<s:ElementType name="row" content="eltOnly" updatable="true">  
  <s:attribute type="ShipperID"/>  
  <s:attribute type="CompanyName"/>  
  <s:attribute type="Phone"/>  
  <s:extends type="rs:rowbase"/>  
</s:ElementType>  
```  
  
 Это значение определяет поставщика сохраняемости данных поверхности, чтобы ADO можно создать является обновляемым объектом набора записей.  
  
 Следующий образец данных вид операции вставки, изменения и удаления в сохраненный файл.  
  
```  
<rs:data>  
  <z:row ShipperID="2" CompanyName="United Package"   
    Phone="(503) 555-3199"/>  
<rs:update>  
  <rs:original>  
    <z:row ShipperID="3" CompanyName="Federal Shipping"   
      Phone="(503) 555-9931"/>  
  </rs:original>  
  <z:row Phone="(503) 552-7134"/>  
</rs:update>  
<rs:insert>  
  <z:row ShipperID="12" CompanyName="Lightning Shipping"   
    Phone="(505) 111-2222"/>  
  <z:row ShipperID="13" CompanyName="Thunder Overnight"   
    Phone="(505) 111-2222"/>  
  <z:row ShipperID="14" CompanyName="Blue Angel Air Delivery"   
    Phone="(505) 111-2222"/>  
</rs:insert>  
<rs:delete>  
  <z:row ShipperID="1" CompanyName="Speedy Express" Phone="(503) 555-9831"/>  
</rs:delete>  
</rs:data>  
```  
  
 Обновление всегда содержит всей исходной строки данных, а затем измененные строки данных. Измененная строка может содержать все столбцы или только те столбцы, которые действительно были изменены. В предыдущем примере строку Shipper 2 не изменяется, и только в столбце Phone были изменены значения Shipper 3 и поэтому единственный столбец, включенный в измененной строке. Вставка строк для «поставщики», 12, 13 и 14 — это пакетные вместе в одном rs: Вставка тега. Обратите внимание, что удаленные строки могут также быть объединены, несмотря на то, что это не показано в предыдущем примере.  
  
## <a name="see-also"></a>См. также:  
 [Сохранение записей в формате XML](../../../ado/guide/data/persisting-records-in-xml-format.md)
