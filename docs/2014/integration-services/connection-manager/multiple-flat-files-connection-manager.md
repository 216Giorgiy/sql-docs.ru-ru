---
title: Диспетчер соединения с несколькими неструктурированными файлами | Документы Майкрософт
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology:
- integration-services
ms.topic: conceptual
helpviewer_keywords:
- Multiple Flat Files connection manager
- connections [Integration Services], flat files
- flat files
- flat file connections [Integration Services]
- connection managers [Integration Services], Multiple Flat Files
- multiple flat file connections
ms.assetid: 31fc3f7a-d323-44f5-a907-1fa3de66631a
author: douglaslMS
ms.author: douglasl
manager: craigg
ms.openlocfilehash: e9c9bd0573a3a6fa8211324066e86446b85ec0f6
ms.sourcegitcommit: 3da2edf82763852cff6772a1a282ace3034b4936
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/02/2018
ms.locfileid: "48185666"
---
# <a name="multiple-flat-files-connection-manager"></a>диспетчер соединения с несколькими неструктурированными файлами
  Диспетчер соединения с несколькими неструктурированными файлами позволяет пакету получить доступ к данным в нескольких неструктурированных файлах. Например, источник неструктурированных файлов может использовать диспетчер соединения с несколькими неструктурированными файлами, если задача потока данных находится в контейнере цикла, например в контейнере «цикл по элементам». В каждом цикле контейнера источник неструктированных файлов загружает данные из следующего имени файла, которое предоставляет диспетчер соединения с несколькими неструктурированными файлами.  
  
 При добавлении к пакету диспетчера соединений нескольких неструктурированных файлов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] создает подключение диспетчера, который разрешает подключение нескольких неструктурированных файлов во время выполнения, устанавливает свойства диспетчера соединений нескольких неструктурированных файлов, и добавляет диспетчер соединений нескольких неструктурированных файлов `Connections` коллекцию пакета.  
  
 `ConnectionManagerType` Свойства диспетчера соединений присваивается `MULTIFLATFILE`.  
  
 Можно установить конфигурацию диспетчера соединений с несколькими неструктурированными файлами следующими способами.  
  
-   Укажите файлы, локаль и кодовую страницу для использования. Локаль используется для интерпретации данных, зависящих от локаля, например дат, а кодовая страница используется для конвертации строковых данных в формат Юникод.  
  
-   Укажите формат файла. Можно использовать форматы с разделителями, фиксированной шириной или без выравнивания по правому краю.  
  
-   Укажите строку заголовка, строку данных и разделители столбцов. Разделители столбцов могут указываться на уровне файла и перезаписываться на уровне столбцов.  
  
-   Укажите, содержит ли первая строка данных имена столбцов.  
  
-   Укажите символ ограничителя текста. Каждый столбец может быть настроен на распознавание текстового ограничителя.  
  
-   Установите свойства, например имя, тип данных и максимальную ширину отдельных столбцов.  
  
 Когда диспетчер соединений нескольких неструктурированных файлов ссылается на несколько файлов, то пути этих файлов разделены символом вертикальной черты (|). Свойство `ConnectionString` диспетчера соединений имеет следующий формат:  
  
 \<*путь*>|\<*путь*>  
  
 Можно также указать несколько файлов, используя символы-шаблоны. Например, для ссылки на диске все текстовые файлы на C, значение `ConnectionString` свойство может устанавливаться на диске C:\\*.txt.  
  
 Если диспетчер соединений с несколькими неструктурированными файлами ссылается на несколько файлов, то все файлы должны иметь один формат.  
  
 По умолчанию диспетчер соединений с несколькими неструктурированными файлами устанавливает длину строковых столбцов в значение 50 символов. В диалоговом окне **Редактор диспетчера соединений с несколькими неструктурированными файлами** можно оценить образцы данных и автоматически изменить длину этих столбцов, чтобы предотвратить усечение данных или избыточность ширины столбца. Если изменение длины столбца происходит не в источнике или преобразовании неструктурированного файла, то длина столбца остается неизменной на всем потоке данных. Если эти столбцы сопоставляются с более узкими целевыми столбцами, то пользователю выдается предупреждение, а во время выполнения могут возникнуть ошибки, связанные с усечением данных. Можно изменить размер столбцов так, чтобы столбцы соответствовали целевым столбцам в диспетчере соединений с неструктурированными файлами, источнике неструктурированных файлов или преобразовании. Чтобы изменить длину выходных столбцов, `Length` свойство выходного столбца на **свойства входов и выходов** вкладке **расширенный редактор** диалоговое окно.  
  
 Если длина столбцов обновляется в диспетчере соединений с несколькими неструктурированными файлами, после того как был добавлен и настроен источник неструктурированного файла, который использует диспетчер соединений, то нельзя вручную изменять размер выходных столбцов в источнике неструктурированного файла. При открытии диалогового окна **Источник «Неструктурированный файл»** источник неструктурированного файла предоставляет параметр для синхронизации метаданных столбца.  
  
## <a name="configuration-of-the-multiple-flat-files-connection-manager"></a>Конфигурация диспетчера соединений с несколькими неструктурированными файлами  
 Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.  
  
 Дополнительные сведения о свойствах, которые можно задать в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] , см. в следующих разделах:  
  
-   [Редактор диспетчера соединений с несколькими неструктурированными файлами &#40;страница "Общие"&#41;](../general-page-of-integration-services-designers-options.md)  
  
-   [Редактор диспетчера соединений с несколькими неструктурированными файлами &#40;страница "столбцы"&#41;](../multiple-flat-files-connection-manager-editor-columns-page.md)  
  
-   [Редактор диспетчера соединений с несколькими неструктурированными файлами &#40;страница "Дополнительно"&#41;](../multiple-flat-files-connection-manager-editor-advanced-page.md)  
  
-   [Редактор диспетчера соединений с несколькими неструктурированными файлами &#40;Предварительный просмотр страницы&#41;](../multiple-flat-files-connection-manager-editor-preview-page.md)  
  
 Сведения о программной настройке диспетчера соединений см. в разделе <xref:Microsoft.SqlServer.Dts.Runtime.ConnectionManager> и [Добавление соединений программным образом](../building-packages-programmatically/adding-connections-programmatically.md).  
  
## <a name="see-also"></a>См. также  
 [Источник неструктурированных файлов](../data-flow/flat-file-source.md)   
 [Неструктурированный файл](../data-flow/flat-file-destination.md)   
 [Службы Integration Services &#40;SSIS&#41; подключений](integration-services-ssis-connections.md)  
  
  
