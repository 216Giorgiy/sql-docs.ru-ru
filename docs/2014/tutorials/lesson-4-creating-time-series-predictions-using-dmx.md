---
title: 'Урок 4: Создание прогнозов временных рядов, с помощью расширений интеллектуального анализа данных | Документы Microsoft'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- analysis-services
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 6b883e43-209d-489a-8dc3-9349f88acae8
caps.latest.revision: 17
author: minewiskan
ms.author: owend
manager: kfile
ms.openlocfilehash: a345b37d13ade71baad6635cee0508e97d7755eb
ms.sourcegitcommit: 8c040e5b4e8c7d37ca295679410770a1af4d2e1f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/21/2018
ms.locfileid: "36312412"
---
# <a name="lesson-4-creating-time-series-predictions-using-dmx"></a>Урок 4: Создание прогнозов временных рядов, с помощью расширений интеллектуального анализа данных
  В этом уроке и следующем занятии, будет использовать расширения интеллектуального анализа данных (DMX) для создания различных типов прогнозов, основанных на моделях временных рядов, которые созданы в [занятия 1: Создание модели интеллектуального анализа данных временных рядов и структуры интеллектуального анализа данных](../../2014/tutorials/lesson-1-creating-a-time-series-mining-model-and-mining-structure.md)и [уроке 2: добавление моделей интеллектуального анализа данных для структуры интеллектуального анализа данных временных рядов](../../2014/tutorials/lesson-2-adding-mining-models-to-the-time-series-mining-structure.md).  
  
 Использование модели временных рядов дает много возможностей для выполнения прогнозирования.  
  
-   Использование в модели интеллектуального анализа данных существующих закономерностей и данных.  
  
-   Использование в модели интеллектуального анализа данных существующих закономерностей, но предоставление новых данных.  
  
-   Добавление в модель новых данных или обновление модели.  
  
 Далее приведен синтаксис выполнения этих типов прогнозов.  
  
 Используемый по умолчанию прогноз временных рядов.  
 Используйте [PredictTimeSeries &#40;расширений интеллектуального анализа данных&#41; ](/sql/dmx/predicttimeseries-dmx) для возвращения заданного числа прогнозов из обученной модели.  
  
 Например, в разделе [PredictTimeSeries &#40;расширений интеллектуального анализа данных&#41; ](/sql/dmx/predicttimeseries-dmx) или [примеры запросов для модели временных рядов](../../2014/analysis-services/data-mining/time-series-model-query-examples.md).  
  
 EXTEND_MODEL_CASES  
 Используйте [PredictTimeSeries &#40;расширений интеллектуального анализа данных&#41; ](/sql/dmx/predicttimeseries-dmx) с аргументом EXTEND_MODEL_CASES позволяет добавлять новые данные, расширять ряды и создавать прогнозы на основе модели интеллектуального анализа обновленных данных.  
  
 Этот учебник содержит пример использования аргумента EXTEND_MODEL_CASES.  
  
 REPLACE_MODEL_CASES  
 Используйте [PredictTimeSeries &#40;расширений интеллектуального анализа данных&#41; ](/sql/dmx/predicttimeseries-dmx) с аргументом REPLACE_MODEL_CASES, чтобы заменить исходные данные новыми рядами данных, а затем создайте прогнозов, основанных на применении закономерностей в модели интеллектуального анализа данных для новых данных последовательность.  
  
 Пример использования аргумента REPLACE_MODEL_CASES см. в разделе [Lesson 2: построение сценария прогнозирования &#40;промежуточного Data Mining Tutorial&#41;](../../2014/tutorials/lesson-2-building-a-forecasting-scenario-intermediate-data-mining-tutorial.md).  
  
## <a name="lesson-tasks"></a>Задачи занятия  
 На этом занятии будут выполнены следующие задачи.  
  
-   Создание запроса для получения используемых по умолчанию прогнозов, основанных на существующих данных.  
  
 На следующем занятии будут выполнены следующие связанные задачи.  
  
-   Создание запроса для предоставления новых данных и получения обновленных прогнозов.  
  
 Наряду с созданием запросов вручную, при помощи расширений интеллектуального анализа данных, можно также создавать прогнозы в среде [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)], с помощью построителя прогнозирующих запросов.  
  
## <a name="simple-time-series-prediction-query"></a>Простой прогнозирующий запрос временных рядов  
 На первом шаге используется инструкция `SELECT FROM` совместно с функцией `PredictTimeSeries` для создания прогноза временных рядов. Модели временных рядов поддерживают упрощенный синтаксис создания прогнозов: нет необходимости предоставлять входные данные, нужно только задать количество создаваемых прогнозов. В следующем фрагменте показан общий пример инструкции, которая будет использоваться в дальнейшем.  
  
```  
SELECT <select list>   
FROM [<mining model name>]   
WHERE [<criteria>]  
```  
  
 Список выбора может содержать столбцы из модели, такие как имя продукта, строки, вы создаете прогнозы, или прогнозирующие функции, такие как [запаздывания &#40;расширений интеллектуального анализа данных&#41; ](/sql/dmx/lag-dmx) или [PredictTimeSeries &#40;Расширений интеллектуального анализа данных&#41;](/sql/dmx/predicttimeseries-dmx), специально предназначенные для моделей интеллектуального анализа данных временных рядов.  
  
#### <a name="to-create-a-simple-time-series-prediction-query"></a>Создание простого запроса прогнозирования временного ряда  
  
1.  В **обозревателя объектов**, щелкните правой кнопкой мыши экземпляр [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)], пункты **новый запрос**, а затем нажмите кнопку **расширений интеллектуального анализа данных**.  
  
     Откроется редактор запросов, содержащий новый, пустой запрос.  
  
2.  Скопируйте общий пример инструкции в пустой запрос.  
  
3.  Вместо  
  
    ```  
    <select list>   
    ```  
  
     вставьте  
  
    ```  
    [Forecasting_MIXED].[ModelRegion],  
    PredictTimeSeries([Forecasting_MIXED].[Quantity],6) AS PredictQty,  
    PredictTimeSeries ([Forecasting_MIXED].[Amount],6) AS PredictAmt  
    ```  
  
     В первой строке извлекается значение из модели интеллектуального анализа данных, которая идентифицирует ряд.  
  
     Во второй и третьей строке используется функция `PredictTimeSeries`. В каждой строке предсказание выполняется для разных атрибутов, для `[Quantity]` или `[Amount]`. Числа после имен прогнозируемых атрибутов указывают количество временных шагов, необходимых для прогнозирования.  
  
     Предложение `AS` используется для предоставления имени столбца, возвращаемого каждой прогнозирующей функцией. Если псевдоним не указывается, по умолчанию возвращаются оба столбца с меткой `Expression`.  
  
4.  Вместо  
  
    ```  
    [<mining model>]   
    ```  
  
     вставьте  
  
    ```  
    [Forecasting_MIXED]  
    ```  
  
5.  Вместо  
  
    ```  
    WHERE [criteria>]   
    ```  
  
     вставьте  
  
    ```  
    WHERE [ModelRegion] = 'M200 Europe' OR  
    [ModelRegion] = 'M200 Pacific'  
    ```  
  
     Полная инструкция теперь должна выглядеть следующим образом.  
  
    ```  
    SELECT  
    [Forecasting_MIXED].[ModelRegion],  
    PredictTimeSeries([Forecasting_MIXED].[Quantity],6) AS PredictQty,  
    PredictTimeSeries ([Forecasting_MIXED].[Amount],6) AS PredictAmt  
    FROM   
    [Forecasting_MIXED]  
    WHERE [ModelRegion] = 'M200 Europe' OR  
    [ModelRegion] = 'M200 Pacific'  
    ```  
  
6.  В меню **Файл** щелкните **Сохранить DMXQuery1.dmx как**.  
  
7.  В **Сохранить как** диалоговое окно, перейдите к соответствующей папке и присвойте файлу имя `SimpleTimeSeriesPrediction.dmx`.  
  
8.  На панели инструментов нажмите кнопку **Выполнить** .  
  
     Запрос возвращает 6 прогнозов для каждого из двух сочетаний продукта и региона, указанных в предложении `WHERE`.  
  
 На следующем занятии будет создан запрос, предоставляющий модели новые данные, и будет выполнено сравнение результатов этого прогноза с результатами только что созданного прогноза.  
  
## <a name="next-task-in-lesson"></a>Следующая задача занятия  
 [Урок 5. Расширение модели временных рядов](../../2014/tutorials/lesson-5-extending-the-time-series-model.md)  
  
## <a name="see-also"></a>См. также  
 [PredictTimeSeries &#40;расширений интеллектуального анализа данных&#41;](/sql/dmx/predicttimeseries-dmx)   
 [Lag &#40;расширений интеллектуального анализа данных&#41;](/sql/dmx/lag-dmx)   
 [Примеры запросов для модели временных рядов](../../2014/analysis-services/data-mining/time-series-model-query-examples.md)   
 [Занятие 2: Построение сценария прогнозирования &#40;промежуточного учебник по интеллектуальному анализу данных&#41;](../../2014/tutorials/lesson-2-building-a-forecasting-scenario-intermediate-data-mining-tutorial.md)  
  
  
