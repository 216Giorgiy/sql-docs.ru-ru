---
title: Тип соединения с SQL Server Parallel Data Warehouse (SSRS) | Документы Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- reporting-services-native
ms.tgt_pltfrm: ''
ms.topic: conceptual
ms.assetid: 3925fd3d-2aa1-4768-96ad-cfc2c0ba9283
caps.latest.revision: 10
author: markingmyname
ms.author: maghan
manager: craigg
ms.openlocfilehash: 6b1b12938e2043ee126c81313fc955454742bcde
ms.sourcegitcommit: c18fadce27f330e1d4f36549414e5c84ba2f46c2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2018
ms.locfileid: "37149415"
---
# <a name="sql-server-parallel-data-warehouse-connection-type-ssrs"></a>Тип соединения с параллельным хранилищем данных SQL Server (SSRS)
  [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssDWCurrentFull](../../../includes/ssdwcurrentfull-md.md)] является виртуальным устройством хранилища масштабируемых данных, которое обеспечивает производительность и масштабируемость посредством расширенной параллельной обработки. [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] использует [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] баз данных для распределенной обработки и хранения данных.  
  
 Устройство разбивает на секции большие таблицы базы данных по нескольким физическим узлам, при этом на каждом узле выполняется свой экземпляр [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]. При подключении отчета к [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] для извлечения данных он подключается к узлу, управляющему обработкой запросов в устройстве [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] . После создания соединения различий между работой с экземпляром [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], который находится либо не находится в среде [!INCLUDE[ssDW](../../../includes/ssdw-md.md)], не будет.  
  
 Чтобы включить данные из [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] в отчете, необходимо иметь набор данных, основанный на источнике данных отчета типа [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Parallel Data Warehouse. Этот встроенный тип источника данных основан на [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] модуль обработки данных параллельного хранилища данных. Используйте этот тип источника данных для подключения и извлечения данных из [!INCLUDE[ssDW](../../../includes/ssdw-md.md)].  
  
 Этот модуль обработки данных поддерживает многозначные параметры, серверные статистические вычисления и учетные данные, управляемые отдельно с помощью строки подключения.  
  
 Дополнительные сведения см. на веб-сайте [Параллельное хранилище данных SQL Server 2008 R2](http://go.microsoft.com/fwlink/?LinkId=150895).  
  
 Используйте сведения в этом разделе для создания источника данных. Пошаговые инструкции см. в разделе [Добавление и проверка подключения к данным или источнику данных &#40;построитель отчетов и службы SSRS&#41;](add-and-verify-a-data-connection-report-builder-and-ssrs.md).  
  
##  <a name="Connection"></a> Строка подключения  
 При соединении со службами [!INCLUDE[ssDW](../../../includes/ssdw-md.md)]устанавливается связь с объектом базы данных в устройстве [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] . Необходимо указать объект базы данных для использования в конструкторе запросов. Если в строке соединения не указать базу данных, то будет установлено соединение с базой данных, заданной по умолчанию администратором для данного пользователя. Данные для строки соединения и учетные данные для подключения к источнику данных можно получить у администратора базы данных. В следующем примере строки соединения указывает образца базы данных, **CustomerSales**в [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] устройства:  
  
```  
HOST=<IP address>; database= CustomerSales; port=<port>  
```  
  
 Помимо этого, при помощи диалогового окна **Свойства источников данных** предоставляются учетные данные, такие как имя пользователя и пароль. Параметры `User Id` и `Password` автоматически добавляются в строку соединения, поэтому нет необходимости вводить их при формировании строки соединения. Пользовательский интерфейс также предоставляет параметры для указания IP-адрес узла управления в [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] устройства и номер порта. По умолчанию для этой цели используется порт 17000. Порт настраивается администратором, в строке соединения может использоваться другой номер порта.  
  
 Дополнительные сведения о примерах строки подключения см. в разделе [Подключения к данным, источники данных и строки подключения в построителе отчетов](../data-connections-data-sources-and-connection-strings-in-report-builder.md).  
  
##  <a name="Credentials"></a> Учетные данные  
 [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] имеет собственную технологию безопасности для создания и хранения имен и паролей пользователей. Проверку подлинности Windows использовать нельзя. При попытке соединения с [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] при помощи проверки подлинности Windows возникает ошибка.  
  
 Учетные данные должны обеспечивать достаточные права для доступа к базе данных. В зависимости от запроса могут потребоваться другие разрешения, например достаточные разрешения для доступа к таблицам и представлениям. Владелец внешнего источника данных должен настроить учетные данные с правами доступа только для чтения нужных объектов базы данных.  
  
 Клиент, используемый для создания отчетов, имеет следующие параметры для указания учетных данных.  
  
-   Использовать сохраненные имя пользователя и пароль. Чтобы согласовать «двойной прыжок», который происходит в случае, если база данных, содержащая отчет, не является сервером отчетов, выберите в качестве учетных данных учетные данные Windows. Кроме того, после соединения с источником данных можно прибегнуть к олицетворению пользователя, прошедшего проверку подлинности.  
  
-   Учетные данные не требуются. Чтобы использовать этот параметр, необходима учетная запись автоматического выполнения, настроенная на сервере отчетов. Дополнительные сведения см. в разделе [Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS)](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md) в [документации по службам Reporting Services](http://go.microsoft.com/fwlink/?linkid=121312) на сайте msdn.microsoft.com.  
  
 Дополнительные сведения см. в разделе [подключения к данным, источники данных и строки подключения в службах Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) или [указание учетных данных в построителе отчетов](../specify-credentials-in-report-builder.md).  
  
 ![Значок стрелки, используемый для ссылки возврата в начало](../../2014-toc/media/uparrow16x16.gif "Значок стрелки, используемый для ссылки возврата в начало") [В начало](#BackToTop)  
  
##  <a name="Query"></a> Запросы  
 Запрос указывает, какие данные для набора данных отчета необходимо получить.  
  
 Столбцы результирующего набора запроса заполняют коллекцию полей набора данных. Если запрос возвращает несколько результирующих наборов, то отчет обрабатывает только первый результирующий набор, полученный отчетом. По умолчанию при создании нового запроса или открытии существующего запроса, который может быть представлен в графическом конструкторе запросов, предоставляется доступ к конструктору реляционных запросов. Запрос можно задавать следующими способами.  
  
-   Интерактивное построение отчета. Используйте конструктор реляционных запросов, отображающий иерархическое представление таблиц, представлений и других элементов базы данных, упорядоченных схемой базы данных. Выбор других столбцов из таблиц или представлений. Ограничьте число получаемых строк данных при помощи условий фильтра, группирования и агрегатов. При запуске отчета фильтр можно настроить, указав для него параметры.  
  
-   Ввод или вставка запроса. Используйте конструктор запросов на основе текста для ввода [!INCLUDE[DWsql](../../../includes/dwsql-md.md)] текст напрямую, вставить текст запроса из других источников, вводить сложные запросы, которые нельзя построить с помощью конструктора реляционных запросов, а также вводить выражения на основе запроса.  
  
-   Импорт существующего запроса из файла или отчета. Используйте кнопку **Импорт запроса** конструктора запросов, чтобы найти файл с расширением SQL или RDL и импортировать запрос из него.  
  
 Дополнительные сведения см. в разделах [Пользовательский интерфейс конструктора реляционных запросов (построитель отчетов)](relational-query-designer-user-interface-report-builder.md) и [Пользовательский интерфейс текстового конструктора запросов (построитель отчетов)](text-based-query-designer-user-interface-report-builder.md).  
  
 Текстовый конструктор запросов поддерживает режим [Текст](#QueryText). В этом режиме пользователь вводит команды на языке [!INCLUDE[DWsql](../../../includes/dwsql-md.md)], с помощью которых происходит выбор данных из источника данных.  
  
-   [Текст](#QueryText)  
  
 [!INCLUDE[DWsql](../../../includes/dwsql-md.md)] используется вместе с [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] , а [!INCLUDE[tsql](../../../includes/tsql-md.md)] — вместе с [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]. Две эти разновидности языка SQL очень похожи. Запросы, написанные для типа соединения с источником данных [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], обычно могут быть использованы и для типа соединения с источником данных [!INCLUDE[ssDWCurrentFull](../../../includes/ssdwcurrentfull-md.md)].  
  
 Запрос, извлекающий данные отчета из большой базы данных, включая хранилище данных, например [!INCLUDE[ssDW](../../../includes/ssdw-md.md)], может формировать результирующий набор, который будет иметь очень большое количество строк, если пользователь не упорядочит данные и не уменьшит количество строк, возвращаемых запросом. Запросы, включающие агрегаты и группирование, можно написать при помощи графического или текстового конструктора запросов.  
  
 [!INCLUDE[DWsql](../../../includes/dwsql-md.md)] поддерживает предложение, ключевое слово и статистические функции, предоставляемые конструктором запросов для обобщения данных.  
  
 В графическом конструкторе запросов, используемом [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] , предусмотрена встроенная поддержка группирования и агрегатов, помогающих писать запросы, которые получают только сводные данные. [!INCLUDE[DWsql](../../../includes/dwsql-md.md)] Приведены функции языка: GROUP BY предложение, ключевое слово DISTINCT и агрегаты, например SUM и COUNT. Конструктор запросов на основе текста предоставляет полную поддержку [!INCLUDE[DWsql](../../../includes/dwsql-md.md)] языка, включая группирования и агрегатов.  
  
 Дополнительные сведения о [!INCLUDE[tsql](../../../includes/tsql-md.md)] см. в разделе [Справочник по Transact-SQL (компонент Database Engine)](/sql/t-sql/language-reference) [электронной документации](http://go.microsoft.com/fwlink/?LinkId=141687) по [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] на сайте msdn.microsoft.com.  
  
###  <a name="QueryText"></a> Использование типа запроса Text  
 В текстовом конструкторе запросов вводятся команды на языке [!INCLUDE[DWsql](../../../includes/dwsql-md.md)] , определяющие данные в наборе данных. Запросы, которые можно использовать для извлечения данных из [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] отличаются от используемых для извлечения данных из экземпляров [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , которые не работают в пределах [!INCLUDE[ssDW](../../../includes/ssdw-md.md)] приложения. Например, следующая [!INCLUDE[DWsql](../../../includes/dwsql-md.md)] запрос выбирает имена всех сотрудников отдела сбыта:  
  
```  
SELECT  
  HumanResources.Employee.BusinessEntityID  
  ,HumanResources.Employee.JobTitle  
  ,Person.Person.FirstName  
  ,Person.Person.LastName  
FROM  
  Person.Person  
  INNER JOIN HumanResources.Employee  
    ON Person.Person.BusinessEntityID = HumanResources.Employee.BusinessEntityID  
WHERE HumanResources.Employee.JobTitle = 'Marketing Assistant'   
```  
  
 Нажмите кнопку **Выполнить** (**!**) на панели инструментов, чтобы выполнить запрос и отобразить результирующий набор.  
  
 Для параметризации этого запроса добавьте в него параметр. Например, измените предложение WHERE следующим образом:  
  
 `WHERE HumanResources.Employee.JobTitle = (@JobTitle)`  
  
 После запуска запроса параметры отчета, соответствующие параметрам запроса, создаются автоматически. Дополнительные сведения см. в подразделе [Параметры запроса](#Parameters) далее в этом разделе.  
  
 ![Значок стрелки, используемый для ссылки возврата в начало](../../2014-toc/media/uparrow16x16.gif "Значок стрелки, используемый для ссылки возврата в начало") [В начало](#BackToTop)  
  
##  <a name="Parameters"></a> Параметры  
 Если в тексте запроса содержатся переменные запроса или хранимые процедуры с входными параметрами, автоматически создаются соответствующие параметры запроса для набора данных и параметры отчета. Текст запроса не должен включать инструкцию DECLARE для всех переменных запроса.  
  
 Например, следующий SQL-запрос создает параметр отчета с именем `EmpID`:  
  
```  
SELECT FirstName, LastName FROM HumanResources.Employee E INNER JOIN  
       Person.Contact C ON  E.ContactID=C.ContactID   
WHERE EmployeeID = (@EmpID)  
```  
  
 По умолчанию каждый параметр отчета имеет тип данных «Текст» и автоматически создает набор данных, обеспечивая раскрывающийся список с доступными значениями. После создания параметров отчета можно изменить значения по умолчанию. Дополнительные сведения см. в разделе [Report Parameters &#40;Report Builder and Report Designer&#41;](../report-design/report-parameters-report-builder-and-report-designer.md).  
  
 ![Значок стрелки, используемый для ссылки возврата в начало](../../2014-toc/media/uparrow16x16.gif "Значок стрелки, используемый для ссылки возврата в начало") [В начало](#BackToTop)  
  
##  <a name="Remarks"></a> Замечания  
  
###### <a name="platform-and-version-information"></a>Сведения о платформе и версии  
 Дополнительные сведения о поддержке платформ и версий см. в разделе [Источники данных, поддерживаемые службами Reporting Services (службы SSRS)](../create-deploy-and-manage-mobile-and-paginated-reports.md) документации к [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] в [электронной документации](http://go.microsoft.com/fwlink/?linkid=121312) по [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].  
  
 ![Значок стрелки, используемый для ссылки возврата в начало](../../2014-toc/media/uparrow16x16.gif "Значок стрелки, используемый для ссылки возврата в начало") [В начало](#BackToTop)  
  
##  <a name="HowTo"></a> Инструкции  
 В этом разделе содержатся пошаговые инструкции по работе с подключениями к данным, источниками данных и наборами данных.  
  
 [Добавление и проверка подключения к данным или источнику данных &#40;построитель отчетов и службы SSRS&#41;](add-and-verify-a-data-connection-report-builder-and-ssrs.md)  
  
 [Создание общего или внедренного набора данных (построитель отчетов и службы SSRS)](create-a-shared-dataset-or-embedded-dataset-report-builder-and-ssrs.md)  
  
 [Добавление фильтра к набору данных (построитель отчетов и службы SSRS)](add-a-filter-to-a-dataset-report-builder-and-ssrs.md)  
  
 ![Значок стрелки, используемый для ссылки возврата в начало](../../2014-toc/media/uparrow16x16.gif "Значок стрелки, используемый для ссылки возврата в начало") [В начало](#BackToTop)  
  
##  <a name="Related"></a> См. также  
 В этих разделах документации содержатся подробные сведения о данных отчетов, а также методические сведения об определении, настройке и использовании элементов отчетов, связанных с данными.  
  
 [Добавление данных в отчет &#40;построитель отчетов и службы SSRS&#41;](report-datasets-ssrs.md)  
 Предоставляет общие сведения о доступе к данным отчета.  
  
 [Подключения к данным, источники данных и строки подключения в построителе отчетов](../data-connections-data-sources-and-connection-strings-in-report-builder.md)  
 Предоставляет сведения о подключениях к данным и источникам данных.  
  
 [Внедренные и общие наборы данных отчета (построитель отчетов и службы SSRS)](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md)  
 Предоставляет сведения об общих и внедренных наборах данных.  
  
 [Коллекция полей набора данных (построитель отчетов и службы SSRS)](dataset-fields-collection-report-builder-and-ssrs.md)  
 Предоставляет сведения о коллекции полей набора данных, создаваемой запросом.  
  
 [Источники данных, поддерживаемые службами Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md), см. в документации [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] в [электронной документации](http://go.microsoft.com/fwlink/?linkid=121312) [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].  
 Предоставляет подробные сведения о поддержке платформ и версий для каждого модуля обработки данных.  
  
 ![Значок стрелки, используемый для ссылки возврата в начало](../../2014-toc/media/uparrow16x16.gif "Значок стрелки, используемый для ссылки возврата в начало") [В начало](#BackToTop)  
  
## <a name="see-also"></a>См. также  
 [Параметры отчета (построитель отчетов и конструктор отчетов)](../report-design/report-parameters-report-builder-and-report-designer.md)   
 [Фильтрация, группирование и сортировка данных (построитель отчетов и службы SSRS)](../report-design/filter-group-and-sort-data-report-builder-and-ssrs.md)   
 [Выражения (построитель отчетов и службы SSRS)](../report-design/expressions-report-builder-and-ssrs.md)  
  
  
