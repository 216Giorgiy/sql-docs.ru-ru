---
title: SQL Server, объект Locks | Документация Майкрософт
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dbe-cross-instance
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- Locks object
- SQLServer:Locks
ms.assetid: ace04f0d-3993-4444-8317-ca39d7087e49
caps.latest.revision: 22
author: craigg-msft
ms.author: craigg
manager: jhubbard
ms.openlocfilehash: 93de00e5129d77379b1575772b20d9c74912660f
ms.sourcegitcommit: 5dd5cad0c1bbd308471d6c885f516948ad67dfcf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/19/2018
ms.locfileid: "36098883"
---
# <a name="sql-server-locks-object"></a>SQL Server, объект Locks
  Объект **SQLServer: блокировки** в Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предоставляет сведения о блокировках [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , полученных для отдельных типов ресурсов. Блокировки выдаются на такие ресурсы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , как прочитанные или измененные транзакцией строки, для предотвращения одновременного использования ресурсов несколькими транзакциями. Например, если исключительная (X) блокировка получена транзакцией на строку в таблице, никакая другая транзакция не сможет изменить эту строку, пока блокировка не будет освобождена. Минимизация использования блокировок повышает параллелизм, что может улучшить общую производительность. Одновременно может отслеживаться несколько экземпляров объекта **Locks** , каждый из которых будет представлять собой блокировку отдельного вида ресурсов.  
  
 В этой таблице описаны счетчики [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Locks** .  
  
|Счетчики SQL Server Locks|Описание|  
|-------------------------------|-----------------|  
|**Среднее время ожидания блокировки (мс)**|Средняя длительность ожидания (в миллисекундах) для всех запросов блокировки, при которых потребовалось ожидание.|  
|**Запросов блокировок/с**|Количество новых блокировок и преобразований блокировок за секунду, запрошенное у диспетчера блокировок.|  
|**Значения времени ожидания блокировки (время ожидания > 0)/с**|Количество запросов блокировок в секунду, время ожидания которых истекло, кроме запросов блокировок NOWAIT|  
|**Превышений времени ожидания блокировки в секунду**|Количество запросов блокировок в секунду, время ожидания которых истекло, включая запросы блокировок NOWAIT|  
|**Время ожидания блокировки (мс)**|Суммарное время ожидания (в миллисекундах) блокировок за последнюю секунду.|  
|**Ожиданий блокировок/с**|Количество запросов блокировок в секунду, которые потребовали ожидания участника.|  
|**Количество взаимоблокировок/с**|Количество запросов блокировок за секунду, которые завершились взаимоблокировками.|  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] может выполнить блокировку следующих ресурсов.  
  
|Элемент|Описание|  
|----------|-----------------|  
|**_Total**|Данные по всем блокировкам.|  
|**AllocUnit**|Блокировка на единицу распределения.|  
|**Приложение**|Блокировка на определяемый приложением ресурс.|  
|**База данных**|Блокировка на базу данных, она включает все объекты базы данных.|  
|**Экстент**|Блокировка последовательной группы из 8 страниц.|  
|**Файл**|Блокировка на файл базы данных.|  
|**Куча/сбалансированное дерево**|Куча или сбалансированное дерево. Блокировка кучи страниц данных или структуры сбалансированного дерева в индексе.|  
|**Key**|Блокировка для строки в индексе.|  
|**Метаданные**|Блокировка элемента данных каталога, также называемого метаданными.|  
|**Объект**|Блокировка для таблицы, хранимой процедуры, представления и т.п., включающая все данные и индексы. Объектом может быть что-либо, для чего имеется запись в таблице **sys.all_objects**.|  
|**Страница**|Блокировка для 8-килобайтовой (КБ) страницы в базе данных.|  
|**RID**|Идентификатор строки. Блокировка одной строки в куче.|  
  
## <a name="see-also"></a>См. также  
 [Наблюдение за использованием ресурсов (системный монитор)](monitor-resource-usage-system-monitor.md)  
  
  