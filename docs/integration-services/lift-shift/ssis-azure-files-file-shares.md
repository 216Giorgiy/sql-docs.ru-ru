---
title: Открытие и сохранение файлов с помощью пакетов SSIS, развернутых в Azure | Документы Майкрософт
description: Узнайте, как открывать и сохранять файлы в локальной среде и в Azure при переносе пакетов SSIS, использующих локальные файловые системы, в службы SSIS в Azure.
ms.date: 11/27/2017
ms.topic: conceptual
ms.prod: sql
ms.technology: integration-services
author: douglaslMS
ms.author: douglasl
manager: craigg
ms.openlocfilehash: c4f9d5e91db382d59dc156ed919c1af06cc56b77
ms.sourcegitcommit: cc46afa12e890edbc1733febeec87438d6051bf9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/12/2018
ms.locfileid: "35410476"
---
# <a name="open-and-save-files-on-premises-and-in-azure-with-ssis-packages-deployed-in-azure"></a>Открытие и сохранение файлов в локальной среде и в Azure с помощью пакетов SSIS, развернутых в Azure

В этой статье описывается, как открывать и сохранять файлы в локальной среде и в Azure при переносе пакетов SSIS, использующих локальные файловые системы, в службы SSIS в Azure.

> [!IMPORTANT]
> В настоящее время каталог SSIS (SSISDB) поддерживает только один набор учетных данных для доступа. Поэтому невозможно использовать разные наборы учетных данных для подключения к нескольким локальным общим папкам и общим папкам в службе файлов Azure.

## <a name="save-temporary-files"></a>Сохранение временных файлов
Если при выполнении отдельного пакета необходимо хранить и обрабатывать временные файлы, для пакетов можно использовать текущую рабочую папку `.` или временную папку `%TEMP%` на узлах Azure-SSIS Integration Runtime.

## <a name="use-on-premises-file-shares"></a>Использование локальных общих папок
Чтобы и далее применять **локальные общие папки** при переносе пакетов, использующих локальные файловые системы, в службы SSIS в Azure, выполните указанные ниже действия.
1.  Перенесите файлы из локальных файловых систем в локальные общие папки.
2.  Присоедините локальные общие папки к виртуальной сети Azure.
3.  Присоедините среду Azure-SSIS IR к той же виртуальной сети. Дополнительные сведения см. в разделе [Присоединение среды выполнения интеграции Azure SSIS к виртуальной сети](https://docs.microsoft.com/azure/data-factory/join-azure-ssis-integration-runtime-virtual-network).
4.  Подключите среду Azure-SSIS IR к локальным общим папкам в той же виртуальной сети, настроив учетные данные для доступа с проверкой подлинности Windows. Дополнительные сведения см. в статье [Подключение к данным и общим папкам с помощью проверки подлинности Windows](ssis-azure-connect-with-windows-auth.md).
5.  Измените локальные пути к файлам в пакетах на UNC-пути, указывающие на локальные общие папки. Например, измените `C:\abc.txt` на `\\<on-prem-server-name>\<share-name>\abc.txt`.

## <a name="use-azure-file-shares"></a>Использование общих папок Azure
Чтобы применять службу **Файлы Azure** при переносе пакетов, использующих локальные файловые системы, в службы SSIS в Azure, выполните указанные ниже действия.
1.  Перенесите файлы из локальных файловых систем в службы файлов Azure. Дополнительные сведения см. на странице [Файлы Azure](https://azure.microsoft.com/services/storage/files/).
2.  Подключите среду Azure-SSIS IR к службе файлов Azure, настроив учетные данные для доступа с проверкой подлинности Windows. Дополнительные сведения см. в статье [Подключение к данным и общим папкам с помощью проверки подлинности Windows](ssis-azure-connect-with-windows-auth.md).
3.  Измените локальные пути к файлам в пакетах на UNC-пути, указывающие на службу файлов Azure. Например, измените `C:\abc.txt` на `\\<storage-account-name>.file.core.windows.net\<share-name>\abc.txt`.
