---
title: "Задача «FTP» | Документы Microsoft"
ms.custom: 
ms.date: 03/01/2017
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- integration-services
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords:
- sql13.dts.designer.ftptask.f1
helpviewer_keywords:
- FTP task [Integration Services]
ms.assetid: 41c3f2c4-ee04-460a-9822-bb9ae4036c2e
caps.latest.revision: 52
author: douglaslMS
ms.author: douglasl
manager: jhubbard
ms.translationtype: MT
ms.sourcegitcommit: c3e47e4a5ae297202ba43679fba393421880a7ea
ms.openlocfilehash: 14cfb9dafee9b12bac8864e15cc1a46ac5762680
ms.contentlocale: ru-ru
ms.lasthandoff: 08/03/2017

---
# <a name="ftp-task"></a>Задача «FTP»
  Задача «FTP» производит загрузку и передачу файлов данных, а также управляет каталогами на серверах. Например, пакет может загрузить файлы данных с удаленного сервера или из Интернета в качестве части рабочего процесса пакета служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] . Можно использовать задачу «FTP» для следующих целей:  
  
-   Копирование каталогов и файлов данных из одного каталога в другой перед или после перемещения данных, а также применение преобразований данных.  
  
-   Вход на источник FTP и копирование файлов или пакетов в целевой каталог.  
  
-   Загрузка файлов из расположения FTP и применение преобразований столбцов данных перед загрузкой данных в базу данных.  
  
 Во время выполнения задача «FTP» подключается к серверу, используя диспетчер FTP-соединений. Настройка диспетчера FTP-сеансов производится отдельно от задачи «FTP», затем в задаче «FTP» указывается ссылка на диспетчера. Диспетчер FTP-соединений включает в себя настройки сервера, учетные данные для доступа на FTP-узел, а также такие параметры, как время ожидания и количество повторных попыток подключения к серверу. Дополнительные сведения см. в статье [Диспетчер FTP-соединений](../../integration-services/connection-manager/ftp-connection-manager.md).  
  
> [!IMPORTANT]  
>  Диспетчер FTP-соединений поддерживает только анонимную проверку подлинности и обычную проверку подлинности. Проверка подлинности Windows не поддерживается.  
  
 При доступе к локальному файлу или локальному каталогу, задача «FTP» использует диспетчер подключения файлов или сведения о пути, хранимые в переменной. При доступе к удаленному файлу или удаленному каталогу, задача «FTP» использует явно указанный путь удаленного сервера, который указан в диспетчере FTP-соединений, или сведения о пути, хранимые в переменной. Дополнительные сведения см. в разделах [Диспетчер соединения файлов](../../integration-services/connection-manager/file-connection-manager.md) и [Переменные в службах Integration Services (SSIS)](../../integration-services/integration-services-ssis-variables.md).  
  
 Это значит, что задача «FTP» может получать несколько файлов и удалять несколько удаленных файлов, однако задача может посылать только один файл и удалять только один локальный файл, если она использует диспетчер подключения, т.к. диспетчер подключения файлов может обращаться только к одному файлу. Для обращения к нескольким локальным файлам, задача «FTP» должна использовать переменную для предоставления сведений о пути. Например, переменная, содержащая "C:\Test\\*.txt", предоставляет путь, который поддерживает удаление или отправку всех файлов каталога Test, которые имеют расширение TXT.  
  
 Для отправки нескольких файлов и для доступа к нескольким локальным файлам или каталогам, также можно выполнить задачу «FTP» несколько раз, включив ее в контейнер «цикл по каждому элементу». Контейнер «цикл по каждому элементу» может произвести перечисление файлов каталога, используя перечислитель For Each File. Дополнительные сведения см. в статье [Foreach Loop Container](../../integration-services/control-flow/foreach-loop-container.md).  
  
 Задача «FTP» поддерживает в пути символы-шаблоны *?* и *\** . Это позволяет задаче обращаться к нескольким файлам. Однако можно использовать символы-шаблоны только в той части пути, которая указывает имя файла. Например, "C:\MyDirectory\\*.txt" является допустимым путем, а "C:\\\*\MyText.txt" — нет.  
  
 Операции FTP могут быть настроены для остановки задачи «Файловая система» при ошибке операции или для переноса файлов в режиме ASCII. Операции, которые отправляют и получают файлы, могут быть настроены для перезаписи целевых файлов и каталогов.  
  
## <a name="predefined-ftp-operations"></a>Стандартные FTP-операции  
 Задача «FTP» содержит стандартный набор операций. Данные операции описываются в следующей таблице.  
  
|Операция|Description|  
|---------------|-----------------|  
|Отправить файлы|Отправляет файл с локального компьютера на FTP-сервер.|  
|Получить файлы|Сохраняет файл с FTP-сервера на локальный компьютер.|  
|Создать локальный каталог|Создает каталог на локальном компьютере.|  
|Создать удаленный каталог|Создает каталог на FTP-сервере.|  
|Удалить локальный каталог|Удаляет каталог на локальном компьютере.|  
|Удалить удаленный каталог|Удаляет каталог на FTP-сервере.|  
|Удалить локальные файлы|Удаляет файл на локальном компьютере.|  
|Удалить удаленные файлы|Удаляет файл на FTP-сервере.|  
  
## <a name="custom-log-entries-available-on-the-ftp-task"></a>Пользовательские записи журнала, доступные в задаче «FTP»  
 В следующей таблице перечислены пользовательские записи журнала для задачи «FTP». Дополнительные сведения см. в разделе [Ведение журналов в службах Integration Services (SSIS)](../../integration-services/performance/integration-services-ssis-logging.md).  
  
|Запись журнала|Description|  
|---------------|-----------------|  
|**FTPConnectingToServer**|Указывает, что задача инициализировала соединение с FTP-сервером.|  
|**FTPOperation**|Сообщает о начале FTP-операции, выполняемой задачей, и о типе этой операции.|  
  
## <a name="related-tasks"></a>Связанные задачи  
 Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.  
  
 Дополнительные сведения о настройке этих свойств в конструкторе [!INCLUDE[ssIS](../../includes/ssis-md.md)] см. в разделе [Задание свойств задач или контейнеров](http://msdn.microsoft.com/library/52d47ca4-fb8c-493d-8b2b-48bb269f859b).  
  
 Дополнительные сведения о настройке этих свойств программным путем см. в разделе <xref:Microsoft.SqlServer.Dts.Tasks.FtpTask.FtpTask>.  
  
## <a name="see-also"></a>См. также  
 [Редактор задачи "FTP" (страница "Общие")](../../integration-services/control-flow/ftp-task-editor-general-page.md)   
 [Редактор задачи «FTP» &#40; Страница «Передача файла» &#41;](../../integration-services/control-flow/ftp-task-editor-file-transfer-page.md)   
 [Задачи служб Integration Services](../../integration-services/control-flow/integration-services-tasks.md)   
 [Поток управления](../../integration-services/control-flow/control-flow.md)  
  
  
