---
title: "Задача &#171;Веб-служба&#187; | Microsoft Docs"
ms.custom: ""
ms.date: "03/02/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "integration-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "sql13.dts.designer.webservicetask.f1"
helpviewer_keywords: 
  - "задача «Веб-служба» [службы Integration Services]"
ms.assetid: 5c7206f1-7d6a-4923-8dff-3c4912da4157
caps.latest.revision: 57
author: "douglaslMS"
ms.author: "douglasl"
manager: "jhubbard"
caps.handback.revision: 57
---
# Задача &#171;Веб-служба&#187;
  Задача «Веб-служба» выполняет метод веб-службы. Возможно использование задачи «Веб-служба» в следующих целях:  
  
-   Запись в переменную значений, возвращаемых методом веб-службы. Например, можно получить самую высокую температуру дня из метода веб-службы с последующим использованием ее значения для обновления переменной, которая используется в выражении, задающем значение столбца.  
  
-   Запись в файл значений, возвращаемых методом веб-службы. Например, список потенциальных покупателей может быть записан в файл, который затем используется в качестве источника данных в пакете, очищающем данные перед их занесением в базу данных.  
  
## <a name="wsdl-file"></a>WSDL-файл  
 Для подключения к веб-службе задача «Веб-служба» использует диспетчер HTTP-соединений. Редактор диспетчера HTTP-соединений сконфигурирован отдельно от задачи «Веб-служба», ссылка на него содержится в задаче. Диспетчер HTTP-соединений указывает настройки прокси-сервера, такие как URL-адрес сервера, учетные записи для доступа к веб-службе и длительность времени ожидания. Дополнительные сведения см. в статье [Диспетчер HTTP-соединений](../../integration-services/connection-manager/http-connection-manager.md).  
  
> [!IMPORTANT]  
>  Диспетчер HTTP-соединений поддерживает только анонимную проверку подлинности и обычную проверку подлинности. Проверка подлинности Windows не поддерживается.  
  
 Диспетчер HTTP-соединений может указывать на веб-сайт или на файл языка описания веб-служб (язык WSDL). URL-адрес диспетчера HTTP-подключений, указывающий на WSDL-файл, содержит параметр `?WSDL` , например `http://MyServer/MyWebService/MyPage.asmx?WSDL`.  
  
 Чтобы настроить задачу «Веб-служба», используя диалоговое окно **Редактор задачи «Веб-служба»** , которое предоставляет конструктор [!INCLUDE[ssIS](../../includes/ssis-md.md)] , WSDL-файл должен быть доступен локально.  
  
-   Если диспетчер HTTP-соединений указывает на веб-сайт, то WSDL-файл должен быть скопирован на локальный компьютер вручную.  
  
-   Если диспетчер HTTP-соединений указывает на WSDL-файл, то файл можно сделать локальным, загрузив его с веб-сайта при помощи задачи «Веб-служба».  
  
 WSDL-файл перечисляет методы, предлагаемые веб-службой; входные параметры, запрашиваемые методами; ответы, возвращаемые методами; а также метод обмена данными с веб-службой.  
  
 Если метод использует входные параметры, то задача «Веб-служба» запрашивает значения параметров. Например, метод веб-службы рекомендует длину приобретаемых лыж, основываясь на росте покупателя, поэтому требует, чтобы рост был записан во входном параметре. Значения параметра можно задать строками, определенными в задаче, или переменными, определенными в области видимости задачи или родительского контейнера. Преимущество использования переменных в том, что они позволяют динамически обновлять значения параметров с помощью конфигураций пакетов или скриптов. Дополнительные сведения см. в разделах [Переменные в службах Integration Services (SSIS)](../../integration-services/integration-services-ssis-variables.md) и [Конфигурации пакета](../../integration-services/packages/package-configurations.md).  
  
 Многие методы веб-службы не используют входные параметры. Например, метод веб-службы, выдающий имена сотрудников, рожденных в текущем месяце, не запрашивает входного параметра, потому что веб-служба может определить текущий месяц локально.  
  
 Результаты метода веб-службы могут быть записаны в переменную или в файл. Используйте диспетчер подключений файла для указания файла или для указания имени переменной, в которую записывается результат. Дополнительные сведения см. в разделах [Диспетчер соединения файлов](../../integration-services/connection-manager/file-connection-manager.md) и [Переменные в службах Integration Services (SSIS)](../../integration-services/integration-services-ssis-variables.md).  
  
## <a name="custom-logging-messages-available-on-the-web-service-task"></a>Пользовательские сообщения для ведения журнала, доступные в задаче «Веб-служба»  
 В следующей таблице перечислены пользовательские записи в журнале для задачи «Веб-служба». Дополнительные сведения см. в разделах [Ведение журналов в службах Integration Services (SSIS)](../../integration-services/performance/integration-services-ssis-logging.md) и [Пользовательские сообщения для ведения журнала](../../integration-services/performance/custom-messages-for-logging.md).  
  
|Запись журнала|Description|  
|---------------|-----------------|  
|**WSTaskBegin**|Задача получила доступ к веб-службе.|  
|**WSTaskEnd**|Задача завершила метод веб-службы.|  
|**WSTaskInfo**|Описательные сведения об этой задаче.|  
  
## <a name="configuration-of-the-web-service-task"></a>Настройка задачи «Веб-служба»  
 Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.  
  
 Дополнительные сведения о свойствах, которые можно задать в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] , см. в следующих разделах:  
  
-   [Редактор задачи "Веб-служба" (страница "Общие")](../../integration-services/control-flow/web-service-task-editor-general-page.md)  
  
-   [Редактор задачи "Веб-служба" (страница "Ввод")](../../integration-services/control-flow/web-service-task-editor-input-page.md)  
  
-   [Редактор задачи "Веб-служба" (страница "Вывод")](../../integration-services/control-flow/web-service-task-editor-output-page.md)  
  
-   [Страница "Выражения"](../../integration-services/expressions/expressions-page.md)  
  
 Дополнительные сведения об установке этих свойств в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] см. в следующем разделе:  
  
-   [Задание свойств задач или контейнеров](../Topic/Set%20the%20Properties%20of%20a%20Task%20or%20Container.md)  
  
## <a name="programmatic-configuration-of-the-web-service-task"></a>Программная настройка задачи «Веб-служба»  
 Дополнительные сведения о программной настройке этих свойств см. в следующих разделах:  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.WebServiceTask.WebServiceTask>  
  
## <a name="related-content"></a>См. также  
 Видео [How to: Call a Web Service by Using the Web Service Task (SQL Server Video)](http://go.microsoft.com/fwlink/?LinkId=259642)(Как вызвать веб-службы с помощью задачи "Веб-служба" — видеоматериал SQL Server) на technet.microsoft.com.  
