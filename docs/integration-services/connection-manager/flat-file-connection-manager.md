---
title: "Flat File Connection Manager | Документы Microsoft"
ms.custom: 
ms.date: 03/14/2017
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- integration-services
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- connection managers [Integration Services], Flat File
- connections [Integration Services], flat files
- files [Integration Services], connections
- Flat File connection manager
- flat files
- flat file connections [Integration Services]
ms.assetid: 7830f80d-af32-4e8f-a6fc-f03af6bc1946
caps.latest.revision: 49
author: douglaslMS
ms.author: douglasl
manager: jhubbard
ms.translationtype: MT
ms.sourcegitcommit: f3481fcc2bb74eaf93182e6cc58f5a06666e10f4
ms.openlocfilehash: 5f3e174427f1aa92c14952571b0e81070ffe69d2
ms.contentlocale: ru-ru
ms.lasthandoff: 08/03/2017

---
# <a name="flat-file-connection-manager"></a>Диспетчер соединений с неструктурированными файлами
  Диспетчер соединений с неструктурированными файлами дает возможность пакету получить доступ к данным неструктурированного файла. Например, исходные и целевые неструктурированные файлы могут использоваться диспетчерами соединений с неструктурированными файлами для извлечения и загрузки данных.  
  
 Диспетчер соединений с неструктурированными файлами получает доступ только к одному файлу. Чтобы ссылаться на несколько файлов, воспользуйтесь диспетчером соединений с несколькими неструктурированными файлами вместо обычного диспетчера соединений с неструктурированными файлами. Дополнительные сведения см. в разделе [Multiple Flat Files Connection Manager](../../integration-services/connection-manager/multiple-flat-files-connection-manager.md).  
  
## <a name="column-length"></a>Длина столбца  
 По умолчанию диспетчер соединений с неструктурированными файлами устанавливает длину строки столбцов, равную 50 символам. В диалоговом окне **Редактор диспетчера соединений с неструктурированными файлами** можно оценить образец данных и автоматически изменить длину этих столбцов во избежание обрезки данных или чрезмерной ширины столбцов. Пока не будет изменена длина столбцов в источнике неструктурированного файла или преобразования, длина строки столбца останется неизменной. Если эти строки столбцов сопоставляются с более узкими целевыми столбцами, интерфейс пользователя выдаст предупреждение. Более того, во время выполнения могут появляться ошибки вследствие усечения данных. Во избежание ошибок или усечения можно изменить размер столбцов, чтобы они были совместимы с целевыми столбцами в диспетчере соединений с неструктурированными файлами, в источнике неструктурированного файла или в преобразовании. Чтобы изменить длину выходных столбцов, используйте свойство **Length** выходных столбцов на вкладке **Свойства входов и выходов** диалогового окна **Расширенный редактор** .  
  
 Изменять выходные столбцы в источнике неструктурированного файла вручную нет необходимости, если обновить длину столбцов в диспетчере соединений с неструктурированными файлами после того, как будет добавлен и настроен источник неструктурированного файла, который использует диспетчер соединения. При открытии диалогового окна **Источник «Неструктурированный файл»** источник неструктурированного файла предоставляет параметр для синхронизации метаданных столбца.  
  
## <a name="configuration-of-the-flat-file-connection-manager"></a>Настройка диспетчера соединения с неструктурированными файлами  
 При добавлении диспетчера соединений с неструктурированными файлами в пакет служба [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] создает диспетчер соединений, который устанавливает соединение с неструктурированными файлами во время выполнения, определяет свойства этого соединения и добавляет диспетчер соединений с неструктурированными файлами в коллекцию **Соединения** пакета.  
  
 Свойству **ConnectionManagerType** диспетчера соединений присваивается значение **FLATFILE**.  
  
 По умолчанию диспетчер соединений с неструктурированными файлами всегда проверяет наличие разделителя строки в данных без кавычек и начинает новую строку при нахождении разделителя строки. Что позволяет диспетчеру соединений правильно анализировать файлы со строками, в которых пропущены поля столбцов.  
  
 В некоторых случаях отключение этой функции может улучшить производительность пакета. Эту функцию вы можете отключить, задав свойству **AlwaysCheckForRowDelimiters**диспетчера соединений с неструктурированными файлами значение **False**.  
  
 Настройте диспетчер соединений с неструктурированными файлами одним из следующих способов.  
  
-   Укажите файл, локаль и используемую кодовую страницу. Локаль используется для интерпретации данных, зависящих от локаля, например дат, а кодовая страница используется для конвертации строковых данных в формат Юникод.  
  
-   Укажите формат файла. Можно использовать форматы с разделителями, фиксированной шириной или без выравнивания по правому краю.  
  
-   Укажите строку заголовка, строку данных и разделители столбцов. Разделители столбцов могут указываться на уровне файла и перезаписываться на уровне столбцов.  
  
-   Определите, будет ли первая строка файла содержать имена столбцов.  
  
-   Укажите символ ограничителя текста. Каждый столбец может быть настроен на распознавание текстового ограничителя.  
  
     Для внедрения символа ограничителя в заданную строку диспетчер подключений к неструктурированным файлам теперь поддерживает использование символа ограничителя. Двойной экземпляр ограничителя текста интерпретируется как литерал, один экземпляр строки ограничителя. Например, если ограничитель текста — одинарная кавычка, а входные данные — 'abc', 'def', 'g'hi', то выходные данные будут иметь вид abc, def, g'hi. Однако экземпляр ограничителя, внедренный в заданную строку, вызывает сбой источника неструктурированного файла с ошибкой DTS_E_PRIMEOUTPUTFAILED.
  
-   Установите свойства, например имя, тип данных и максимальную ширину отдельных столбцов.  
  
 Можно задать свойство ConnectionString для диспетчера соединений с неструктурированными файлами, указывая выражение в окне "Свойства" [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]. Для предотвращения ошибок проверки выполните следующие действия.  
  
-   Если для указания файла используется выражение, введите путь к файлу в поле **Имя файла** в **редакторе диспетчера соединений с неструктурированными файлами**.  
  
-   Задайте свойство **DelayValidation** в диспетчере соединений с неструктурированными файлами равным **True**.  
  
 Можно использовать выражение для создания имени файла во время выполнения, применяя диспетчер соединений с неструктурированными файлами с назначением «Неструктурированный файл».  
  
 Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.  
  
 Дополнительные сведения о свойствах, которые можно задать в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] , см. в следующих разделах:  
  
-   [Редактор диспетчера подключений к неструктурированным файлам (страница "Общие")](../../integration-services/connection-manager/flat-file-connection-manager-editor-general-page.md)  
  
-   [Редактор диспетчера подключений к неструктурированным файлам (страница "Столбцы")](../../integration-services/connection-manager/flat-file-connection-manager-editor-columns-page.md)  
  
-   [Редактор диспетчера подключений к неструктурированным файлам (страница "Дополнительно")](../../integration-services/connection-manager/flat-file-connection-manager-editor-advanced-page.md)  
  
-   [Редактор диспетчера подключений к неструктурированным файлам (страница "Предварительный просмотр")](../../integration-services/connection-manager/flat-file-connection-manager-editor-preview-page.md)  
  
 Дополнительные сведения о программной настройке диспетчера подключений см. в разделах <xref:Microsoft.SqlServer.Dts.Runtime.ConnectionManager> и [Добавление соединений программным образом](../../integration-services/building-packages-programmatically/adding-connections-programmatically.md).  
  
  
