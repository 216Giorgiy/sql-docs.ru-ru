---
title: "Определение запроса источника OData во время выполнения | Документы Microsoft"
ms.custom: 
ms.date: 03/01/2017
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- integration-services
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: bcbba7f4-6e5d-46e6-a73a-3f17d3ff376a
caps.latest.revision: 7
author: douglaslMS
ms.author: douglasl
manager: jhubbard
ms.workload: Inactive
ms.translationtype: MT
ms.sourcegitcommit: ee79d0f1b31963b7d13aa07bf4603246139c3a7c
ms.openlocfilehash: 9da1f1be0a790d01f9403d6fc05a5c1498c0ee8b
ms.contentlocale: ru-ru
ms.lasthandoff: 08/23/2017

---
# <a name="provide-an-odata-source-query-at-runtime"></a>Определение запроса источника OData во время выполнения
 Запрос источника OData во время выполнения можно изменить, добавив *выражение* для **[OData Source]. [ Запрос]** свойство задачи потока данных.  
  
 Столбцы, возвращенные должны быть те же столбцы, которые были возвращены во время разработки. в противном случае возникает сообщение об ошибке при выполнении пакета. Обязательно укажите те же столбцы (в том же порядке) при использовании параметра $select запроса. Более безопасная альтернатива применению параметра $select состоит в том, чтобы отменить выбор ненужных столбцов непосредственно в пользовательском интерфейсе исходного компонента.  
  
 Существует несколько способов для динамической установки значения запроса во время выполнения. Вот некоторые из наиболее распространенных методов.  
  
## <a name="provide-the-query-as-a-parameter"></a>Предоставить в качестве параметра запроса  
 Ниже показано, как предоставить доступ к запросу, используемому компонентом источника OData в качестве параметра пакета.  
  
1.  Щелкните правой кнопкой мыши **Задача потока данных** и выберите пункт **Параметризация…** .  
  
2.  В **параметризация** диалогового окна выберите **[\<имя исходного компонента OData >]. [ Запрос]** для **свойства**.  
  
3.  Выберите, следует ли значение **создать новый параметр** или **использовать существующий параметр**.  
  
4.  При выборе **создать новый параметр**:  
  
    1.  Введите **имя** и **описание** для параметра.  
  
    2.  Укажите **значение** по умолчанию для данного параметра.  
  
    3.  Укажите **область** (**пакет** или **проект**) для параметра.  
  
    4.  Укажите, является ли параметр **обязательным** или нет.  
  
5.  Чтобы закрыть диалоговое окно, нажмите кнопку **ОК** .  
  
## <a name="provide-the-query-with-an-expression"></a>Задать запрос с выражением
 Этот метод полезен для динамического построения строки запроса во время выполнения.
  
1.  Выберите **задачи потока данных** , содержащий ваш **источника OData**.  
  
2.  В окне **Свойства** выделите свойство **Выражения** .  
  
3.  Нажмите кнопку с многоточием (многоточие) кнопку, чтобы открыть окно **редактор выражений свойств**.  
  
4.  Выберите свойство **[OData Source].[Query]** .  
  
5.  Нажмите кнопку с многоточием (многоточием) для **выражение**.  
  
6.  Введите **выражение**.  
  
7.  Нажмите кнопку **ОК**.  
  
> [!NOTE]  
> При использовании этого подхода необходимо убедиться, заданными значениями были правильно закодированы с URL-адрес. При получении значений из входных данных пользователя (например, установке отдельных значений параметра запроса из параметра) необходимо убедиться, что значения проверяются, чтобы избежать потенциальных атак путем инжекции кода SQL.  
  
  

