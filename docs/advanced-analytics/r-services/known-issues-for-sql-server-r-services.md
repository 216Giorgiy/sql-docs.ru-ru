---
title: "Известные проблемы со службами R в SQL Server | Microsoft Docs"
ms.custom: 
  - "SQL2016_New_Updated"
ms.date: "03/10/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "r-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 2b37a63a-5ff5-478e-bcc2-d13da3ac241c
caps.latest.revision: 52
author: "jeannt"
ms.author: "jeannt"
manager: "jhubbard"
caps.handback.revision: 49
---
# Известные проблемы со службами R в SQL Server
  В этом разделе описываются ограничения и проблемы с [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] и связанными компонентами в [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] и [!INCLUDE[ssSQLv14_md](../../includes/sssqlv14-md.md)].  
  
> [!NOTE]
> Дополнительные вопросы, связанные с установкой и начальной настройкой, рассматриваются в следующем разделе: [Часто задаваемые вопросы по обновлению и установке](../../advanced-analytics/r-services/upgrade-and-installation-faq-sql-server-r-services.md).  
  
## <a name="r-services-in-database"></a>Службы R Services (в базе данных)  
 В этом разделе перечислены проблемы, относящиеся к ядру СУБД, которое поддерживает интеграцию R.  

### <a name="install-latest-service-release-to-ensure-compatibility-with-microsoft-r-client"></a>Чтобы обеспечить совместимость с клиентом Microsoft R, установите последний выпуск службы.

Если вы установили последнюю версию клиента Microsoft R и используете ее для выполнения R в SQL Server с помощью удаленного контекста вычисления, может возникнуть следующая ошибка:

*На компьютере используется версия 9.0.0 клиента Microsoft R, которая несовместима с Microsoft R Server версии 8.0.3. Скачайте и установите совместимую версию*.

Как правило, версия R, устанавливаемая со службами SQL Server R, обновляется при публикации выпусков служб. Чтобы обеспечить наличие самых актуальных версий компонентов R, установите все пакеты обновления. Для совместимости с клиентом Microsoft R 9.0.0 необходимо установить обновления, которые описываются в этой [статье службы поддержки](https://support.microsoft.com/kb/3210262). 
  
### <a name="new-license-agreement-for-r-components-required-for-unattended-installs"></a>Для автоматической установки необходимо новое лицензионное соглашение для компонентов R  
 Если использовать командную строку для установки экземпляра SQL Server с установленным компонентом [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)], необходимо изменить командную строку, чтобы использовать новый параметр лицензионного соглашения: */IACCEPTROPENLICENSEAGREEMENT*. Если не использовать необходимый аргумент, может возникнуть сбой программы установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
### <a name="warning-of-incompatible-version-when-connecting-to-older-version-of-sql-server--r-services-from-a-client-using-includesssqlv14mdtokensqlv14sssqlv14mdmd"></a>Предупреждение о несовместимости версии при подключении к более старой версии служб SQL Server R из клиента с помощью [!INCLUDE[ssSQLv14_md](../../includes/sssqlv14-md.md)] 

Если вы установили Microsoft R Server на клиентском компьютере с помощью мастера установки для [!INCLUDE[ssSQLv14_md](../../includes/sssqlv14-md.md)] или нового автономного установщика [Microsoft R Server](https://msdn.microsoft.com/microsoft-r/rserver-install-windows), а затем выполняете код R в контексте вычисления, который использует более раннюю версию служб SQL Server R, может возникнуть ошибка наподобие следующей:

*На компьютере используется версия 9.0.0 клиента Microsoft R, которая несовместима с Microsoft R Server версии 8.0.3. Скачайте и установите совместимую версию*.

В состав выпуска Microsoft R Server 9.0 входит средство **SqlBindR.exe**, обеспечивающее обновление экземпляров SQL Server до совместимой версии 9.0. Поддержка обновления экземпляров служб R до версии 9.0 будет реализована в будущем выпуске служб для SQL Server. Версии, являющиеся кандидатами для обновления в будущем, включают в себя SQL Server 2016 RTM с накопительным обновлением 3 и пакетом обновления 1 (SP1) или более поздней версии и SQL Server vNext CTP 1.1. 

### <a name="setup-for-sql-server-2016-service-releases-might-fail-to-install-newer-versions-of-r-components"></a>При установке выпусков служб SQL Server 2016 могут не установиться более новые версии компонентов R.

При установке накопительного пакета обновления или пакета обновления для SQL Server 2016 на компьютере, не подключенном к Интернету, мастер установки может не вывести запрос, позволяющий обновить компоненты R с помощью скачанных файлов CAB. Обычно это происходит, если несколько компонентов устанавливаются вместе с ядром СУБД.
 
В качестве обходного решения можно установить выпуск служб из командной строки, указав аргумент /MRCACHEDIRECTORY, как показано в этом примере для накопительного пакета обновления 1: 

`C:\<path to installation media>\SQLServer2016-KB3164674-x64.exe /Action=Patch /IACCEPTROPENLICENSETERMS /MRCACHEDIRECTORY=<path to CU1 CAB files>`

Сведения о том, как получить последние версии файлов CAB, см. в разделе [Установка компонентов R без доступа к Интернету](../../advanced-analytics/r-services/installing-r-components-without-internet-access.md).

### <a name="windows-group-created-for-launchpad-must-have-an-account-in-the-sql-server-instance"></a>Группа Windows, создаваемая для панели запуска, должна иметь учетную запись в экземпляре SQL Server.
 При установке служб SQL Server R создается группа пользователей Windows с именем по умолчанию **SQLRUsers**, которая используется доверенной панелью запуска для выполнения заданий R. Если необходимо запускать задания R с удаленного клиента с использованием встроенной проверки подлинности Windows, этой группе пользователей Windows следует предоставить разрешение на вход в экземпляр SQL Server, где включена среда R.

В среде, где у группы **SQLRUsers** нет этого разрешения, могут возникнуть указанные ниже ошибки.  
  
-   При попытке запуска сценариев R  
  
     *Не удается запустить среду выполнения для скрипта R. Проверьте конфигурацию среды выполнения R*.  
  
     *Возникла ошибка во внешнем скрипте. Не удается запустить среду выполнения*.  
  
-   Ошибки, вызываемые службой [!INCLUDE[rsql_launchpad](../../includes/rsql-launchpad-md.md)]  
  
     *Не удалось инициализировать средство запуска RLauncher.dll*.  
  
     *Библиотеки DLL средства запуска не зарегистрированы*.  
  
-   Согласно журналам безопасности учетной записи NT SERVICE\MSSQLLAUNCHPAD не удалось выполнить вход.  
 
> [!NOTE]
> При выполнении заданий R в SQL Server Management Studio с использованием общей памяти это ограничение может не возникнуть, если задания R не используют внедренные вызовы ODBC. 
> 
> Обходное решение не требуется, если вы используете имена входа SQL с удаленной рабочей станции.

### <a name="launchpad-services-fails-to-start-if-version-is-different-than-r-version"></a>Службы панели запуска не запускаются, если их версия отличается от версии R.
Если вы установили службы R отдельно от ядра СУБД и их версии различаются, в журнале системных событий может появиться следующая ошибка: _Сбой при запуске службы "Панель запуска SQL Server" из-за ошибки "Служба не ответила на запрос своевременно"_.

Эта ошибка может возникнуть, например, если вы установили ядро СУБД с использованием версии выпуска, применили исправление для обновления ядра СУБД, а затем добавили службы R с использованием версии выпуска.

Чтобы избежать этой проблемы, убедитесь в том, что все компоненты имеют одинаковый номер версии. Если вы обновляете один компонент, обязательно примените это же обновление ко всем остальным установленным компонентам.

Список номеров версий R, требуемых для каждого выпуска SQL Server 2016, см. в разделе [Установка компонентов R без доступа к Интернету](../../advanced-analytics/r-services/installing-r-components-without-internet-access.md).


### <a name="service-account-for-launchpad-requires-permission-replace-process-level-token"></a>Учетная запись службы для панели запуска требует разрешения "Замена маркера уровня процесса".
 При установке служб SQL Server R доверенная панель запуска запускается с использованием учетной записи NT Service\MSSQLLaunchpad, которой по умолчанию предоставлены необходимые разрешения. Но если вы используете другую учетную запись или изменили разрешения, связанные с этой учетной записью, панель запуска может не запуститься.
 
 Чтобы учетная запись службы панели запуска могла выполнить вход, предоставьте ей следующее разрешение: `Replace Process Level Token`. Дополнительные сведения см. в разделе [Замена токена уровня процесса](https://technet.microsoft.com/itpro/windows/keep-secure/replace-a-process-level-token).

### <a name="remote-compute-contexts-blocked-by-firewall-in-sql-server-instances-running-on-azure-virtual-machines"></a>Контексты удаленных вычислений блокируются брандмауэром в экземплярах SQL Server, работающих на виртуальных машинах Azure  
 Если вы установили [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] на виртуальной машине Azure, возможно, вы не сможете использовать контексты вычислений, для которых требуется рабочее пространство виртуальной машины. Объясняется это тем, что по умолчанию брандмауэр виртуальной машины Azure использует правило, которое блокирует сетевой доступ для локальных учетных записей пользователя R.  
  
 Чтобы избежать этого, на виртуальной машине Azure откройте **брандмауэр Windows в режиме повышенной безопасности**, выберите **Исходящие правила**и отключить следующее правило: "Блокировать сетевой доступ для локальных учетных записей пользователей R в экземпляре SQL Server MSSQLSERVER".  
  
### <a name="implied-authentication-in-sqlexpress"></a>Неявная проверка подлинности в SQLEXPRESS
При выполнении заданий R с удаленной рабочей станции обработки и анализа данных с применением встроенной проверки подлинности Windows сервер SQL Server будет использовать *неявную проверку подлинности* для создания локальных вызовов ODBC, которые могут потребоваться скрипту. Но эта функция не работала в сборке RTM экспресс-выпуска SQL Server. 

Чтобы устранить эту проблему, рекомендуем произвести обновление до более позднего выпуска службы.

Если обновление невозможно, вы можете использовать имя входа SQL для выполнения удаленных заданий R, которым могут потребоваться внедренные вызовы ODBC. 

### <a name="limitations-on-processor-affinity-for-r-jobs"></a>Ограничения на соответствие процессоров для заданий R 
 
В сборке RTM SQL Server 2016 соответствие процессоров можно было задать только для ЦП в первой k-группе. Например, если сервер представляет собой компьютер с двумя сокетами и двумя k-группами, для процессов R будут использоваться только процессоры из первой k-группы. Это же ограничение действует при настройке регулирования ресурсов для заданий скриптов R.

Проблема исправлена в SQL Server 2016 с пакетом обновления 1 (SP1).

### <a name="changes-to-column-types-cannot-be-performed-when-reading-data-in-a-sql-server-compute-context"></a>Изменение типов столбцов невозможно при считывании данных в контексте вычисления SQL Server.

Если в качестве контекста вычисления задан экземпляр SQL Server, вы не можете использовать аргумент _colClasses_ (или иные подобные аргументы) для изменения типа данных столбцов в коде R. 

Например, следующая инструкция приведет к ошибке, если столбец CRSDepTimeStr уже не является целочисленным:

~~~~
data <- RxSqlServerData(sqlQuery = "SELECT CRSDepTimeStr, ArrDelay  FROM AirlineDemoSmall",
                                connectionString = connectionString,
                                colClasses = c(CRSDepTimeStr = "integer"))
~~~~

Эта проблема будет исправлена в будущем выпуске. 

В качестве обходного решения можно переписать SQL-запрос так, чтобы в нем использовалась функция CAST или CONVERT, и предоставить данные среде R с правильным типом данных. Как правило, оптимальнее в плане производительности работать с данными с помощью SQL, а не изменять данные в коде R.
  
### <a name="resource-governance-default-values"></a>Значения регулирования ресурсов по умолчанию  
В выпуске Enterprise Edition можно использовать пулы ресурсов для управления внешними процессами скриптов. В некоторых сборках максимальный размер памяти, который можно было выделять процессам R, был ограничен на уровне 20 %. Поэтому, если сервер имел 32 ГБ ОЗУ, исполняемые файлы R (RTerm.exe и BxlServer.exe) могли использовать не более 6,4 ГБ для одного запроса. 

Если вы сталкиваетесь с ограничениями ресурсов, проверьте текущее значение по умолчанию и, если 20 % недостаточно, воспользуйтесь инструкциями по изменению этого значения в документации по [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  

### <a name="avoid-clearing-workspaces-when-executing-r-code-in-a-includessnoversiontokenssnoversionmdmd-compute-context"></a>Старайтесь не очищать рабочие области при выполнении кода R в контексте вычисления [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
 Если вы используете команду R для очистки рабочей области объектов при выполнении кода R в контексте вычисления [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или если вы очищаете рабочую область в рамках скрипта R, вызываемого с помощью [sp_execute_external_script](../../relational-databases/system-stored-procedures/sp-execute-external-script-transact-sql.md), может возникнуть следующая ошибка: *объект рабочей области revoScriptConnection не найден*.

`revoScriptConnection` — это объект в рабочей области R, который содержит информацию о сеансе R, вызываемом из [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Но если код R содержит команду для очистки рабочей области (например, `rm(list=ls()))`), вся информация о сеансе и других объектах в рабочей области R также очищается.

Чтобы избежать этой проблемы, старайтесь не очищать переменные и другие объекты без особой надобности при выполнении кода R в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Хотя очистка рабочих областей является обычным действием при работе в консоли R, она может иметь непредвиденные последствия. 

+ Для удаления конкретных переменных используйте функцию *remove* языка R: `remove('name1', 'name2', ...)`. 
+ Если нужно удалить несколько переменных, сохраните имена временных переменных в списке и периодически выполняйте сборку мусора. 
   
### <a name="restrictions-on-data-that-can-be-provided-as-input-to-an-r-script"></a>Ограничения для данных, которые могут быть предоставлены как входные данные в сценарии R  
 Следующие типы результатов запросов невозможно использовать в сценарии R:  
  
-   данные из запроса [!INCLUDE[tsql](../../includes/tsql-md.md)] , который ссылается на столбцы AlwaysEncrypted;  
  
-   данные из запроса [!INCLUDE[tsql](../../includes/tsql-md.md)] , который ссылается на маскированные столбцы.  
  
     Если вам необходимо использовать скрытые данные в сценарии R, при необходимости можно создать копию данных во временной таблице и использовать эти данные.  
   
  
## <a name="microsoft-r-server-standalone"></a>Microsoft R Server (изолированная версия)  
 В этом разделе перечислены проблемы, касающиеся изолированной версии Microsoft R Server. 
  
### <a name="multiple-r-libraries-and-executables-are-installed-if-you-install-both-standalone-and-in-database"></a>При установке как изолированной версии, так и версии в базе данных устанавливаются несколько библиотек и исполняемых файлов R.  
 Программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] теперь включает в себя возможность установить Microsoft R Server (изолированную версию). Вариант установки Microsoft R Server (изолированной версии) можно использовать в выпуске Enterprise Edition для установки изолированного сервера Windows, который поддерживает R, но не требует взаимодействия с SQL Server.    

> [!TIP] Изолированная версия **не** требуется для использования R с [!INCLUDE[tsql](../../includes/tsql-md.md)].
> 
> Если вам нужно настроить клиентский компьютер для обработки и анализа данных с возможностью подключения к [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] или серверу Microsoft R Server (изолированной версии), рекомендуем использовать [клиент Microsoft R](http://go.microsoft.com/fwlink/?LinkId=799768).  

Если службы R (в базе данных) и Microsoft R Server (изолированная версия) устанавливаются на одном компьютере, учтите, что отдельный экземпляр R будет создан для каждого экземпляра SQL Server с поддержкой R, а также для Microsoft R Server (изолированной версии).  Например, если вы установили экземпляр по умолчанию, именованный экземпляр и R Server (изолированную версию), на одном компьютере может быть три экземпляра R:  
  
-   **Изолированная версия:** C:\Program Files\Microsoft SQL Server\130\R_SERVER.  
  
-   **Экземпляр по умолчанию:** C:\Program Files\Microsoft SQL Server\MSSQL13.MSSQLSERVER\R_SERVICES.  
  
-   **Именованный экземпляр:** C:\Program Files\Microsoft SQL Server\MSSQL13.\<имя_экземпляра>\R_SERVICES.  
  
> [!NOTE] 
> 
> Используйте библиотеки и средства R, связанные с экземпляром базы данных, только из контекста [!INCLUDE[tsql](../../includes/tsql-md.md)]. Если код R требуется выполнять с помощью других средств R, необходимо ссылаться на библиотеки R, используемые сервером R Server (изолированная версия), которые по умолчанию устанавливаются в папке C:\Program Files\Microsoft SQL Server\130\R_SERVER.  

### <a name="performance-limits-when-r-services-libraries-are-called-from-standalone-r-tools"></a>Ограничение производительности при вызове библиотек служб R из автономных средств R

Библиотеки R, используемые службами SQL Server R, по умолчанию устанавливаются в папке C:\Program Files\Microsoft SQL Server\MSSQL13.MSSQLSERVER\R_SERVICES. Средства и библиотеки R, установленные для служб SQL Server R, *можно* вызывать из внешнего приложения R, например RGui. 

Но в этом случае производительность будет ограничена. Например, даже если вы приобрели выпуск Enterprise Edition SQL Server, среда R будет работать в однопотоковом режиме при выполнении кода R с помощью внешних средств. Производительность будет значительно выше, если код R выполняется путем инициации подключения к SQL Server и использования процедуры [sp_execute_external_script](../../relational-databases/system-stored-procedures/sp-execute-external-script-transact-sql.md), которая автоматически вызывает библиотеки служб R.

+ Старайтесь не вызывать библиотеки R, используемые SQL Server, из внешних средств R. 
+ Если код R необходимо выполнять на сервере SQL Server с помощью внешних средств, следует установить отдельный экземпляр R, а затем убедиться в том, что средства R связаны с новой библиотекой. 
+ Если вы используете выпуск Enterprise Edition, рекомендуем установить Microsoft R Server (изолированную версию) на сервере SQL Server. Затем во внешнем средстве, используемом для выполнения кода R, сошлитесь на библиотеки для сервера R Server, которые по умолчанию установлены в папке C:\Program Files\Microsoft SQL Server\<номер_версии>\R_SERVER. 

Дополнительные сведения см. в разделе [Создание изолированного сервера R Server](../../advanced-analytics/r-services/create-a-standalone-r-server.md).  
  
  
## <a name="general-r-issues"></a>Общие проблемы R  

 В этом разделе перечислены проблемы, относящиеся к средствам подключения и оценки производительности R.  
  
### <a name="limited-support-for-sql-data-types-in-spexecuteexternalscript"></a>Не все типы данных SQL поддерживаются в sp_execute_external_script.  

 Не все типы данных, поддерживаемые в SQL, можно использовать в R. В качестве обходного решения можно привести неподдерживаемый тип данных к поддерживаемому перед передачей данных в процедуру sp_execute_external_script.  
  
 Дополнительные сведения см. в разделе [Работа с типами данных R](../../advanced-analytics/r-services/working-with-r-data-types.md).  
  
### <a name="possible-string-corruption"></a>Возможное повреждение строки  

 Любая передача строковых данных из [!INCLUDE[tsql](../../includes/tsql-md.md)] в R, а затем снова в [!INCLUDE[tsql](../../includes/tsql-md.md)] может привести к повреждению. Это происходит из-за различных кодировок, используемых в R и [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], а также из-за разных параметров сортировки и языков, поддерживаемых в R и [!INCLUDE[tsql](../../includes/tsql-md.md)]. Любая строка в кодировке, отличной от ASCII, может обрабатываться неправильно.  
  
 При отправке строковых данных в R преобразуйте их в ASCII, если это возможно.  
  
### <a name="only-one-raw-value-can-be-returned-from-spexecuteexternalscript"></a>Сценарий sp_execute_external_script возвращает только одно значение строки  

 Если двоичный тип данных (тип данных **raw** R) возвращается из R, значением должно быть значение из блока выходных данных.  
  
 Поддержка множества выходных данных **raw** будет добавлена в последующих выпусках.  
  
 Одно возможное решение для использования нескольких выходных наборов — выполнить несколько вызовов хранимой процедуры и отправить результат назад в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с использованием ODBC.  
  
 Обратите внимание на то, что получить значения параметров можно вместе с результатами выполнения хранимой процедуры, просто добавив ключевое слово OUTPUT. Дополнительные сведения см. в разделе [Возвращение данных с помощью параметров OUTPUT](https://technet.microsoft.com/library/ms187004.aspx).
  
### <a name="loss-of-precision"></a>Потеря точности  

 [!INCLUDE[tsql](../../includes/tsql-md.md)] и R поддерживают различные типы данных, поэтому во время преобразования возможна потеря точности числовых типов данных.  
  
 Дополнительные сведения о неявном преобразовании типов данных см. в разделе [Working with R Data Types](../../advanced-analytics/r-services/working-with-r-data-types.md).  
  
### <a name="variable-scoping-error-the-sample-data-set-for-the-analysis-has-no-variables-when-using-the-transformfunc-parameter"></a>Ошибка области переменной "Образец набора данных для анализа не содержит переменных" при использовании параметра transformFunc  

 Вы можете передать аргумент *transfилиmFunc* в такой функции, как `rxLinmod` или `rxLogit` to transfилиm the data while modelling. Тем не менее вложенные вызовы функций могут привести к ошибкам области применения в контексте вычислений SQL Server, даже если вызовы правильно работают в локальном контексте.  
  
 Например, предположим, что в глобальной локальной среде определены две функции, `f` и `g` , и `g` вызывает `f`. В распределенных или удаленных вызовах с использованием `g`вызов `g` может вызвать ошибку, поскольку не удается найти `f` , даже если вы передали удаленному вызову `f` и `g` .  
  
 При возникновении этой проблемы можно внедрить определение `f` в ваше определение `g`в любом месте перед тем, где `g` обычно вызывает `f`.  
  
 Например:  
  
```  
f <- function(x) { 2*x + 3 }  
g <- function(y) {   
              a <- 10 * y  
               f(a)  
}  
  
```  
  
 Чтобы избежать ошибки, внесите показанные ниже изменения.  
  
```  
g <- function(y){  
              f <- function(x) { 2*x +3}  
              a <- 10 * y  
              f(a)  
}  
  
```  

  
## <a name="revolution-r-enterprise-and-microsoft-r-open"></a>Revolution R Enterprise и Microsoft R Open 
 
 В этом разделе перечислены проблемы, связанные со средствами подключения, разработки и оценки производительности R, предоставляемыми Revolution Analytics. Эти средства предоставлялись в предварительных версиях [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]. 

Как правило, рекомендуется удалить эти предыдущие версии и установить последнюю версию служб SQL Server R, Microsoft R Server или клиента Microsoft R.
  
### <a name="running-side-by-side-versions-of-revolution-r-enterprise"></a>Параллельная работа разных версий Revolution R Enterprise  

 Параллельная установка Revolution R Enterprise с любой другой версией [!INCLUDE[rsql_productname_md](../../includes/rsql-productname-md.md)] не поддерживается.  
  
 У вас есть лицензия на использование другой версии Revolution R Enterprise, вам необходимо поместить ее на отдельном компьютере, где нет экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , и не на рабочей станции, которая будет использоваться для подключения к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
### <a name="limited-support-for-revoscaler-rxexec"></a>Ограниченная поддержка RevoScaleR rxExec  

 Начиная с RC0, функция `rxExec` , предоставляемая [!INCLUDE[rsql_rre-short](../../includes/rsql-rre-short-md.md)] , может использоваться только в однопоточном режиме.  
  
 Поддержка параллелизма `rxExec` в нескольких процессах будет добавлена в следующих выпусках.  
  
### <a name="data-import-and-manipulation-using-revoscaler"></a>Импорт и обработка данных с помощью RevoScaleR  

 При чтении столбцов **varchar** из базы данных пробелы удаляются. Чтобы избежать этого, добавьте перед и после строк символы, отличные от пробелов.  
  
 При использовании таких функций, как `rxDataStep` , для создания таблиц баз данных со столбцами **varchar** ширина столбца вычисляется на основе образца данных. Если ширина может быть различной, может потребоваться дополнить все строки до одинаковой длины.  
  
 Использование преобразования для изменения типа данных переменной не поддерживается при повторном вызове `rxImport` или `rxTextToXdf` для импорта и дополнения строк с объединением нескольких входных файлов в один XDF-файл.  
  
### <a name="increase-maximum-parameter-size-to-support-rxgetvarinfo"></a>Увеличение максимального размера параметра для поддержки rxGetVarInfo  

 При использовании наборов данных с очень большим количеством переменных (например, более 40 000) следует задать флаг `max-ppsize` при запуске R для использования функций, таких как `rxGetVarInfo`.  Флаг `max-ppsize` указывает максимальный размер стека защиты указателей.  
  
 Если вы используете консоль R (например, в rgui.exe или rterm.exe), можно задать значение max-ppsize 500 000, введя:  
  
```  
R --max-ppsize=500000  
```  
  
 Если вы используете среду [!INCLUDE[rsql_developr](../../includes/rsql-developr-md.md)] , можно задать флаг `max-ppsize` , вызвав исполняемый файл RevoIDE:  
  
```  
RevoIDE.exe /RCommandLine --max-ppsize=500000  
```  
  
### <a name="issues-with-rxdtree-function"></a>Проблемы с функцией rxDTree  

 Функция `rxDTree` в настоящее время не поддерживает преобразование в формулах. В частности, использование синтаксиса `F()` для создания факторов в режиме реального времени не поддерживается. Однако числовые данные будут автоматически сегментироваться.  
  
 Упорядоченные факторы обрабатываются так же, как факторы, во всех функциях анализа RevoScaleR, за исключением `rxDTree`.  
  
### <a name="using-the-r-productivity-environment"></a>Использование среды производительности R  

Некоторые предварительные версии [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] включали в себя среду разработки R для Windows, которая была создана с помощью Revolution Analytics. 

Но в целях совместимости с [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] мы настоятельно рекомендуем установить клиент Microsoft R или сервер Microsoft R Server вместо средств Revolution Analytics. [Средства R для Visual Studio](https://www.visualstudio.com/vs/rtvs/) — еще один рекомендуемый клиент, который поддерживает решения Microsoft R.
  
### <a name="compatibility-issues-with-sqlite-odbc-driver-and-revoscaler"></a>Проблемы совместимости с драйвером SQLite ODBC и RevoScaleR  
 Версия 0.92 драйвера SQLite ODBC не совместима с RevoScaleR, версии 0.88–0.91 и 0.93 и более поздние совместимы.  
  
## <a name="see-also"></a>См. также:  
[Что нового в SQL Server 2016](../../sql-server/what-s-new-in-sql-server-2016.md)
  