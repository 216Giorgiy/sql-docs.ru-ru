---
title: "С помощью функции профилирования кода R | Microsoft Docs"
ms.custom: ""
ms.date: "11/29/2016"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "r-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 132db249-b9f1-48f5-a63e-c9806cacc4af
caps.latest.revision: 6
author: "jeannt"
ms.author: "jeannt"
manager: "jhubbard"
caps.handback.revision: 5
---
# С помощью функции профилирования кода R
Помимо использования ресурсов SQL Server и средства для отслеживания выполнения скрипта R, можно использовать средства повышения производительности, предоставляемых другими пакетами R для получения дополнительной информации о внутренних вызовов функций. Здесь представлен список некоторые основные ресурсы, чтобы приступить к работе. Советы экспертов, мы рекомендуем главы на [производительности](http://adv-r.had.co.nz/Performance.html) в книге ««Advanced R»» (Hadley wickham).

## <a name="using-rprof"></a>С помощью RPROF

*rprof* — это функция, включенных в базовый пакет **utils**, который загружается по умолчанию. Одно из преимуществ *rprof* выполняет выборки, таким образом уменьшая нагрузку из наблюдения.

Чтобы использовать профилирование кода R, эта функция вызывается и указываются параметры, включая имя расположения файла журнала, в который будут записываться. Получить справку по *rprof* Подробные сведения.

Как правило *rprof* работы функции путем записи стека вызовов в файл через заданные интервалы времени. Затем можно использовать *summaryRprof* функцию для обработки выходного файла. 

Профилирование можно включать и отключать в коде. Чтобы включить профилирование, Приостановка профилирования и затем перезапустить его, используйте последовательность вызовов *rprof*:

1. Укажите профилирования выходной файл.

    ```R
    varOutputFile <- "C:/TEMP/run001.log")
    Rprof(varOutputFile)
    ```
2. Отключить профилирование
    ```R
    Rprof(NULL)
    ```
    
3. Перезапустите профилирования
    ```R
    Rprof(append=TRUE)
    ```


> [!NOTE] С помощью этой функции требует наличия Windows Perl на компьютере, где выполняется код. Поэтому рекомендуется профилирование кода во время разработки в среде R и затем развернуть отлаживаемый код SQL Server.  


## <a name="r-system-functions"></a>Системные функции R

Язык R имеется множество функций базовый пакет для возврата значения системных переменных. 

Например, как часть вашего кода, можно использовать `Sys.timezone` для получения текущего часового пояса или `Sys.Time` для получения системного времени из кода R. 

Чтобы получить сведения об отдельных функциях системы R, введите имя функции в качестве аргумента для R `help()` функции из командной строки с R.

```R
help("Sys.time")
```

## <a name="debugging-and-profiling-in-r"></a>Отладка и профилирование в R

Документация по Microsoft R Open, которая будет установлена по умолчанию, включает руководство по разработке расширений языка R, посвященной профилирования и отладки подробно.

Глава также доступна через Интернет: [https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Debugging](https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Debugging)

### <a name="location-of-r-help-files"></a>Расположение файлов справки R

C:\Program Files\Microsoft SQL Server\MSSQL13. MSSQLSERVER\R_SERVICES\doc\manual


