---
title: "Включение и отключение управления пакетами R | Microsoft Docs"
ms.custom: ""
ms.date: "03/23/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "r-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 6e384893-04da-43f9-b100-bfe99888f085
caps.latest.revision: 7
author: "jeannt"
ms.author: "jeannt"
manager: "jhubbard"
---
# Включение и отключение управления пакетами R

По умолчанию управление пакетами в экземпляре SQL Server отключено, даже если установлены службы R Services. Для включения этой функции администратору базы данных следует выполнить процедуру, состоящую из двух этапов: 

1. Включение управления пакетами в экземпляре SQL Server (один раз для каждого экземпляра SQL Server). 
2. Включение управления пакетами в базе данных SQL Server (один раз для каждой базы данных SQL Server). 


При отключении функции управления пакетами процедура выполняется в обратном порядке: сначала удаляются пакеты и разрешения на уровне базы данных, а затем — роли с сервера:
 
1. Отключение управления пакетами для каждой базы данных (один раз для базы данных). 
2. Отключение управления пакетами в экземпляре SQL Server (один раз для каждого экземпляра). 

> [!IMPORTANT]
> Эта функция находится на этапе разработки. Имейте в виду, что синтаксис и функциональные возможности в последующих выпусках могут измениться. 

### <a name="to-enable-package-management"></a>Включение управления пакетами

Для включения или отключения управления пакетами требуется программа командной строки **RegisterRExt.exe**, входящая в состав пакета **RevoScaleR**, который устанавливается вместе со службами R Services SQL Server. Расположение по умолчанию:

`<SQLInstancePath>\R_SERVICES\library\RevoScaleR\rxLibs\x64\RegisterRExe.exe` 
    
1. Откройте командную строку с повышенными привилегиями и выполните следующую команду:

    `RegisterRExt.exe /installpkgmgmt [/instance:name] [/user:username] [/password:*|password]`

    Эта команда создает на компьютере SQL Server артефакты уровня экземпляра, которые требуются для управления пакетами. 

2. Чтобы добавить управление пакетами на уровне базы данных, для каждой базы данных, где требуется установить пакеты, выполните следующую команду из командной строки с повышенными привилегиями: 

    `RegisterRExt.exe /installpkgmgmt /database:databasename [/instance:name] [/user:username] [/password:*|password]` 

    Эта команда создает некоторые артефакты базы данных, включая следующие роли базы данных, которые нужны для управления разрешениями пользователей: **rpkgs-users**, **rpkgs-private** и **rpkgs-shared**. 

### <a name="to-disable-package-management"></a>Отключение управления пакетами 

1. Из командной строки с повышенными привилегиями выполните следующую команду, чтобы отключить управление пакетами на уровне базы данных:

   `RegisterRExt.exe /uninstallpkgmgmt /database:databasename [/instance:name] [/user:username] [/password:*|password]` 

    Эта команда удаляет артефакты базы данных, связанные с управлением пакетами, из указанной базы данных.  Кроме того, она удаляет все пакеты, которые были установлены для каждой из баз данных из защищенного расположения файловой системы на компьютере с SQL Server.
    
    Эту команду требуется выполнить один раз для каждой базы данных, где использовалось управление пакетами.
 
2. (Необязательно.) Чтобы полностью удалить функцию управления пакетами из экземпляра, после очистки всех баз данных от пакетов с помощью предыдущего действия выполните следующую команду из командной строки с повышенными привилегиями:

    `RegisterRExt.exe /uninstallpkgmgmt [/instance:name] [/user:username] [/password:*|password]`

    Эта команда удаляет из экземпляра SQL Server артефакты уровня экземпляра, используемые функцией управления пакетами. 


## <a name="see-also"></a>См. также:
[Управление пакетами R для служб R Services SQL Server](../../advanced-analytics/r-services/r-package-management-for-sql-server-r-services.md)