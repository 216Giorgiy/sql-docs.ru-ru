---
title: "Глубокое погружение в обработку и анализ данных: использование пакетов RevoScaleR | Microsoft Docs"
ms.custom: ""
ms.date: "09/27/2016"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "r-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
applies_to: 
  - "SQL Server 2016"
dev_langs: 
  - "R"
ms.assetid: c2efb3f2-cad5-4188-b889-15d68b742ef5
caps.latest.revision: 18
author: "jeannt"
ms.author: "jeannt"
manager: "jhubbard"
caps.handback.revision: 17
---
# Глубокое погружение в обработку и анализ данных: использование пакетов RevoScaleR
В этом учебнике приводятся базовые сведения о расширенных пакетах R, предоставляемых в [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)]. Вы научитесь использовать масштабируемую корпоративную среду для выполнения пакетов R в [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].   Используя эти масштабируемые функции R, специалист по обработке и анализу данных может создавать настраиваемые решения R, выполняющиеся в локальном или серверном контексте, с целью обеспечения высокопроизводительного анализа больших данных.  
  
В этом учебнике будет показано, как перемещать данные между [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и рабочей станцией R, анализировать и отображать данные, а также создавать и развертывать модели.  
    
## Обзор 
 
Для иллюстрации гибкости и вычислительной мощности пакетов ScaleR в этом учебном курсе вы будете часто переключать контекст вычислений и перемещать данные.

+ Данные изначально получаются из CSV- или XDF-файлов. Вы будете импортировать данные в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с помощью функций из пакета RevoScaleR.    
+ Обучение и оценка модели будет выполняться в контексте вычислений [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 
    Вы будете создавать новые таблицы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с помощью функций **rx** для сохранения результатов оценки.    
+ Графики будут создаваться как на сервере, так и в контексте локальных вычислений.  
+ Для обучения модели будут использоваться данные, уже хранящиеся в базе данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Все вычисления будут производиться в экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].    
+ Вы будете извлекать подмножества данных и сохранять их в XDF-файле для повторного использования при анализе на локальной рабочей станции.    
+ Новые данные, используемые в процессе анализа, извлекаются из базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с помощью подключения ODBC. Все вычисления производятся на локальной рабочей станции. 
+ Наконец, вы проведете моделирование на основе пользовательской функции R, используя контекст серверных вычислений.

### Начнем прямо сейчас  

На прохождение этого учебника требуется один час, не считая настройки.  

-   [Занятие 1. Работа с данными SQL Server с помощью языка R](../../advanced-analytics/r-services/lesson-1-work-with-sql-server-data-using-r-data-science-deep-dive.md)  
  
-   [Занятие 2. Создание и выполнение скриптов R](../../advanced-analytics/r-services/lesson-2-create-and-run-r-scripts-data-science-deep-dive.md)  
  
-   [Занятие 3. Преобразование данных с помощью языка R](../../advanced-analytics/r-services/lesson-3-transform-data-using-r-data-science-deep-dive.md)  
  
-   [Занятие 4. Анализ данных в локальном контексте вычисления](../../advanced-analytics/r-services/lesson-4-analyze-data-in-local-compute-context-data-science-deep-dive.md)  
  
-   [Занятие 5. Создание простого моделирования](../../advanced-analytics/r-services/lesson-5-create-a-simple-simulation-data-science-deep-dive.md)  

      
### Целевая аудитория  
  
Этот учебник предназначен для специалистов по обработке и анализу данных или для тех, кто уже немного знаком с R и задачами обработки и анализа данных, включая исследование, статистический анализ и настройку модели.  При этом предоставляется весь код, поэтому можно легко запускать и отслеживать его при условии наличия необходимых серверных и клиентских сред.  
  
Также необходимо разбираться в синтаксисе [!INCLUDE[tsql](../../includes/tsql-md.md)] и уметь получать доступ к базе данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с помощью [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] или других средств для работы с базами данных, таких как Visual Studio.  
  
> [!TIP]  
> Сохраняйте рабочее пространство R после прохождения уроков, чтобы можно было легко продолжить работу с того места, на котором вы остановились.  
  
### Предварительные требования  
  
-   **Сервер базы данных с поддержкой языка R**  
  
    Установите [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] и включите службы R Services SQL Server (в базе данных). Этот процесс описан в [электронной документации по SQL Server 2016](http://msdn.microsoft.com/library/mt696069(SQL.130).aspx).  
  
-   **Разрешения базы данных**  
  
    Для выполнения запросов, используемых для обучения модели, требуются права **db_datareader** в базе данных, в которой хранятся данные.  
  
  
-   **Рабочая станция обработки и анализа данных**  
  
    Необходимо установить пакеты RevoScaleR. Самый простой способ сделать это — установить изолированный сервер Microsoft R Server или клиент Microsoft R Client. Дополнительные сведения см. в разделе [Настройка клиента обработки и анализа данных](http://msdn.microsoft.co/library/mt696067(SQL.130).aspx).
      
    > [!NOTE] 
    > Другие версии Revolution R Enterprise или Revolution R Open не поддерживаются. 
    > 
    > Дистрибутив R c открытым исходным кодом, например R 3.2.2, не будет работать в этом учебнике, поскольку только функция ScaleR может использовать контексты удаленных вычислений. 
  
-   **Дополнительные пакеты R**  
  
    Для этого учебника необходимо установить следующие пакеты: **dplyr**, **ggplot2**, **ggthemes**, **reshape2** и **e1071**. Инструкции приводятся в рамках учебника.  
  
    Все пакеты также необходимо установить в экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], где будет проводиться обучение. Пакет следует устанавливать в библиотеке пакетов R, используемой SQL Server. **Не устанавливайте эти пакеты в пользовательской библиотеке.** Если у вас нет разрешения на установку пакетов в этой папке, попросите администратора баз данных добавить пакеты.   
  
Дополнительные сведения см. в разделе [Предварительные требования для работы с пошаговыми руководствами по обработке и анализу данных (службы SQL Server R Services)](../../advanced-analytics/r-services/prerequisites-for-data-science-walkthroughs-sql-server-r-services.md).  
  
## Алгоритмы данных для распределенных решений R
    
Как правило, перед тем как приступать к написанию и выполнению скриптов R в локальной среде разработки, следует потратить немного времени на планирование использования данных и определение того, где должна запускаться каждая часть решения для достижения максимальной производительности.  

В этом учебнике вы получите опыт работы с высокопроизводительными функциями для анализа данных, построения моделей и создания графиков, включенных в [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)]. Мы будем называть эти функции в целом функциями ScaleR или Microsoft R, чтобы отличать их от функций из других пакетов R с открытым исходным кодом. Дополнительные сведения об отличиях Microsoft R от R с открытым исходным кодом см. в этом [руководстве по началу работы](https://msdn.microsoft.com/microsoft-r/microsoft-r-getting-started#microsoft-r-products). 

Основное преимущество использования функций ScaleR заключается в том, что они поддерживают как локальные, так и серверные *источники данных*, а также локальные и удаленные *контексты вычислений*.  Таким образом, работая с этим учебником, обдумывайте алгоритмы данных, которые, возможно, вам потребуется адаптировать для собственных решений.
  
-   **Анализ какого типа будет проводиться?** Будете ли вы предоставлять доступ к моделям, результатам или диаграммам другим пользователям?
 
    В этом учебнике вы узнаете, как перемещать результаты между средой разработки и сервером для упрощения совместного доступа и анализа. 
  
-   **Должен ли нужный вам пакет R поддерживать удаленное выполнение?** Все функции в пакетах ScaleR, предоставляемые службами [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)], могут выполняться в контексте удаленных вычислений и потенциально могут использовать параллельное выполнение. Напротив, функции в сторонних пакетах могут нуждаться в дополнительных ресурсах для однопотокового выполнения. 
    
    В этом учебнике вы узнаете, как переключаться между контекстами локальных и удаленных вычислений, чтобы при необходимости использовать преимущества серверных ресурсов. Вы также узнаете, как упаковать стандартные функции R в *rxExec* для поддержки удаленного выполнения произвольных функций R.
    
  
-   **Где находятся данные и каковы их характеристики?**  Если данные хранятся локально, необходимо решить, будут ли все новые данные передаваться в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или же обучение будет проходить локально с сохранением в базе данных одной только модели. Однако при развертывании в рабочей среде может потребоваться обучение на корпоративных данных и использование процессов ETL для очистки и загрузки данных.  
  
-   Аналогичные вопросы относятся к анализу данных. Будет ли создаваться конвейер данных для их анализа на рабочей станции или будут использоваться корпоративные источники данных? Следует ли проводить очистку и подготовку данных в рамках процессов извлечения, преобразования и загрузки или проводится разовый эксперимент?  

    В этом учебнике вы узнаете, как эффективно и безопасно перемещать данных между локальной средой R и SQL Server. 
  
-   **Какой контекст вычислений следует использовать?** Вы можете обучать модель локально на выборке данных, а затем перейти на использование серверных данных для тестирования и запуска в рабочей среде.

    В этом учебнике вы узнаете, как перемещать данные между SQL Server и R с помощью R. Кроме того, вы узнаете, как работать с данными с помощью файлов XDF и как обрабатывать данные в блоках с помощью функций ScaleR.  
  
 
  
## Следующий шаг  
[Занятие 1. Работа с данными SQL Server с помощью языка R (глубокое погружение в обработку и анализ данных)](../../advanced-analytics/r-services/lesson-1-work-with-sql-server-data-using-r-data-science-deep-dive.md)  
  
  
  
