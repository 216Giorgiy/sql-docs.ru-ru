---
title: "Обновление экземпляра служб R с помощью sqlBindR.exe | Microsoft Docs"
ms.custom: ""
ms.date: "03/14/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "r-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
applies_to: 
  - "SQL Server (starting with 2016 CTP3)"
ms.assetid: 4da80998-f929-4fad-a86f-87d09c1a79ef
caps.latest.revision: 15
author: "jeannt"
ms.author: "jeannt"
manager: "jhubbard"
caps.handback.revision: 8
---
# Обновление экземпляра служб R с помощью sqlBindR.exe
Microsoft R Server для Windows содержит новое средство под названием **SqlBindR.exe**, с помощью которого можно обновить компоненты R для экземпляра. Этот процесс называется **привязкой**, так как он меняет модель лицензирования для экземпляра SQL Server 2016 на новую лицензию современного жизненного цикла поддержки программного обеспечения Майкрософт.

Эта система лицензирования позволяет гарантировать, что ваши специалисты по обработке и анализу данных всегда используют последнюю версию среды R. Дополнительные сведения об условиях и преимуществах лицензии на программное обеспечение Майкрософт см. в статье [Запуск Microsoft R Server для Windows](https://msdnstage.redmond.corp.microsoft.com/en-us/microsoft-r/rserver-install-windows?branch=r-server-nov16-dev).

При привязке экземпляра выполняются три действия.
+ Политика поддержки для экземпляра меняется с политики поддержки SQL Server 2016 на современное лицензионное соглашение на использование программного обеспечения Майкрософт.
+ Компоненты R, связанные с этим экземпляром, будут автоматически обновляться с каждым выпуском строго параллельно с версией R Server, которая является текущей в соответствии с условиями современного лицензионного соглашения на использование ПО.
+ Экземпляр больше нельзя обновлять вручную (можно только добавлять пакеты). 

Если в дальнейшем вы решите, что экземпляр больше не должен обновляться с каждым выпуском, вам необходимо будет **отменить привязку** экземпляра, а затем удалить компоненты Microsoft R Server, как описано в следующей статье: [Запуск Microsoft R Server для Windows](https://msdn.microsoft.com/microsoft-r/rserver-install-windows). По завершении этого процесса будущие обновления R Server больше не будут применяться к этому экземпляру.

> [!NOTE] Процесс обновления поддерживается только для экземпляров SQL Server 2016, к которым применен накопительный пакет обновления 3.0.  
> 
> Если вы используете службы R в SQL Server vNext, применять это обновление не нужно. Компоненты R автоматически обновляются на каждом этапе.

## <a name="how-to-upgrade-an-instance"></a>Обновление экземпляра


1. Запустите установщик Microsoft R Server на компьютере с экземпляром, который нужно обновить.
2. По завершении установки найдите папку, содержащую средство **SqlBindR.exe**. Расположение по умолчанию — `C:\Program Files\Microsoft\R Server\Setup`
2. Откройте командную строку с правами администратора.
3. Выполните следующую команду, чтобы просмотреть список доступных экземпляров: `SqlBindR.exe /list`.
4. Выполните команду **SqlBindR.exe** с аргументом */bind*, чтобы указать имя обновляемого экземпляра. 
   Например, чтобы обновить только экземпляр по умолчанию, введите следующую команду:  `SqlBindR.exe /bind MSSQL14.MSSQLSERVER`.

## <a name="how-to-downgrade-an-instance-of-r-services"></a>Переход на более раннюю версию экземпляра служб R

Чтобы вернуть экземпляр в предыдущее состояние, необходимо запустить средство SqlBindR для отмены лицензирования, а затем восстановить или переустановить экземпляр.

1. Выполните команду **SqlBindR.exe** с аргументом */unbind* и укажите экземпляр. 
   Например, следующая команда возвращает экземпляр по умолчанию в состояние, соответствующее модели лицензирования SQL Server и графику обновления SQL Server:  `SqlBindR.exe /unbind MSSQL14.MSSQLSERVER`.
2. Восстановите исходное состояние экземпляра, выполнив одно из указанных ниже действий.
    + Восстановите экземпляр. Операция восстановления применяет обновления ко всем установленным компонентам.
    + Выполните удаление и повторную установку, а затем примените все выпуски служб. Экземпляр необходимо перезапустить.
3. После удаления сервера R Server будут также удалены все пакеты, установленные вместе с экземпляром, поэтому их нужно установить повторно.

## <a name="requirements"></a>Требования
Обновление поддерживается только для экземпляров SQL Server 2016, отвечающих следующим требованиям:
+ SQL Server 2016 с пакетом обновления 1 (SP1) или более поздней версии;
+ применен накопительный пакет обновления 3.0 (OD).

В настоящее время обновление возможно только с помощью программы командной строки. В будущем выпуске будет предоставлен интерактивный интерфейс.

## <a name="sqlbindrexe-command-syntax"></a>Синтаксис команды sqlbindr.exe


### <a name="usage"></a>Использование

`sqlbindr [/list] [/bind <SQL_instance_ID>] [/unbind <SQL_instance_ID>]`

### <a name="parameters"></a>Параметры

|Название|Description|
|------|------|
|*list*| Выводит список идентификаторов всех экземпляров баз данных SQL на текущем компьютере.|
|*bind*| Обновляет указанный экземпляр базы данных SQL до последней версии R Server и обеспечивает автоматическое получение экземпляром будущих обновлений для R Server.|
|*unbind*|Удаляет последнюю версию R Server из указанного экземпляра базы данных SQL и блокирует применение будущих обновлений R Server к экземпляру.|

### <a name="errors"></a>ошибки

Программа возвращает указанные ниже сообщения об ошибках.

|Ошибка|Решение|
|------|------|
|При привязке экземпляра произошла ошибка.| Не удалось привязать экземпляр. Обратитесь в службу поддержки.|
|Экземпляр уже привязан.| Вы выполнили команду *bind*, но указанный экземпляр уже привязан. Выберите другой экземпляр.|
|Экземпляр не привязан.| Вы выполнили команду *unbind*, но указанный экземпляр не привязан. Выберите другой экземпляр.|
|Недопустимый идентификатор экземпляра SQL| Возможно, вы неправильно ввели имя экземпляра. Выполните команду еще раз с аргументом *list*, чтобы просмотреть идентификаторы доступных экземпляров.|
|Экземпляры не найдены.| На этом компьютере нет экземпляра служб SQL Server R.|
|Экземпляр должен иметь совместимую версию служб SQL R (в базе данных).| Дополнительные сведения см. на странице https://go.microsoft.com/fwlink/?linkid=835761.|
|При отмене привязки экземпляра произошла ошибка.| Не удалось отменить привязку экземпляра. Обратитесь в службу поддержки.|
|Произошла непредвиденная ошибка.| Другие ошибки. Обратитесь в службу поддержки.  |
|Экземпляры SQL не найдены.| На этом компьютере нет экземпляра SQL Server. |


## <a name="see-also"></a>См. также:

[Заметки о выпуске R Server](https://msdn.microsoft.com/microsoft-r/notes/r-server-notes)
