---
title: "Общие сведения о безопасности (службы SQL Server R) | Microsoft Docs"
ms.custom: ""
ms.date: "03/10/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "r-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 8fc84754-7fbf-4c1b-9150-7d88680b3e68
caps.latest.revision: 9
author: "jeannt"
ms.author: "jeannt"
manager: "jhubbard"
caps.handback.revision: 7
---
# Общие сведения о безопасности (службы SQL Server R)

В этом разделе описывается общая архитектура безопасности, используемый для подключения [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)] ядра и связанных компонентов в среду выполнения R базы данных. Для двух распространенных случаев использования R в среде предприятия представлены примеры процесса обеспечения безопасности.

+ Выполнение функции RevoScaleR в [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)] от клиента обработки и анализа данных
+ Выполнение R непосредственно из [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)] с помощью хранимых процедур

## Общие сведения о безопасности

A [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)] требуется имя входа или учетную запись пользователя Windows для выполнения всех заданий R, которые используют [!INCLUDE[rsql_productname_md](../../includes/rsql-productname-md.md)]. Определяет имя входа или учетной записи пользователя *участника безопасности*, которые должны иметь разрешение на доступ к базе данных, где выполняются R, а также разрешения на чтение данных из защищенных объектов, таких как таблицы, или для записи новых данных или добавлять новые объекты, если это требуется для задания R.

Следовательно, это является обязательным требованием, каждый пользователь, запускающий код R для [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)] должны сопоставляться с именем входа в базе данных, независимо от того, код отправляется от клиента обработки удаленных данных с помощью функции RevoScaleR или к работе с помощью T-SQL хранимой процедуры. 

Например, предположим, что созданный код R, работающей на переносном компьютере и вы хотите использовать этот код на [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)]. Необходимо убедиться, что выполняются следующие условия:

+ База данных разрешает удаленные соединения.
+ Имя входа SQL на имя и пароль, который используется в коде R добавлен [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)] на уровне экземпляра. Или, при использовании встроенной проверки подлинности Windows, пользователя Windows, указанного в строке подключения необходимо добавить как пользователя на экземпляре.
+ Имя входа SQL или пользователя Windows необходимо иметь разрешение для выполнения внешних сценариев. Как правило это разрешение можно добавить только администратором базы данных.
+ Имя входа SQL или окне пользователь должен быть добавлен как пользователь, с соответствующими разрешениями, в каждой базе данных, где R задание выполняет любой из этих операций:
    + Извлечение данных
    + Написание или обновление данных 
    + Создание новых объектов, такие как таблицы или хранимой процедуры

После имени входа или учетной записи пользователя Windows были подготовлены и предоставлены необходимые разрешения, можно запустить код R на [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)] используя объект источника данных R или путем вызова хранимой процедуры. При каждом запуске R из [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)], безопасность ядро базы данных возвращает контекст безопасности пользователя, запустившего задание R и управляет сопоставления пользователя или имени входа к защищаемым объектам. 

Таким образом все задания R, инициированные с удаленного клиента необходимо указать имя входа или пользователя данные как часть строки соединения.


## Взаимодействие [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)] и безопасность на панели запуска

При выполнении скрипта R в контексте [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)] компьютера, [!INCLUDE[rsql_launchpad_md](../../includes/rsql-launchpad-md.md)] служба возвращает доступный рабочий учетной записи (локальная учетная запись) из пула рабочих учетных записей, установленных для внешнего процесса и использует эту учетную запись работника для выполнения задач, связанных. 

Например, если запустить задание R вашими учетными данными домена Windows, учетной записи может быть сопоставлена рабочая учетная запись запуска *SQLRUser01*.

После сопоставления с учетной записью рабочей [!INCLUDE[rsql_launchpad_md](../../includes/rsql-launchpad-md.md)] создает маркер пользователя, который используется для запуска процессов. 

Когда все [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)] операции завершены, рабочей учетной записи помечены как свободные и возвращено в пул.

Дополнительные сведения о [!INCLUDE[rsql_launchpad_md](../../includes/rsql-launchpad-md.md)], в разделе [новых компонентов в SQL Server для поддержки интеграции R](../../advanced-analytics/r-services/new-components-in-sql-server-to-support-r-services.md).

## Безопасность рабочих учетных записей
Это сопоставление внешнего пользователя Windows или допустимое имя входа SQL для учетной записи рабочего действителен только в течение времени жизни запроса SQL, который запускает сценарий R. 

Параллельные запросы из того же имени входа сопоставляются той же рабочей учетной записью.

Каталоги, используемые для процессов, управляемых с помощью [!INCLUDE[rsql_launchpad_md](../../includes/rsql-launchpad-md.md)] с помощью RLauncher, и каталоги, доступ ограничен. Рабочая учетная запись не может доступ к файлам в папках выше собственный, но его чтения, записи или удаления дочерних элементов в папке, созданной для SQL-запроса с помощью скрипта R рабочего сеанса.

Дополнительные сведения о том, как изменить количество рабочих учетных записей имена учетных записей и паролей учетных записей см. в разделе [Изменить пул учетной записи пользователя для служб SQL Server R](../../advanced-analytics/r-services/modify-the-user-account-pool-for-sql-server-r-services.md).


## Изоляция безопасности для нескольких внешних сценариев

На основе механизм изоляции для физического учетных записей. Как вспомогательные процессы запускаются для конкретного языка среды выполнения, каждая задача вспомогательные использует рабочей учетной записи, [!INCLUDE[rsql_launchpad_md](../../includes/rsql-launchpad-md.md)]. Если для задачи требуется несколько вспомогательных, например, в случае параллельных запросов, один рабочий учетная запись используется для всех связанных задач.

Нет рабочей учетной записи можно просмотреть или управлять учетными записями других рабочих файлов.
 
Если вы являетесь администратором на компьютере, можно просматривать каталоги, созданные для каждого процесса. Каждый каталог идентифицируется по его GUID сеанса.

## См. также:
[Обзор архитектуры](../../advanced-analytics/r-services/architecture-overview-sql-server-r-services.md)