---
title: "Мониторинг служб R с помощью настраиваемых отчетов в Management Studio | Microsoft Docs"
ms.custom: ""
ms.date: "02/20/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "r-services"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 5933c72c-ba63-4966-b882-75719ef8428e
caps.latest.revision: 13
author: "jeannt"
ms.author: "jeannt"
manager: "jhubbard"
caps.handback.revision: 9
---
# Мониторинг служб R с помощью настраиваемых отчетов в Management Studio
Чтобы упростить управление службами R в SQL Server, группа разработчиков предоставила ряд примеров настраиваемых отчетов, которые можно добавить в среду SQL Server Management Studio для просмотра таких сведений о службах R, как:

- список активных сеансов R;
- конфигурация R текущего экземпляра;
- статистика выполнения для среды выполнения R;
- список расширенных событий для служб R;
- список пакетов R, установленных в текущем экземпляре.

В этом разделе объясняется, как установить отчеты и использовать их. Дополнительные сведения о настраиваемых отчетах в Management Studio см. в разделе [Пользовательские отчеты в среде Management Studio](../../ssms/object/custom-reports-in-management-studio.md).

## <a name="how-to-install-the-reports"></a>Установка отчетов

Отчеты разработаны с помощью служб SQL Server Reporting Services, однако их можно использовать непосредственно из SQL Server Management Studio, даже если службы Reporting Services не установлены в данном экземпляре. 

Работа с отчетами

* Скачайте RDL-файлы из репозитория GitHub для примеров продуктов SQL Server.
* Добавьте файлы в папку настраиваемых отчетов, используемую SQL Server Management Studio.
* Откройте отчеты в SQL Server Management Studio.


### <a name="step-1-download-the-reports"></a>Шаг 1. Загрузка отчетов

1. Откройте репозиторий GitHub, который содержит примеры для всех продуктов SQL Server, включая примеры баз данных. 
   + [Microsoft/sql-server-samples](https://github.com/Microsoft/sql-server-samples)
   + [SSMS Custom Reports](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/r-services/SSMS-Custom-Reports)
      
2. Чтобы скачать примеры, можно также войти в систему GitHub и создать локальное разветвление примеров. 

### <a name="step-2-copy-the-reports-to-management-studio"></a>Шаг 2. Копирование отчетов в Management Studio

3. Найдите папку настраиваемых отчетов, используемую SQL Server Management Studio. По умолчанию отчеты хранятся в этой папке:
    
   `C:\Users\user_name\Documents\SQL Server Management Studio\Custom Reports`

   Тем не менее, можно указать другую папку или создавать подпапки.

4. Скопируйте RDL-файлы в папку настраиваемых отчетов.


### <a name="step-3-run-the-reports"></a>Шаг 3. Запуск отчетов

5. В Management Studio щелкните правой кнопкой мыши узел **Базы данных** для экземпляра, на котором вы хотите запустить отчеты.
6. Щелкните **Отчеты**, а затем **Настраиваемые отчеты**. 
7. В диалоговом окне **Открыть файл** найдите папку настраиваемых отчетов.
8. Выберите один из загруженных ранее RDL-файлов и нажмите кнопку **Открыть**.

> [!IMPORTANT] На некоторых компьютерах, например с экранами с высоким DPI или с разрешением, превышающим 1080p, а также в некоторых сеансах подключения к удаленному рабочему столу эти отчеты использовать нельзя. Известно об ошибке в элементе управления просмотром отчетов в среде SSMS, которая приводит к сбою отчета.  


## <a name="report-list"></a>Список отчетов

Репозиторий примеров продуктов в GitHub на данный момент включает следующие отчеты для служб R в SQL Server.

+ **Службы R — активные сеансы**

  Этот отчет служит для просмотра текущих пользователей, которые подключены к экземпляру SQL Server и выполняют задания R. 
  
+ **Службы R — конфигурация**

  Этот отчет служит для просмотра свойств среды выполнения R и конфигурации служб R. В отчете будет указано, требуется ли перезагрузка; кроме того, проверяется список необходимых сетевых протоколов. 
  
  Неявная проверка подлинности необходима для запуска R в контексте вычислений SQL. Чтобы проверить это условие, отчет проверяет, существует ли имя входа базы данных для группы SQLRUserGroup.

  > [!NOTE] Дополнительные сведения об этих полях см. в статье [Package metadata](http://r-pkgs.had.co.nz/description.html) (Метаданные пакета) Хэдли Викема (Hadley Wickam). Например, поле *Nickname* (Псевдоним) для среды выполнения R было введено, чтобы проводить различия между выпусками. 

 + **Службы R — настройка экземпляра** 

   Этот отчет помогает вам настроить службы R после установки. Его можно запустить из предыдущего отчета, если службы R настроены неправильно.
 
+ **Службы R — статистика выполнения**

  Этот отчет используется для просмотра статистики выполнения служб R. Например, с его помощью можно получить сведения об общем количестве R-скриптов, которые были выполнены, числе параллельных выполнений и наиболее часто используемых функциях RevoScaleR.
  Пока отчет отслеживает только статистические данные для функций пакета RevoScaleR.
  Щелкните ссылку **Просмотреть сценарий SQL**, чтобы получить код T-SQL для этого отчета. 

+ **Службы R — расширенные события**

  Этот отчет служит для просмотра списка расширенных событий, доступных для отслеживания выполнения R-скрипта. 
  Щелкните ссылку **Просмотреть сценарий SQL**, чтобы получить код T-SQL для этого отчета.

+ **Службы R — пакеты**

  Этот отчет служит для просмотра списка пакетов R, установленных на экземпляре SQL Server. В настоящее время отчет включает следующие свойства пакета. 
  + Пакет (имя)
  + Версия 
  + Зависит
  + Лицензия
  + Сборка
  + Путь к библиотеке

+ **Службы R — использование ресурсов**

  Этот отчет служит для просмотра потребление ресурсов ЦП, памяти и ввода-вывода при выполнении R-скриптов в SQL Server. Кроме того, можно просмотреть настройки памяти для внешних пулов ресурсов. 


## <a name="see-also"></a>См. также

[Мониторинг служб R](../../advanced-analytics/r-services/monitoring-r-services.md)

[Расширенные события для служб R](../../advanced-analytics/r-services/extended-events-for-sql-server-r-services.md)