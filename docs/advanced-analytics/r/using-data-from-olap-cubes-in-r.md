---
title: "Использование данных из кубов OLAP в R | Документация Майкрософт"
ms.custom: 
ms.date: 12/16/2016
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- r-services
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- R
ms.assetid: 8093599c-8307-4237-983b-0908d0f8ab77
caps.latest.revision: 12
author: jeannt
ms.author: jeannt
manager: jhubbard
ms.translationtype: MT
ms.sourcegitcommit: a6aeda8e785fcaabef253a8256b5f6f7a842a324
ms.openlocfilehash: 8fe9d54e1d635b5c8f1dd6e00e33bd92136343b4
ms.contentlocale: ru-ru
ms.lasthandoff: 09/21/2017

---
# <a name="using-data-from-olap-cubes-in-r"></a>Использование данных из кубов OLAP в R

Пакет **OlapR** — это новый пакет R, предоставляемый в Microsoft R Server и SQL Server R Services, который позволяет выполнять запросы многомерных выражений и использовать данные из кубов OLAP в решении R.

При использовании этого пакета вам не нужно создавать связанные серверы или очищать плоские наборы строк; данные OLAP можно использовать в R напрямую.

## <a name="overview"></a>Обзор

Куб OLAP представляет собой многомерную базу данных, содержащую предварительно вычисленные агрегаты по *мерам*, в которых обычно отражены важные бизнес-метрики, например объем и количество продаж или другие числовые значения. Кубы OLAP часто используются для сбора и хранения критически важных данных. Многие инструменты, панели мониторинга и визуализации используют данные OLAP для бизнес-аналитики. Дополнительные сведения см. в разделе [Аналитическая обработка в сети](https://en.wikipedia.org/wiki/Online_analytical_processing).

Пакет **OlapR** поддерживает два метода создания запросов многомерных выражений: 

- Можно создать простой запрос многомерных выражений, используя API в стиле R для выбора куба, осей и срезов. С помощью этих функций можно создать допустимые запросы многомерных выражений даже при отсутствии доступа к традиционным средствам OLAP или нехватке опыта работы с языком многомерных выражений.

  Обратите внимание, что с помощью этого метода в пакете **olapR** можно создать не все запросы многомерных выражений, так как многомерные выражения могут быть очень сложными. Однако он поддерживает все наиболее распространенные и полезные операции, включая срезы, сегментирование, детализацию, свертку и сводку в N измерениях.

+ Можно вручную создать и затем вставить любой запрос многомерных выражений. Этот вариант удобен, если существуют запросы многомерных выражений, которые вы хотите использовать повторно, или если вы хотите создать запрос, который слишком сложен для обработки в **olapR** . 

  При таком подходе вы можете создать многомерное выражение с помощью любой клиентской программы, такой как SSMS или Excel, и затем использовать его в качестве строкового аргумента для *обработчика запросов SSAS* , предоставляемого в этом пакете. Функция **OlapR** отправит запрос на указанный сервер служб Analysis Services и передаст результаты в R.

Примеры создания запроса многомерных выражений или запуска существующего запроса см. в разделе [Создание запросов многомерных выражений с помощью R](../../advanced-analytics/r-services/how-to-create-mdx-queries-using-olapr.md).


## <a name="mdx-basics"></a>Основы использования многомерных выражений

Данные в кубе можно извлечь с помощью языка запросов многомерных выражений (MDX). Поскольку данные в кубе OLAP (или базе данных служб Analysis Services) являются многомерными, а не табличными, многомерные выражения поддерживают сложный синтаксис и различные операции для фильтрации данных и получения их срезов:

+ При*создании среза* используется подмножество куба, полученное посредством выбора значения для одного измерения, что дает куб, меньший на одно измерение. 

+ При*сегментировании* создается вложенный куб посредством указания диапазона значений для нескольких измерений.

+ *Детализация* позволяет перейти от сводки к подробностям.

+ *Подъем* позволяет перейти от подробностей к более высокому уровню статистической обработки.

+ *Свертка* дает сводные данные по данным в измерении.

+ *Сводка* поворачивает куб или выбранные данные.

В этом разделе приведены дополнительные примеры базового синтаксиса для запросов к кубу.
[Создание запросов многомерных выражений с помощью R](../../advanced-analytics/r-services/how-to-create-mdx-queries-using-olapr.md)


## <a name="known-issues"></a>Известные проблемы

### <a name="tabular-models-not-supported-currently"></a>Табличные модели сейчас не поддерживаются

Можно подключиться к табличному экземпляру служб Analysis Services, и функция `explore` сообщит об успешном выполнении с возвращением значения TRUE, однако объекты табличной модели не относятся к совместимому типу, и просматривать их нельзя. 

Табличные модели поддерживают запросы многомерных выражений, однако допустимый запрос многомерных выражений для табличной модели возвращает значение NULL и не выдает ошибку.

## <a name="resources"></a>Ресурсы

Если вы впервые сталкиваетесь с OLAP или запросами многомерных выражений, см. следующие статьи в Википедии: [Кубы OLAP](https://en.wikipedia.org/wiki/OLAP_cube)
[Запросы многомерных выражений](https://en.wikipedia.org/wiki/MultiDimensional_eXpressions)

### <a name="samples"></a>Примеры

Если вы хотите больше узнать о кубах, можете создать куб, который используется в этих примерах, следуя указаниям учебника по службам Analysis Services вплоть до занятия 4: [Создание куба OLAP](/sql-docs/docs/analysis-services/multidimensional-modeling-adventure-works-tutorial).

Можно также скачать существующий куб в качестве резервной копии и восстановить его в экземпляре служб Analysis Services. Например, можно скачать полностью обработанный куб для [многомерной модели Adventure Works SQL 2014](http://msftdbprodsamples.codeplex.com/downloads/get/882334)в формате ZIP и восстановить его в своем экземпляр SSAS. Дополнительные сведения см. в разделе [Резервное копирование и восстановление](../../analysis-services/multidimensional-models/backup-and-restore-of-analysis-services-databases.md)или [Командлет Restore-ASDatabase](../../analysis-services/powershell/restore-asdatabase-cmdlet.md).

## <a name="see-also"></a>См. также:
[Создание запросов многомерных выражений с помощью R](../../advanced-analytics/r-services/how-to-create-mdx-queries-using-olapr.md)

[Конструктор запросов многомерных выражений для служб Analysis Services](http://msdn.microsoft.com/library/7e288eee-2d37-485e-a6a0-dbba5e041e26)



