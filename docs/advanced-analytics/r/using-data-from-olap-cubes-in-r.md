---
title: "Используя данные из кубов OLAP в R | Документы Microsoft"
ms.custom: 
ms.date: 11/03/2017
ms.prod: sql-server-2017
ms.reviewer: 
ms.suite: 
ms.technology: r-services
ms.tgt_pltfrm: 
ms.topic: article
dev_langs: R
ms.assetid: 8093599c-8307-4237-983b-0908d0f8ab77
caps.latest.revision: "12"
author: jeannt
ms.author: jeannt
manager: cgronlund
ms.workload: On Demand
ms.openlocfilehash: 1c55a5b834cd91478a87ded7ebb86884117c7bfb
ms.sourcegitcommit: 9678eba3c2d3100cef408c69bcfe76df49803d63
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2017
---
# <a name="using-data-from-olap-cubes-in-r"></a>Используя данные из кубов OLAP в R

**OlapR** пакет является пакет R, предоставляемые корпорацией Майкрософт для использования с машины обучения Server и SQL Server R Services, который позволяет использовать запросы многомерных Выражений для получения данных из кубов OLAP. В этом пакете нет необходимости создавать связанные серверы или очистить плоские наборы строк; данные OLAP можно использовать непосредственно в R.

В этой статье описываются API, а также обзор fo OLAP и многомерных Выражений для пользователей R, которые могут быть неизвестны баз данных многомерных кубов.

## <a name="what-is-an-olap-cube"></a>Что такое куб OLAP?

Оперативная аналитическая Обработка осуществляется сокращение для интерактивной аналитической обработки. Решения OLAP часто используются для сбора и хранения данных на важных для бизнеса со временем. Многие инструменты, панели мониторинга и визуализации используют данные OLAP для бизнес-аналитики. Дополнительные сведения см. в разделе [оперативной аналитической обработки](https://en.wikipedia.org/wiki/Online_analytical_processing).

Корпорация Майкрософт предоставляет [служб Analysis Services](https://docs.microsoft.com/sql/analysis-services/analysis-services), что позволяет проектировать, развертывать и запроса данных OLAP в виде _кубы_ или _табличных моделей_. Куб является многомерная база данных. _Измерения_ похожи аспекты данных или факторов в R: использования измерений для определения некоторых определенного подмножества данных, для составления сводки или анализа. Например время — важные измерения, поэтому большая многие решения OLAP, включая различные календари, которые определены по умолчанию для использования при выполнении среза и обобщения данных. 

Для повышения производительности базы данных OLAP часто вычисляют сводные значения (или _агрегаты_) заранее и сохраняет их для получения быстрее. На основе сводки *меры*, которые представляют формулы, которые могут быть применены для числовых данных. Использовать для определения подмножества данных измерения и меры для вычисления к этим данным. Например для вычисления продаж строку продукта за несколько кварталов минус налоги сообщить среднюю стоимость для конкретного поставщика, с начала года совокупное заработной платные и так далее используется меры.

Многомерные Выражения, сокращение для многомерных выражений — язык, используемый для выполнения запросов к кубам. Запрос многомерных Выражений, как правило, содержит определение данных, включающий одно или несколько измерений и мер по крайней мере один, thogh запросы многомерных Выражений можно получить гораздо более сложные и включать последовательное windows, совокупное среднее или суммы, процентилем. 

Ниже приведены некоторые термины, которые могут быть полезны при запуске построения запросов многомерных Выражений.

+ *Создание срезов* принимает подмножество куба, используя значения из одного измерения.

+ При*сегментировании* создается вложенный куб посредством указания диапазона значений для нескольких измерений.

+ *Детализация* позволяет перейти от сводки к подробностям.

+ *Подъем* позволяет перейти от подробностей к более высокому уровню статистической обработки.

+ *Свертка* дает сводные данные по данным в измерении.

+ *Сводка* поворачивает куб или выбранные данные.

В этом разделе приведены дополнительные примеры базовый синтаксис для запросов в кубе. 

+ [Создание запросов многомерных Выражений, с помощью R](../../advanced-analytics/r-services/how-to-create-mdx-queries-using-olapr.md)

## <a name="olapr-api"></a>olapR API

Пакет **OlapR** поддерживает два метода создания запросов многомерных выражений:

- **Используйте построитель многомерных Выражений.** Использование функций R в пакете для создания простой запрос многомерных Выражений, выбрав куба и параметр осей и срезы. Это легко создавать допустимый запрос многомерных Выражений, если нет доступа к средствам традиционный OLAP, или у вас нет глубокого знания языка многомерных Выражений.

    Не все возможные запросы многомерных Выражений могут создаваться с помощью этого метода, так как многомерные Выражения могут быть сложными. Однако этот API поддерживает большинство наиболее распространенным и полезным операций, включая срез, поперечные срезы данных, углубленной детализации, rollup и pivot в измерениях N.

+ **Скопированные и вставленные корректный многомерных Выражений.** Создание вручную, а затем вставьте в любом запросе многомерных Выражений. Этот параметр рекомендуется использовать, если у вас есть существующие запросы многомерных Выражений, которые требуется повторно использовать или если требуется построить запрос слишком сложен для **olapR** для обработки. 

    Сборки с помощью программы любого клиента, например SSMS или Excel, MDX и затем сохранить строку, определяющую запрос многомерных Выражений. Эта строка многомерных Выражений предоставляются в качестве аргумента для *обработчик запросов SSAS* в **olapR** пакета. Функция отправляет запрос к указанному серверу служб Analysis Services и передает результаты в R, при условии, что имеются разрешения на запрос к кубу, конечно.

Примеры для построения многомерных Выражений запросов или запуске существующего запроса многомерных Выражений, см. в разделе [способ создания запросов многомерных Выражений, с помощью R](../../advanced-analytics/r/how-to-create-mdx-queries-using-olapr.md).

## <a name="known-issues"></a>Известные проблемы

### <a name="tabular-models-not-supported"></a>Табличные модели не поддерживается

+ При подключении к табличным экземпляром служб Analysis Services `explore` функция сообщает об успешном выполнении с возвращаемым значением TRUE. Тем не менее объектам табличной модели, не совместимый тип и не может быть просмотрен.

+ Табличные модели можно выполнять запросы DAX или многомерных Выражений. Если допустимый запрос многомерных Выражений для табличной модели с помощью внешнего средства разработки и вставьте запрос в этот API, запрос возвращает результат NULL и не сообщает об ошибке.

## <a name="resources"></a>Ресурсы

Если вы впервые сталкиваетесь с OLAP или запросами многомерных выражений, см. следующие статьи в Википедии: [Кубы OLAP](https://en.wikipedia.org/wiki/OLAP_cube)
[Запросы многомерных выражений](https://en.wikipedia.org/wiki/MultiDimensional_eXpressions)

### <a name="samples"></a>Примеры

Если вы хотите больше узнать о кубах, можете создать куб, который используется в этих примерах, следуя указаниям учебника по службам Analysis Services вплоть до занятия 4: [Создание куба OLAP](../../analysis-services/multidimensional-modeling-adventure-works-tutorial.md).

Можно также скачать существующий куб в качестве резервной копии и восстановить его в экземпляре служб Analysis Services. Например, можно скачать полностью обработанный куб для [многомерной модели Adventure Works SQL 2014](http://msftdbprodsamples.codeplex.com/downloads/get/882334)в формате ZIP и восстановить его в своем экземпляр SSAS. Дополнительные сведения см. в разделе [Резервное копирование и восстановление](../../analysis-services/multidimensional-models/backup-and-restore-of-analysis-services-databases.md)или [Командлет Restore-ASDatabase](../../analysis-services/powershell/restore-asdatabase-cmdlet.md).
