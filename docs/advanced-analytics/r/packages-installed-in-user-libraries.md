---
title: Советы по использованию R-пакеты, установленные в библиотеках пользователя на сервере SQL Server | Документы Microsoft
ms.prod: sql
ms.technology: machine-learning
ms.date: 05/30/2018
ms.topic: conceptual
author: HeidiSteen
ms.author: heidist
manager: cgronlun
ms.openlocfilehash: e52a6f4a9a3830aab01e54819804785a7069c9d2
ms.sourcegitcommit: 808d23a654ef03ea16db1aa23edab496b73e5072
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2018
ms.locfileid: "34708472"
---
# <a name="tips-for-using-r-packages-in-sql-server"></a>Советы по использованию R-пакетов в SQL Server
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

В этой статье состоит из отдельных разделов для администраторов баз данных, не знакомых с использованием R и Опытные разработчики R, имеющих доступ к пакету для ознакомления в экземпляре SQL Server.

## <a name="new-to-r"></a>Новое в R

С правами администратора, установка R пакеты в первый раз, зная, что с основными сведениями об управлении пакет R, чтобы приступить к работе.

### <a name="package-dependencies"></a>Зависимости пакетов

Пакеты R часто зависят от нескольких других пакетов, некоторые из которых могут оказаться недоступными в библиотеке R по умолчанию, используемые экземпляром. Иногда пакета требуется другая версия зависимый пакет, который уже установлен. Зависимости пакетов, указаны в файле ОПИСАНИЯ, внедренный в пакет, но иногда являются неполными. Можно использовать пакет называется [iGraph](http://igraph.org/r/) для полностью объясняют граф зависимостей.

Если вам нужно установить несколько пакетов или нужно гарантировать, что все сотрудники вашей организации возвращает правильный пакет типа и версии, мы рекомендуем использовать [miniCRAN](https://mran.microsoft.com/package/miniCRAN) пакетов для анализа цепочка зависимости. minicRAN будет создан локальный репозиторий, могут использоваться совместно в нескольких пользователей или компьютеров. Дополнительные сведения см. в разделе [Создать репозиторий локального пакета с помощью miniCRAN](create-a-local-package-repository-using-minicran.md).

### <a name="package-sources-versions-and-formats"></a>Источники пакетов, версии и форматы

Существует несколько источников R-пакетов, таких как [CRAN](https://cran.r-project.org/) и [Bioconductor](https://www.bioconductor.org/). Официальный сайт языка R (<https://www.r-project.org/>) перечислены многие такие ресурсы. Корпорация Майкрософт предлагает [MRAN](https://mran.microsoft.com/) для ее распространение R с открытым исходным кодом ([MRO](https://mran.microsoft.com/open)) и других пакетов. Многие пакеты публикуются на портале GitHub, где разработчики могут получить исходный код.

Пакеты R, выполняются на нескольких вычислительных платформ. Убедитесь, что версии, устанавливаемые двоичных файлов Windows.

### <a name="know-which-library-you-are-installing-to-and-which-packages-are-already-installed"></a>Знать библиотеку, в которой вы устанавливаете и какие пакеты уже установлены.

Если среда R на компьютере ранее были изменены перед установкой ничего, убедитесь, что переменная среды R `.libPath` использует только один путь.

Этот путь должен указывать папку R_SERVICES для экземпляра. Дополнительные сведения, включая способ определить, какие пакеты уже установлены, в разделе [пакетов R по умолчанию и Python в SQL Server](installing-and-managing-r-packages.md).

## <a name="new-to-sql-server"></a>В SQL Server

Как разработчик R, работе с кодом, выполняемым на сервере SQL Server политики безопасности, сервер защищен ограничивают возможность управления средой R.

### <a name="r-user-libraries-not-supported-on-sql-server"></a>Библиотек пользователей R: не поддерживается в SQL Server

Разработчики R, которым необходимо установить новые пакеты R привыкли к установке пакетов по желанию, с помощью private, Библиотека пользовательских всякий раз, когда имя библиотеки по умолчанию недоступен, или когда разработчик не является администратором на компьютере. Например, в типичной среде разработки R, пользователю добавить расположение пакета R в переменную среды `libPath`, или ссылаться на полный путь к пакету, следующим образом:

```R
library("c:/Users/<username>/R/win-library/packagename")
```

Это не работает при запуске решения R в SQL Server, так как пакеты R должна быть установлена на конкретные стандартные библиотеки, связанный с экземпляром. При пакета недоступна в библиотеке по умолчанию, эта ошибка возникает при попытке вызвать пакет:

*Ошибка в library(xxx): не найден пакет называется «имя пакета»*

### <a name="avoid-package-not-found-errors"></a>Избежать ошибок «не удалось найти пакет»

+ Устранение зависимости библиотек пользователей. 

    Его рекомендуется неправильный разработки установить необходимые пакеты R в библиотеку пользовательского как может привести к ошибкам при запуске решения другим пользователем, который не имеет доступа к расположение библиотеки.

    Кроме того при установке в библиотеке по умолчанию среды выполнения R загружает пакет из библиотеки по умолчанию, даже если вы укажете другую версию в коде R.

+ Измените код для запуска в общей среде.

+ Следует Избегайте установки пакетов в рамках решения. Если нет разрешения на установку пакетов, код завершится с ошибкой. Даже при наличии разрешения для установки пакетов, вам следует так отдельно от другого кода, который нужно выполнить.

+ проверьте код, чтобы убедиться в отсутствии вызовов к удаленным пакетам;

+ Обновите код, чтобы удалить прямые ссылки на пути пакетов R или R библиотек. 

+ Знаете, какой пакет библиотека связана с экземпляром. Дополнительные сведения см. в разделе [пакетов R по умолчанию и Python в SQL Server](installing-and-managing-r-packages.md).

## <a name="see-also"></a>См. также

+ [Установка новых пакетов R](install-additional-r-packages-on-sql-server.md)
+ [Установка новых пакетов Python](../python/install-additional-python-packages-on-sql-server.md)
+ [Руководства, примеры, решения](../tutorials/machine-learning-services-tutorials.md)