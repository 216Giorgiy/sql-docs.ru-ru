---
title: Избежать ошибок при использовании R-пакеты, установленные в библиотеках пользователя | Документы Microsoft
ms.prod: sql
ms.technology: machine-learning
ms.date: 04/15/2018
ms.topic: conceptual
author: HeidiSteen
ms.author: heidist
manager: cgronlun
ms.openlocfilehash: 4609504044e5ef014c4a73e2c4a64a21040db717
ms.sourcegitcommit: 7a6df3fd5bea9282ecdeffa94d13ea1da6def80a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
---
# <a name="avoiding-errors-on-r-packages-installed-in-user-libraries"></a>Чтобы избежать ошибок в R-пакеты, установленные в библиотек пользователей
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

Опытным пользователям R привыкшим установки R-пакетов в библиотеке пользователя всякий раз, когда имя библиотеки по умолчанию заблокированы или не доступен. Тем не менее этот подход не поддерживается в SQL Server и установка библиотеку пользователя обычно завершается по ошибке «не удалось найти пакет».

В этой статье описывается обходные пути, чтобы избежать этой ошибки. Объясняет, как можно изменить код R и предлагает правильный R пакета процесса установки с помощью пакетов R от экземпляра SQL Server.

## <a name="why-r-user-libraries-cannot-be-accessed-from-sql-server"></a>Почему библиотек пользователей R нельзя получить доступ из SQL Server

Разработчики R, которым необходимо установить новые пакеты R привыкли к установке пакетов по желанию, с помощью private, Библиотека пользовательских всякий раз, когда имя библиотеки по умолчанию недоступен, или когда разработчик не является администратором на компьютере.

Например, в типичной среде разработки R, пользователю добавить расположение пакета R в переменную среды `libPath`, или ссылаться на полный путь к пакету, следующим образом:

```R
library("c:/Users/<username>/R/win-library/packagename")
```

Это не работает при запуске решения R в SQL Server, так как пакеты R должна быть установлена на конкретные стандартные библиотеки, связанный с экземпляром. При пакета недоступна в библиотеке по умолчанию, эта ошибка возникает при попытке вызвать пакет:

*Ошибка в library(xxx): не найден пакет называется «имя пакета»*

## <a name="how-to-avoid-package-not-found-errors"></a>Как избежать ошибок «не удалось найти пакет»

+ Устранить зависимости от пользователя библиотеки 

    Его рекомендуется неправильный разработки установить необходимые пакеты R в библиотеку пользовательского как может привести к ошибкам при запуске решения другим пользователем, который не имеет доступа к расположение библиотеки.

    Кроме того при установке в библиотеке по умолчанию среды выполнения R загружает пакет из библиотеки по умолчанию, даже если в коде R указана другая версия.

+ Измените код для запуска в общей среде.

+ Следует Избегайте установки пакетов в рамках решения. Если нет разрешения на установку пакетов, код завершится с ошибкой. Даже при наличии разрешения для установки пакетов, вам следует так отдельно от другого кода, который нужно выполнить.

+ проверьте код, чтобы убедиться в отсутствии вызовов к удаленным пакетам;

+ Обновите код, чтобы удалить прямые ссылки на пути пакетов R или R библиотек. 

+ Знаете, какой пакет библиотека связана с экземпляром. Дополнительные сведения см. в разделе [пакеты R, установленных с SQL Server](installing-and-managing-r-packages.md)
