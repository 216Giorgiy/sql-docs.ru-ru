---
title: Часто задаваемые вопросы по SQL Server машинного обучения обновлению и установке | Документы Microsoft
ms.prod: sql
ms.technology: machine-learning
ms.date: 04/15/2018
ms.topic: conceptual
author: HeidiSteen
ms.author: heidist
manager: cgronlun
ms.openlocfilehash: 52ff43f13ff3f17f21ed96313d3134d8ee31dd86
ms.sourcegitcommit: 7a6df3fd5bea9282ecdeffa94d13ea1da6def80a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2018
---
# <a name="upgrade-and-installation-faq-for-sql-server-machine-learning-or-r-server"></a>Часто задаваемые вопросы по SQL Server машинного обучения или R Server обновлению и установке
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

В этом разделе содержатся ответы на некоторые распространенные вопросы об установке машинного обучения функции в SQL Server. Она также охватывает часто задаваемые вопросы об обновлениях.

+ Некоторые проблемы возникают только при обновлении с предварительных версий. Таким образом рекомендуется определить версию и выпуск сначала перед чтением эти заметки. Чтобы получить сведения о версии, запустите `@@VERSION` в запрос из SQL Server Management Studio.
+ Обновление до последней версии или выпуска службы как можно быстрее, для устранения проблем, исправленных в последних выпусках.

**Применяется к:** служб R SQL Server 2016, SQL Server 2017 г машинного обучения службы (в базе данных)

## <a name="requirements-and-restrictions-on-older-versions-of-sql-server-2016"></a>Требования и ограничения для более ранних версий SQL Server 2016 

В зависимости от сборки SQL Server, который вы устанавливаете могут применяться некоторые следующие ограничения:

- В ранних версиях служб SQL Server 2016 R нотации имена в формате 8.3 требовалось на диск, содержащий рабочий каталог. Если вы установили предварительную версию, обновление до пакета обновления 1 для SQL Server 2016 должно устранить эту проблему. Это требование не относится к выпускам после пакета обновления 1.

- Установка Side-by-side другую версию R или другие выпуски Revolution Analytics, не поддерживается.

- Отключите антивирусную до начала установки. По завершении установки рекомендуется приостановить выполнение поиска вирусов на папки, используемые [!INCLUDE[ssnoversion](../../includes/ssnoversion.md)]. Желательно Приостановить сканирование на весь [!INCLUDE[ssnoversion](../../includes/ssnoversion.md)] дерева.

 - Установка Microsoft R Server на экземпляре SQL Server, установленный в ядре Windows. В RTM-версии SQL Server 2016 возникла известная проблема при добавлении Microsoft R Server на экземпляре на выпуск Windows Server Core. Эта ошибка исправлена. Если вы столкнетесь с этой проблемой, можно применить исправление, описанные в [KB3164398](https://support.microsoft.com/kb/3164398) для добавления функции R в существующий экземпляр, в Windows Server Core. Дополнительные сведения см. в разделе [Не удается установить изолированный сервер Microsoft R Server в операционной системе Windows Server Core](https://support.microsoft.com/kb/3168691).


## <a name="offline-installation-of-machine-learning-components-for-a-localized-version-of-sql-server-2016"></a>Установки компонентов машины обучения для локализованной версии SQL Server 2016 в автономном режиме

Не удалось установить языковому стандарту CAB-файлов во время автономной установки без подключения к Интернету ранней версии SQL Server 2016. Эта проблема была решена в более поздних версиях, но если программа установки возвращает сообщение о том, что он не сможет установить нужный язык, можно изменить имя файла, чтобы продолжить установку.

+ Вручную измените файл установщика, чтобы убедиться, что установлен правильный язык. Например, чтобы установить японскую версию SQL Server, в имя файла нужно изменить из SRS_8.0.3.0_**1033**.cab для SRS_8.0.3.0_**1041**.cab.
+ Идентификатор языка, используемый для машинного обучения компонентов должен совпадать с именем языка установки SQL Server, или не удается завершить установку.

## <a name="pre-release-versions-support-policies-upgrade-and-known-issues"></a>Предварительные версии: поддержки политик, обновления и известные проблемы

Новые установки любой версии предварительного выпуска [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] больше не поддерживается. Если вы используете предварительную версию, обновление как можно быстрее.

Этот раздел содержит подробные инструкции для конкретных сценариев обновления.

### <a name="how-to-upgrade-sql-server"></a>Обновление SQL Server

Можно обновить версию SQL Server, повторно запустив мастер установки.

+ [Обновление SQL Server](../../database-engine/install-windows/upgrade-sql-server.md)
+ [Обновление SQL Server с помощью мастера установки](../../database-engine/install-windows/upgrade-sql-server-using-the-installation-wizard-setup.md)

Обновление можно выполнить только машинного обучения компонентов с помощью процесса, называемого привязкой. 
+ [Для обновления компонентов обучения машины используйте SqlBindR](use-sqlbindr-exe-to-upgrade-an-instance-of-sql-server.md)

### <a name="end-of-support-for-in-place-upgrades-from-prerelease-versions"></a>Окончание поддержки для обновления на месте из предварительных версий

Обновление с предварительных версий SQL Server 2016 больше не поддерживаются. Сюда входят CTP3-версии SQL Server 2016, CTP-версия 3.1, CTP-версия 3.2, RC0 или RC1.

Следующие версии были установлены с предварительными версиями SQL Server 2016.

| Версия | Сборка         |
|---------|---------------|
| CTP 3.0 | 13.0.xxx      |
| CTP 3.1 | 13.0.801.12   |
| CTP 3.2 | 13.0.900.73   |
| CTP 3.3 | 13.0.1000.281 |
| RC1     | 13.0.1200.242 |
| RC2     | 13.0.1300.275 |
| RC3     | 13.0.1400.361 |

При наличии подозрений о версии с помощью выполнить `@@VERSION` в запрос из SQL Server Management Studio.

Как правило обновление выполняется следующим образом:

1. Создайте резервную копию скриптов и данных.
2. Удаление предварительной версии.
3. Установите полную версию.

Удаление предварительной версии SQL Server компонентов обучения машины может быть сложным и может потребовать выполнения специальные сценария. Обратитесь в службу технической поддержки.

###  <a name="bkmk_Uninstall"></a> Удалить до обновления из более старой версии Microsoft R Server

Если вы установили предварительную версию Microsoft R Server, ее необходимо удалить перед обновлением до более новой версии.

1.  В **панели управления**щелкните элемент **Установка и удаление программ**, а затем выберите `Microsoft SQL Server 2016 <version number>`.

2.  В диалоговом окне с командами **добавления**, **восстановления**и **удаления** компонентов выберите **Удалить**.
  
3.  На странице **Выбор компонентов** в разделе **Общие компоненты**выберите **R Server (изолированный)**. Нажмите кнопку **Далее**, а затем — кнопку **Готово** , чтобы удалить только выбранные компоненты.

## <a name="r-services-and-r-server-standalone-side-by-side-errors"></a>Службы R и ошибки side-by-side R Server (изолированный) 

В более ранних версиях SQL Server 2016 установки R Server (изолированный) и служб R (в базе данных), в то же время иногда вызвала ошибку с сообщением «доступ запрещен». Эта проблема была исправлена в пакете обновления 1 для SQL Server 2016.

Если возникла эта ошибка и необходимо обновить эти компоненты, выполните интегрированной установки SQL Server 2016 с пакетом обновления 1. Существует два способа разрешить эту проблему, для которых требуется удалить и переустановить.

1. Удаление служб R (в базе данных) и убедитесь, что учетные записи пользователей для SQLRUserGroup, удаляются.

2. Перезапустите сервер, а затем переустановите R Server (изолированный).

3. Выполнения SQL Server после установки более и на этот раз выберите **Добавление компонентов к существующему серверу SQL**.

4. Выберите экземпляр, а затем выберите **служб R (в базе данных)** параметр для добавления.

Если эта процедура не может разрешить проблему, попробуйте следующее решение.

1. Удаление службы R (в базе данных) и R Server (изолированный) в то же время.

2. Удалите учетные записи локального пользователя (SQLRUserGroup).

3. Перезапустите сервер.

4. Запустите программу установки SQL Server и добавить только компонент служб R (в базе данных). Не устанавливайте **R Server (изолированный)**.

Как правило мы рекомендуем выполнять установку служб R (в базе данных) и R Server (изолированного) на том же компьютере. Тем не менее при условии, что сервер имеет емкость, достаточную, может оказаться изолированный сервер R может быть полезен в качестве средства разработки. Другим возможным вариантом является необходимость использовать возможности R Server ввода в эксплуатацию, но также требуется для доступа к данным SQL Server без перемещения данных.

## <a name="incompatible-version-of-r-client-and-r-server"></a>Несовместимые версии клиента R и сервера R Server

Если установить клиент Microsoft R и использовать его для выполнения R в контексте вычислений удаленного SQL Server, может появиться ошибка следующим образом:

*Используется версия от 9.0.0 клиента Microsoft R на компьютере, которая несовместима с версией 8.0.3 Microsoft R Server. Скачайте и установите совместимую версию*.

В SQL Server 2016 требовалось версии R, который был запущен в SQL Server R Services будет точно таким же, как библиотеки в клиенте Microsoft R. Это требование был удален в более поздних версиях. Тем не менее рекомендуется всегда получать последние версии машинного обучения компоненты и установить все пакеты обновления. 

Если используется более ранняя версия Microsoft R Server, необходимо обеспечить совместимость с клиентом Microsoft R от 9.0.0 установить обновления, описанные в этом [статья службы поддержки](https://support.microsoft.com/kb/3210262).


## <a name="installation-fails-with-error-only-one-revolution-enterprise-product-can-be-installed-at-a-time"></a>Установка завершается ошибкой "Одновременная установка нескольких продуктов Revolution Enterprise невозможна".

Эта ошибка может возникнуть, если у вас уже установлены продукты Revolution Analytics или предварительная версия служб SQL Server R. Перед тем как устанавливать новую версию Microsoft R Server, необходимо удалить все предыдущие версии. Параллельная установка с другими версиями средств Revolution Enterprise не поддерживается.

Но она поддерживается при использовании изолированного сервера R Server с [!INCLUDE[ssSQLv14_md](../../includes/sssqlv14-md.md)] или SQL Server 2016.

## <a name="registry-cleanup-to-uninstall-older-components"></a>Очистка реестра для удаления старых компонентов

Если у вас возникают проблемы с удалением предыдущей версии, вам может потребоваться отредактировать реестр, удалив соответствующие разделы.

> [!IMPORTANT]
> Эта проблема возникает, только если вы установили предварительную версию Microsoft R Server или версию CTP служб SQL Server 2016 R.
  
1. Откройте реестр Windows и найдите следующий раздел: `HKLM\Software\Microsoft\Windows\CurrentVersion\Uninstall`.
2. Удалите следующие записи, если они имеются и если раздел содержит только параметр `sEstimatedSize2`:
  
    -   E0B2C29E-B8FC-490B-A043-2CAE75634972        (для версии 8.0.2)
  
    -   46695879-954E-4072-9D32-1CC84D4158F4        (для версии 8.0.1)
  
    -   2DF16DF8-A2DB-4EC6-808B-CB5A302DA91B        (для версии 8.0.0)
  
    -   5A2A1571-B8CD-4AAF-9303-8DF463DABE5A        (для версии 7.5.0)

## <a name="see-also"></a>См. также:

 [Изучение служб (в базе данных) машины SQL Server](../r/sql-server-r-services.md)

 [SQL Server машинного самообучения, Server (изолированный)](../r/r-server-standalone.md)
