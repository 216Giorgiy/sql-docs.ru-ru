---
title: "Часто задаваемые вопросы по SQL Server машинного обучения обновлению и установке | Документы Microsoft"
ms.date: 10/31/2017
ms.prod: sql-non-specified
ms.reviewer: 
ms.suite: 
ms.technology: r-services
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 001e66b9-6c3f-41b3-81b7-46541e15f9ea
caps.latest.revision: "59"
author: jeannt
ms.author: jeannt
manager: cgronlund
ms.workload: On Demand
ms.openlocfilehash: f0c6aac38001506b51ff7d14307f23b461334eb7
ms.sourcegitcommit: 531d0245f4b2730fad623a7aa61df1422c255edc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/01/2017
---
# <a name="upgrade-and-installation-faq-for-sql-server-machine-learning"></a>Часто задаваемые вопросы по SQL Server машинного обучения обновлению и установке

В этом разделе содержатся ответы на некоторые распространенные вопросы об установке машинного обучения функции в SQL Server. Она также охватывает часто задаваемые вопросы об обновлениях.

+ Некоторые проблемы возникают только при обновлении с предварительных версий. Таким образом рекомендуется определить версию и выпуск сначала перед чтением эти заметки.
+ Обновление до последней версии или выпуска службы как можно быстрее, для устранения проблем, исправленных в последних выпусках.

**Применяется к:** служб R SQL Server 2016, SQL Server 2017 г машинного обучения службы (в базе данных)

## <a name="performing-setup-for-the-first-time"></a>Выполнение установки в первый раз

Выполните процедуры для настройки [!INCLUDE[sscurrent_md](../../includes/sscurrent_md.md)] и компоненты R, как описано здесь: 

+ [Настройка SQL Server R Services или машины обучения службы в базе данных](../r/set-up-sql-server-r-services-in-database.md)
+ [Настройка SQL Server 2017 г. с Python](../python/setup-python-machine-learning-services.md)
+ [Создание изолированного сервера R](../r/create-a-standalone-r-server.md)

> [!IMPORTANT]
> 
> После завершения установки SQL Server и машинного обучения функции, прежде чем использовать скрипты R или Python, необходимо выполнить некоторые дополнительные действия по настройке. Это, так как функция выполнения внешнего скрипта не включена по умолчанию.

### <a name="requirements-and-restrictions"></a>Требования и ограничения

В зависимости от сборки SQL Server, который вы устанавливаете могут применяться некоторые следующие ограничения:

- В ранних версиях служб SQL Server 2016 R нотации имена в формате 8.3 требовалось на диск, содержащий рабочий каталог. Если вы установили предварительную версию, обновление до пакета обновления 1 для SQL Server 2016 должно устранить эту проблему. Это требование не относится к выпускам после пакета обновления 1.

- В настоящее время не удается установить [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] на отказоустойчивом кластере. 

- На виртуальной Машине Azure может потребоваться дополнительная настройка. Например может потребоваться создать исключение брандмауэра для поддержки удаленного доступа.

- Установка Side-by-side другую версию R или другие выпуски Revolution Analytics, не поддерживается.

- Новые установки предварительных версий [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] больше не поддерживаются. Если вы используете предварительную версию, обновление как можно быстрее.

- Отключите антивирусную до начала установки. По завершении установки рекомендуется приостановить выполнение поиска вирусов на папки, используемые [!INCLUDE[ssnoversion](../../includes/ssnoversion.md)]. Желательно Приостановить сканирование на весь [!INCLUDE[ssnoversion](../../includes/ssnoversion.md)] дерева.

### <a name="licensing-agreements-for-unattended-installs"></a>Лицензионные соглашения для автоматической установки

При использовании командной строки для обновления экземпляра SQL Server, убедитесь, что командной строки включает в себя [!INCLUDE[ssnoversion](../../includes/ssnoversion.md)] лицензирования параметр соглашение и новые параметры лицензионного соглашения для R и Python.

### <a name="offline-installation-of-machine-learning-components-for-a-localized-version-of-sql-server"></a>Автономной установки компонентов машины обучения для локализованной версии SQL Server

При установке [!INCLUDE[ssnoversion](../../includes/ssnoversion.md)] компонентов обучения машины на компьютере, который не имеет доступа к Интернету, необходимо выполнить некоторые дополнительные действия:

+ Загрузите в локальную папку установщиков компонентов R или Python, перед запуском программы установки SQL Server.
+ В некоторых случаях может потребоваться внести изменения в файл установщика, чтобы убедиться, что установлен правильный язык.
+ Идентификатор языка, используемый для машинного обучения компонентов должен совпадать с именем языка установки SQL Server, или не удается завершить установку.

Дополнительные сведения см. в разделе [Установка компонентов обучения компьютер без доступа к Интернету](../r/installing-ml-components-without-internet-access.md).

## <a name="post-installation-configuration"></a>Настройка после установки

Чтобы использовать машинного обучения с R или Python, дополнительная настройка не требуется после запуска программы установки SQL Server. Конкретные шаги, которые требуются зависят от уровня безопасности сервера и настройки экземпляра SQL Server и баз данных.

Просмотрите все параметры в списке инструкции после установки, чтобы увидеть, какие дополнительные шаги, необходимых в вашей среде.

+ [Настройка машинного самообучения в базе данных, SQL Server](set-up-sql-server-r-services-in-database.md) 

## <a name="upgrades-or-uninstallation"></a>Обновления или удаления программного обеспечения

Этот раздел содержит подробные инструкции для конкретных сценариев обновления.

### <a name="how-to-upgrade-sql-server"></a>Обновление SQL Server

Можно обновить версию SQL Server, повторно запустив мастер установки.

+ [Обновление SQL Server](../../database-engine/install-windows/upgrade-sql-server.md)
+ [Обновление SQL Server с помощью мастера установки](../../database-engine/install-windows/upgrade-sql-server-using-the-installation-wizard-setup.md)

Обновление можно выполнить только машинного обучения компонентов с помощью процесса, называемого привязкой. 
+ [Для обновления компонентов обучения машины используйте SqlBindR](use-sqlbindr-exe-to-upgrade-an-instance-of-sql-server.md)

### <a name="end-of-support-for-in-place-upgrades-from-prerelease-versions"></a>Окончание поддержки для обновления на месте из предварительных версий

Обновление с предварительных версий SQL Server 2016 больше не поддерживаются. Сюда входят CTP3-версии SQL Server 2016, CTP-версия 3.1, CTP-версия 3.2, RC0 или RC1.

Следующие версии были установлены с предварительными версиями SQL Server 2016.

| Version | Сборка         |
|---------|---------------|
| CTP 3.0 | 13.0.xxx      |
| CTP 3.1 | 13.0.801.12   |
| CTP 3.2 | 13.0.900.73   |
| CTP 3.3 | 13.0.1000.281 |
| RC1     | 13.0.1200.242 |
| RC2     | 13.0.1300.275 |
| RC3     | 13.0.1400.361 |

При наличии подозрений о версии с помощью выполнить `@@VERSION` в запрос из SQL Server Management Studio.

Как правило обновление выполняется следующим образом:

1. Создайте резервную копию скриптов и данных.
2. Удаление предварительной версии.
3. Установите полную версию.

Удаление предварительной версии SQL Server компонентов обучения машины может быть сложным и может потребовать выполнения специальные сценария. Обратитесь в службу технической поддержки.

### <a name="support-for-slipstream-upgrades"></a>Поддержка интегрированных обновлений

Интегрированная установка — это возможность применить исправление или обновление для экземпляра, установка которого завершилась сбоем, чтобы устранить существующие неполадки. Преимущество этого метода — что SQL Server обновляется в то же время выполнения программы установки, предотвращение отдельные перезагрузку позже.

Если сервер не имеет доступа к Интернету, необходимо загрузить установщик SQL Server. *Прежде чем* запустить процесс обновления, необходимо отдельно скачать соответствующие версии установщиков компонентов R. 

Расположения загрузки. в разделе [Установка компонентов обучения компьютер без доступа к Интернету](installing-ml-components-without-internet-access.md).

Когда все файлы установки будут скопированы в локальный каталог, запустите программу установки, введя в командной строке SETUP.EXE.

- Используйте */updatesource* аргумент, чтобы указать расположение локального файла, содержащего обновления SQL Server, например накопительного пакета обновления или пакета обновления.

- Используйте */MRCACHEDIRECTORY* аргумент, чтобы указать папку, содержащую CAB-файлов компонентов R.

Дополнительные сведения см. в записи группой поддержки: [развертывание служб R на компьютерах без доступа к Интернету](https://blogs.msdn.microsoft.com/sqlcat/2016/10/20/do-it-right-deploying-sql-server-r-services-on-computers-without-internet-access/).

### <a name="get-machine-learning-components-for-offline-installs"></a>Получить машины обучения компоненты для установки в автономном режиме

После установки или обновления серверов, которые не подключены к Интернету, необходимо загрузить обновленную версию машинного обучения компоненты вручную перед началом обновления. 

+ [Установка компонентов обучения компьютер без доступа к Интернету](../../advanced-analytics/r/installing-ml-components-without-internet-access.md).

### <a name="support-policy-and-schedule-for-update-of-machine-learning-components"></a>Поддерживает политики и расписание для обновления компонентов машины обучения

Будут выпущены исправления или улучшения для SQL Server компонентов обучения машины автоматически обновляются или обновляться, если экземпляр уже содержит компонент.

Начиная с 2016 декабря вы можете обновить компонентов обучения машины чаще чем цикл выпуска SQL Server. Это можно сделать, *привязки* экземпляр SQL Server в политику современных жизненного цикла программного обеспечения. Каждый раз, когда новая версия инструментов машинного обучения высвобождается средой машинного обучения для разработчиков, можно загрузить последнюю версию и применить его к экземпляру SQL Server, используемый для машинного обучения.

Дополнительные сведения см. в разделе:

+ [Временной шкалы поддержки для Microsoft R Server и сервера Machine обучения](https://docs.microsoft.com/machine-learning-server/resources-servicing-support)
+ [Для обновления экземпляра SQL Server используйте SqlBindR](use-sqlbindr-exe-to-upgrade-an-instance-of-sql-server.md).

## <a name="r-server-standalone"></a>R Server (Standalone)

В этом разделе описываются проблемы, характерные для установки Microsoft R Server (изолированный), используйте программу установки SQL Server 2016. 

Проблемы, связанные с обновления с сервера R на компьютере обучения, в разделе [Установка машины обучения сервера для Windows](https://docs.microsoft.com/machine-learning-server/install/machine-learning-server-windows-install).

### <a name="problems-when-r-services-and-r-server-standalone-are-installed-on-the-same-computer"></a>Проблемы при установке служб R и изолированный сервер R на том же компьютере

В более ранних версиях SQL Server 2016 установки R Server (изолированный) и служб R (в базе данных), в то же время иногда вызвала ошибку с сообщением «доступ запрещен». Эта проблема была исправлена в пакете обновления 1 для SQL Server 2016.

Если возникла эта ошибка и необходимо обновить эти компоненты, выполните интегрированной установки SQL Server 2016 с пакетом обновления 1. Существует два способа разрешить эту проблему, для которых требуется удалить и переустановить.

1. Удаление служб R (в базе данных) и убедитесь, что учетные записи пользователей для SQLRUserGroup, удаляются.

2. Перезапустите сервер, а затем переустановите R Server (изолированный).

3. Выполнения SQL Server после установки более и на этот раз выберите **Добавление компонентов к существующему серверу SQL**.

4. Выберите экземпляр, а затем выберите **служб R (в базе данных)** параметр для добавления.

Если эта процедура не может разрешить проблему, попробуйте следующее решение.

1. Удаление службы R (в базе данных) и R Server (изолированный) в то же время.

2. Удалите учетные записи локального пользователя (SQLRUserGroup).

3. Перезапустите сервер.

4. Запустите программу установки SQL Server и добавить только компонент служб R (в базе данных). Не устанавливайте **R Server (изолированный)**.

Как правило мы рекомендуем выполнять установку служб R (в базе данных) и R Server (изолированного) на том же компьютере. Тем не менее при условии, что сервер имеет емкость, достаточную, может оказаться изолированный сервер R может быть полезен в качестве средства разработки. Другим возможным вариантом является необходимость использовать возможности R Server ввода в эксплуатацию, но также требуется для доступа к данным SQL Server без перемещения данных.

## <a name="see-also"></a>См. также

 [Приступая к работе с SQL Server R Services](../r/getting-started-with-sql-server-r-services.md)

 [Приступая к работе с Microsoft R Server автономный](../r/getting-started-with-microsoft-r-server-standalone.md)
