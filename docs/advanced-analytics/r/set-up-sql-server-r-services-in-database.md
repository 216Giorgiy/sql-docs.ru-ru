---
title: "Настройка службы обучения машины SQL Server (в базе данных) | Документы Microsoft"
ms.custom: 
ms.date: 11/15/2017
ms.reviewer: 
ms.suite: sql
ms.prod: machine-learning-services
ms.prod_service: machine-learning-services
ms.component: r
ms.technology: 
ms.tgt_pltfrm: 
ms.topic: article
keywords:
- "установка служб R SQL Server"
- "Установка служб SQL Server машины обучения"
- "Установка служб R Services"
- "установить SQL машинного обучения"
ms.assetid: 4d773c74-c779-4fc2-b1b6-ec4b4990950d
caps.latest.revision: 
author: jeannt
ms.author: jeannt
manager: cgronlund
ms.workload: Active
ms.openlocfilehash: 4d18a45b40c7f80ae2b46514f6c8245b80f6b142
ms.sourcegitcommit: 99102cdc867a7bdc0ff45e8b9ee72d0daade1fd3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/11/2018
---
# <a name="set-up-sql-server-machine-learning-services-in-database"></a>Настройка службы обучения машины SQL Server (в базе данных)
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

В этом разделе описывается установка и настройка следующих машинного обучения компонентами, поддерживающими аналитика в базе данных в SQL Server:

+ **Службы R SQL Server 2016 (в базе данных)**. Если SQL Server 2016, установите этот компонент позволяет выполнение кода R в SQL Server. Требуется компонент database engine.

    [Настройка машинного обучения в SQL Server 2016](#bkmk_2016top)

+ **SQL Server 2017 г машины обучения Services (в базе данных)**. Если у вас есть 2017 г. SQL Server, установите этот параметр, чтобы запустить код R (или Python) в SQL Server. Требуется компонент database engine. 

    [Настройка машинного обучения в SQL Server 2017 г.](#bkmk_2017top)

+ Сервер обучения машины с **не** SQL Server

    [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Программа установки также включает параметр, чтобы установить версию «отдельно» машинного обучения компонентов не требуется компонент database engine, который не работает в SQL Server.  Как правило, рекомендуется установить этот параметр на компьютере, отличном от компьютера, на котором размещается SQL Server.
    
    [Настройка сервера автономного машинного обучения](create-a-standalone-r-server.md).

В этой статье описывается процесс установки, который использует [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] мастера установки. Для установки из командной строки, или для загрузки установщики для использования в автономных серверов см. статьи:

+ [Установка R для SQL Server из командной строки](unattended-installs-of-sql-server-r-services.md)
+ [Установка Python для SQL Server из командной строки](../python/unattended-installs-of-sql-server-python-services.md)
+ [Установить автономный сервер машины обучения из командной строки](install-microsoft-r-server-from-the-command-line.md)
+ [Установить компоненты обучения компьютера на сервере без записей ACE Интернета](installing-ml-components-without-internet-access.md)

**Применяется к:** SQL Server 2016, SQL Server 2017 г.

## <a name="bkmk_prereqs"></a> Предварительная проверка

+ Машины обучения в базе данных требуется SQL Server 2016 или более поздней версии. 

+ Поддерживаемые языки: 

    + SQL Server 2016 поддерживает только R. 

    + R также доступна как функцию предварительного просмотра в базе данных SQL Azure, с некоторыми ограничениями. Дополнительные сведения см. в разделе [с помощью R в базе данных SQL Azure](using-r-in-azure-sql-database.md)

    + Чтобы использовать Python требуется SQL Server 2017 или более поздней версии.

+ Если вы использовали все предыдущие версии среды разработки Revolution Analytics или пакеты RevoScaleR или если вы установили все предварительные версии SQL Server 2016, их необходимо удалить. Установка Side-by-side не поддерживается. Для помощи в удалении предыдущих версий, в разделе [обновление и часто задаваемые вопросы установки служб SQL Server Machine Learning](../r/upgrade-and-installation-faq-sql-server-r-services.md).

+ При установке служб R SQL Server 2016 или службы SQL Server 2017 г машины обучения на контроллере домена. Службы R и обучения машины часть установки завершится ошибкой.

+ Не удается установить машинного обучения компоненты в отказоустойчивом кластере. Механизм обеспечения безопасности, который используется для изоляции процессов внешнего скрипта не совместим с среде отказоустойчивого кластера Windows Server. Чтобы избежать этого выполните одно из следующих действий.
    * Используйте репликацию для копирования необходимые таблицы к экземпляру SQL Server с помощью машинного обучения включена.
    * Установите машинного обучения на отдельном компьютере, который является частью группы доступности AlwaysOn использует.

+ Платформа обучения машины требует дополнительной настройки, после завершения установки. Конкретные меры зависят от того, организации и политик безопасности, конфигурацию сервера и предполагаемым пользователям. Мы рекомендуем просмотреть все шаги и определить дополнительные конфигурации, необходимых в вашей среде.

## <a name="bkmk2016top"></a>Установка служб R SQL Server 2016 (в базе данных)

> [!div class="checklist"]
> * Установка компонента database engine и машинного обучения функции
> * Необходимые действия после установки: включить машинного обучения и перезапустить
> * Дополнительные шаги после установки: Добавление правил брандмауэра, добавить пользователей, изменить или настроить учетные записи служб, Настройка клиента обработки и анализа удаленных данных

**С помощью мастера установки SQL Server 2016**

1. Запустите мастер установки SQL Server.

2. На **установки** выберите **автономная установка нового SQL Server или добавление компонентов к существующей установке**.

    
     ![Установка служб R (в базе данных)](media/2016-setup-installation-rsvcs.png "запуск установки компонента database engine со службами R Services")
   
3. На **Выбор компонентов** выберите следующие параметры:

   - Выберите **службы компонента Database Engine**. Компонент database engine требуется в каждом экземпляре, с применением машинного обучения.
   - Выберите **служб R (в базе данных)**. Устанавливает поддержку для использования в базе данных R.
    
     ![Выбор компонентов служб R](media/2016setup-rsvcs-features.png "выберите эти компоненты для R службы в базе данных")

    > [!IMPORTANT]
    > Не устанавливайте R Server и служб R в то же время. Обычно следует установить R Server (изолированный), чтобы создать среду, специалист по анализу данных или разработчик использует для подключения к SQL Server и развертывать решения R. Поэтому вы можете установить только R Server.

4.  На **согласия для установки Microsoft R Open** щелкните **Accept**.
  
    Это лицензионное соглашение, необходимое для загрузки, Microsoft R Open, включая распространения базовых пакетов R с открытым исходным и средств, а также улучшенные пакеты R и поставщиков услуг подключения от команды разработчиков Microsoft R.
  
    Если компьютер, который вы используете не имеет доступа к Интернету, можно приостановить программу установки на этом этапе для установщики скачать отдельно, как описано в [компоненты установки R без доступа к Интернету](installing-ml-components-without-internet-access.md).
  
5. После принятия лицензионного соглашения имеется небольшой паузы, во время подготовки установщик. Нажмите кнопку **Далее** при кнопка стала доступной.

6. На **все готово для установки** убедитесь, что включены следующие элементы, а затем выберите **установить**.

   + Службы ядра СУБД
   + Службы R (в базе данных)

7. После завершения установки перезагрузите компьютер.


## <a name="bkmk2017top"></a>Установка служб SQL Server 2017 г машинного обучения (в базе данных)

> [!div class="checklist"]
> * Установка компонента database engine и машинного обучения функции
> * Необходимые действия после установки: включить машинного обучения и перезапустить
> * Дополнительные шаги после установки: Добавление правил брандмауэра, добавить пользователей, изменить или настроить учетные записи служб, Настройка клиента обработки и анализа удаленных данных.

**Начало работы**

1. Запустите программу установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .
  
2. На **установки** выберите **автономная установка нового SQL Server или добавление компонентов к существующей установке**.

     ![Установка службы обучения машины (в базе данных)](media/2017setup-installation-page-mlsvcs.png "запуск установки компонента database engine с компьютера службы обучения")

3. На **Выбор компонентов** выберите следующие параметры:
   
    + Выберите **службы компонента Database Engine**. Компонент database engine требуется в каждом экземпляре, с применением машинного обучения.

    + Выберите **машинного обучения службы (в базе данных)**. Этот параметр устанавливает поддержку для использования в базе данных R. После выбора этого параметра можно выбрать машинного обучения языка. Можно выбрать только R, или можно добавить R и Python.
   
    ![Выбор компонентов службы обучения машины](media/2017setup-features-page-mls-rpy.png "выберите эти компоненты для R службы в базе данных")

    Если параметры языка Python или R не выбран, мастер установки установит только структуре расширяемости, включающий запуска доверенные SQL Server и не устанавливает какие-либо компоненты конкретного языка.  Обычно рекомендуется начинать с установить хотя бы один язык. Однако могут использовать этот параметр, если планируется сразу же использовать процесс привязки для обновления машинного обучения компонентов. Дополнительные сведения см. в разделе [SqlBindR используется, чтобы обновить экземпляр служб R](use-sqlbindr-exe-to-upgrade-an-instance-of-sql-server.md).

    Мы рекомендуем вам **не** установить автономных, так и в базе данных на том же компьютере и никогда не устанавливать их в то же время. Вы обычно устанавливаются машины обучения Server (изолированный), чтобы создать среду, специалист по анализу данных или разработчик использует для подключения к SQL Server при развертывании решения. Поэтому вы можете установить только R Server.

4.  Лицензионные соглашения для машинного обучения: в зависимости от того, какие языки, установке, необходимо принять лицензионного соглашения для R или Python.

    + Условия лицензионного соглашения для R: лицензионным соглашением охватывает Microsoft R Open, включая распространения базовых пакетов R с открытым исходным и средств, а также улучшенные пакеты R и поставщиков услуг подключения от команды разработчиков Microsoft.
  
    + Условия лицензионного соглашения для Python. Соглашение о лицензировании открытым исходным кодом Python, а также описание Anaconda и связанные средства, а также некоторые новые библиотеки Python от команды разработчиков Microsoft.

    Нажмите кнопку **Accept** чтобы подтвердить свое согласие. Имеется небольшой паузы, хотя компоненты подготовлены, а затем **Далее** становится доступной кнопка.

    Если компьютер, который вы используете не имеет доступа к Интернету, можно приостановить программу установки на этом этапе для установщики скачать отдельно, как описано здесь: [установить компоненты обучения компьютер без доступа к Интернету](installing-ml-components-without-internet-access.md).

6. На **все готово для установки** убедитесь, что включены следующие элементы, а затем выберите **установить**.

   - Службы ядра СУБД
   - Службы машинного обучения (в базе данных)
   - R Python и/или

7. По завершении установки Запомните расположение журнала установки и перезагрузите компьютер.

###  <a name="bkmk_enableFeature"></a>Обязательный шаг после установки

По соображениям безопасности функция обучения машины не включена по умолчанию даже если компонент был установлен. Администратор сервера должен включить функцию и перезапустите экземпляр. 

В этом разделе описывается перенастройка экземпляра для машинного обучения. Конфигурация настраивает учетные записи внешних служб и запускает службу запуска.

1. Откройте среду [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]. Если она еще не установлена, вы можете повторно запустить мастер установки SQL Server, чтобы скачать ее по ссылке и установить.
  
2. Подключитесь к экземпляру, где установлен машинного обучения, а затем выполните следующую команду:

   ```SQL
   sp_configure
   ```

    Искать значение **внешних скриптов, которые включены** свойство, которое должно быть **0**. Это, так как функция отключена по умолчанию, чтобы уменьшить контактную зону.
     
3. Чтобы включить внешние средства написания сценариев, выполните следующую инструкцию:
  
    ```SQL
    EXEC sp_configure  'external scripts enabled', 1
    RECONFIGURE WITH OVERRIDE
    ```
  
4. Перезапустите службу SQL Server для экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Перезапуск службы SQL Server автоматически перезапускает связанный [!INCLUDE[rsql_launchpad](../../includes/rsql-launchpad-md.md)] службы.

    Службу можно перезапустить с помощью **служб** панели на панели управления или с помощью диспетчера конфигурации SQL Server.

5. Чтобы убедиться, что включена служба выполнения внешнего сценария, в SQL Server Management Studio откройте новое **запроса** окна, а затем выполните следующую команду:
  
    ```SQL
    EXEC sp_configure  'external scripts enabled'
    ```
    Задайте для **run_value** значение 1.
    
6. Откройте **служб** панели и убедитесь в работоспособности службы панели запуска для конкретного экземпляра. Если вы установили несколько экземпляров, у каждого из них должна быть своя служба панели запуска.

7. Рекомендуется выполнить простой сценарий, чтобы убедиться, что внешних сред выполнения сценариев может обмениваться данными с SQL Server. 

    Откройте новый **запроса** окна в [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], а затем запустите скрипт примерно следующего вида:
    
    + Для R
    
    ```SQL
    EXEC sp_execute_external_script  @language =N'R',
    @script=N'
    OutputDataSet <- InputDataSet;
    ',
    @input_data_1 =N'SELECT 1 AS hello'
    WITH RESULT SETS (([hello] int not null));
    GO
    ```

    + Для Python
    
    ```SQL
    EXEC sp_execute_external_script  @language =N'Python',
    @script=N'
    OutputDataSet = InputDataSet;
    ',
    @input_data_1 =N'SELECT 1 AS hello'
    WITH RESULT SETS (([hello] int not null));
    GO
    ```

    Скрипт может занять несколько, для запуска в первый раз загружается среда выполнения внешнего сценария. Результаты должны выглядеть следующим образом:

    | hello |
    |----|
    | 1|


8. Если возникли ошибки, перейдите к разделу, описывающий необязательно, другие изменения, которые может потребоваться внести после завершения установки или см. в руководстве по устранению неполадок:

    + [Дополнительные шаги после установки: Настройка службы и разрешений](#bkmk_FollowUp) 
    + [Устранение неполадок машинного обучения в SQL Server](upgrade-and-installation-faq-sql-server-r-services.md)

## <a name="bkmk_FollowUp"></a>Дополнительные шаги после установки

В зависимости от вашей вариант использования для машинного обучения может потребоваться внести дополнительные изменения на сервере, брандмауэр, учетные записи, используемые службой, или разрешения базы данных. Необходимые изменения различаются в зависимости от варианта.

Наиболее распространенные сценарии, которые требуют дополнительных изменений:

* Изменение правила брандмауэра, чтобы разрешить входящие подключения к SQL Server.
* Включение дополнительных сетевых протоколов.
* Проверка того, что сервер поддерживает удаленные соединения.
* Включение *неявной проверки подлинности*, если пользователям доступ к данным SQL Server из клиента обработки и анализа данных удаленного и выполнения кода с помощью пакета RODBC или другой поставщик ODBC.
* Предоставление пользователям доступа к отдельным базам данных.
* Исправление проблемы безопасности, препятствующие связь со службой запуска.
* Убедившись, что пользователи имеют разрешение на выполнение кода или установки пакетов.

> [!NOTE]
> Не все перечисленные изменения могут быть необходимы. Однако рекомендуется просмотреть все элементы, чтобы увидеть, является ли они применимы к вашему сценарию.

Дополнительные советы по устранению неполадок можно найти здесь: [часто задаваемые вопросы по обновлению и установке](../r/upgrade-and-installation-faq-sql-server-r-services.md)

### <a name="bkmk_configureAccounts"></a>Включить неявной проверки подлинности для учетной записи группы панель запуска

Во время установки, некоторые учетные записи пользователей Windows создаются для выполнения задачи, связанные с маркером безопасности [!INCLUDE[rsql_launchpad_md](../../includes/rsql-launchpad-md.md)] службы. Когда пользователь отправляет сценарий R из внешнего клиента, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] активирует учетной записи свободных рабочих, сопоставляется удостоверения вызывающего пользователя и запускает скрипт R от имени пользователя. Эта новая служба компонента database engine поддерживает безопасное выполнение внешних скриптов, вызывается *неявной проверки подлинности*.

Можно просмотреть эти учетные записи в группу пользователей Windows **SQLRUserGroup**. По умолчанию создаются 20 рабочих учетных записей, которое обычно является более чем достаточно для выполнения R заданий.

Тем не менее, если требуется выполнять сценарии R из клиента обработки и анализа удаленных данных и используется проверка подлинности Windows, необходимо предоставить эти учетные записи работника разрешено выполнять вход систему [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] экземпляр от вашего имени.

1. В среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]в обозревателе объектов разверните узел **Безопасность**, щелкните правой кнопкой мыши **Имена входа**и выберите пункт **Создать имя входа**.
2. В **Создание имени входа** выберите **поиска**.
3. Выберите **типы объектов** и **группы** флажки и снимите все флажки.
4. Нажмите кнопку **Дополнительно**, убедитесь, что расположение для поиска текущего компьютера и нажмите кнопку **найти**.
5. В списке учетных записей групп на сервере, пока не найдете начинающееся `SQLRUserGroup`.
    
    + Имя группы, связанной со службой запуска для _экземпляр по умолчанию_ всегда является просто **SQLRUserGroup**. Выберите эту учетную запись только для экземпляра по умолчанию.
    + Если вы используете _именованный экземпляр_, добавляется имя по умолчанию имя экземпляра `SQLRUserGroup`. Таким образом, если экземпляр имеет имя «MLTEST», имя группы пользователей по умолчанию для этого экземпляра будет **SQLRUserGroupMLTest**.
5. Нажмите кнопку **ОК** закрыть диалоговое окно расширенного поиска и убедитесь, что выделен ли учетная запись для экземпляра. Каждый экземпляр можно использовать только собственные службы для запуска и группа, созданная для этой службы.
6. Нажмите кнопку **ОК** еще раз, чтобы закрыть **Выбор пользователя или группы** диалоговое окно.
7. В **Создание имени входа** диалоговое окно, нажмите кнопку **ОК**. По умолчанию имя входа назначается **общедоступной** роли и имеет разрешение на подключение к ядру СУБД.

### <a name="bkmk_AllowLogon"></a>Предоставить пользователям разрешение на выполнение внешних скриптов

> [!NOTE]
> Если используется имя входа SQL для выполнения скриптов R в контексте вычислений SQL Server, этот шаг не требуется.

Если вы установили [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в экземпляре, обычно выполняются сценарии с правами администратора, или по крайней мере владелец базы данных, и поэтому имеют неявные разрешения для выполнения различных операций, все данные в базе данных, а также возможность установить новые пакеты При необходимости.

Однако в сценарии предприятия, большинство пользователей, включая пользователей, доступ к базе данных с помощью имен входа SQL, имеют такие разрешения более высокого уровня. Таким образом для каждого пользователя, будут выполняться скрипты R или Python, необходимо предоставить разрешения пользователя для запуска скриптов в каждой базе данных, где будет использоваться внешних скриптов.

```SQL
USE <database_name>
GO
GRANT EXECUTE ANY EXTERNAL SCRIPT  TO [UserName]
```

> [!TIP]
> Нужно помочь в установке? Сомневаетесь, выполнили ли вы все действия? Эти пользовательские отчеты можно используйте для проверки состояния установки и выполнить дополнительные действия. 
> 
> [Отслеживать пользовательские отчеты с помощью службы обучения машины](monitor-r-services-using-custom-reports-in-management-studio.md).

### <a name="ensure-that-the-sql-server-computer-supports-remote-connections"></a>Убедитесь, что имя компьютера SQL Server поддерживает удаленные подключения

Если вы не можете подключиться с удаленного компьютера, проверьте, является ли сервер разрешает удаленные соединения. По умолчанию иногда отключаются удаленные соединения.

Также проверьте, допускает ли межсетевой экран доступ к SQL Server. По умолчанию порт, используемый сервером SQL Server часто заблокирован брандмауэром. Если вы используете брандмауэр Windows, см. раздел [Настройка брандмауэра Windows для доступа к компоненту database engine](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md).

### <a name="give-your-users-read-write-or-ddl-permissions-to-the-database"></a>Предоставьте вашей пользователям чтение, запись или DDL права доступа к базе

Учетная запись пользователя, который используется для запуска R или Python может необходимо считывать данные из других баз данных, создания новых таблиц для хранения результатов и записывать данные в таблицах. Поэтому для каждого пользователя, будут выполняться скрипты R или Python, убедитесь, что у пользователя есть соответствующие разрешения в базе данных: *db_datareader*, *db_datawriter*, или *db_ ddladmin*.

Например, приведенная ниже инструкция [!INCLUDE[tsql](../../includes/tsql-md.md)] предоставляет имени входа SQL *MySQLLogin* права на выполнение запросов T-SQL в базе данных *RSamples* . Для выполнения этой инструкции имя входа SQL уже должно существовать в контексте безопасности сервера.

```SQL
USE RSamples
GO
EXEC sp_addrolemember 'db_datareader', 'MySQLLogin'
```

Дополнительные сведения о разрешениях, которые включены в каждой роли см. в разделе [роли уровня базы данных](../../relational-databases/security/authentication-access/database-level-roles.md).

### <a name="use-machine-learning-in-an-azure-vm"></a>Использовать машинное обучение на виртуальной Машине Azure

Если вы установили службы обучения машины (или служб R) на виртуальной машине Azure, может потребоваться изменить некоторые дополнительные параметры по умолчанию. Дополнительные сведения см. в разделе [Установка SQL Server машинного обучения на виртуальной машине Azure](installing-sql-server-r-services-on-an-azure-virtual-machine.md).

### <a name="create-an-odbc-data-source-for-the-instance-on-your-data-science-client"></a>Создание источника данных ODBC для экземпляра в клиенте обработки и анализа данных

Если создать решение R на клиентском компьютере обработки и анализа данных, необходимо запустить код с помощью имени компьютера SQL Server в контексте можно использовать встроенную проверку подлинности Windows или имени входа SQL.

* Для имен входа SQL: имя входа должно иметь соответствующие разрешения на доступ к базе данных, из которой будут считываться данные. Это можно сделать, добавив *подключиться к* и *ВЫБЕРИТЕ* разрешения, либо путем добавления имени входа *db_datareader* роли. Для имен входа, которые необходимо создать объекты, добавить *DDL_admin* права. Для имен входа, которые необходимо сохранить данные в таблицах, добавьте имя входа для *db_datawriter* роли.

* Для проверки подлинности Windows: может потребоваться настроить источник данных ODBC на клиенте обработки и анализа данных, который указывает имя экземпляра и другие сведения. Дополнительные сведения см. в разделе [администратор источников данных ODBC](https://docs.microsoft.com/sql/odbc/admin/odbc-data-source-administrator).

## <a name="next-steps"></a>Следующие шаги

После проверки того, что функциональные возможности выполнения скриптов работает в SQL Server, можно выполнить команды R и Python, в SQL Server Management Studio, Visual Studio Code или любым другим клиентом, можно отправить инструкции T-SQL на сервере. Прежде чем сделать это, может потребоваться внести некоторые изменения конфигурации системы для поддержки активно используется машинное обучение, или добавить новый R-пакеты.

В этом разделе перечислены некоторые распространенные методы оптимизации обучение действия и для машинного обучения.

### <a name="add-more-worker-accounts"></a>Добавить больше рабочих учетных записей

Если вы считаете, что можно активно использовать R или если ожидается, что несколько пользователей одновременно быть выполнение скриптов, можно увеличить количество рабочих учетных записей, назначенных для службы панели запуска. Дополнительные сведения см. в разделе [изменение пула учетных записей пользователей для служб SQL Server Machine Learning](modify-the-user-account-pool-for-sql-server-r-services.md).

### <a name="bkmk_optimize"></a>Оптимизировать сервер для выполнения внешних скриптов

Параметры по умолчанию для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] установки предназначены для оптимизации баланса сервера для различных служб, поддерживаемые компонентом database engine, которая может включать извлечения, преобразования и загрузки (ETL) процессов, отчетов, аудите, и приложения, использующие [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] данных. Таким образом в конфигурации по умолчанию может оказаться ресурсы для машинного обучения иногда ограничен или регулировать, особенно в операции с интенсивным использованием памяти.

Чтобы обеспечить задач обучения машины приоритеты и соответствующим образом ресурсов, рекомендуется использовать для настройки внешнего пула ресурсов регулятора ресурсов SQL Server. Можно также изменить объем памяти, выделяемый для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] компонент database engine, или увеличьте количество учетных записей, которые работают под [!INCLUDE[rsql_launchpad](../../includes/rsql-launchpad-md.md)] службы.

- Чтобы настроить пул ресурсов для управления внешними ресурсами, см. [создания пула внешних ресурсов](../../t-sql/statements/create-external-resource-pool-transact-sql.md).
  
- Чтобы изменить объем памяти, зарезервированной для базы данных, в разделе [параметры конфигурации памяти сервера](../../database-engine/configure-windows/server-memory-server-configuration-options.md).
  
- Чтобы изменить количество учетных записей R можно запустить, [!INCLUDE[rsql_launchpad](../../includes/rsql-launchpad-md.md)], в разделе [изменение пула учетных записей пользователей для машинного обучения](modify-the-user-account-pool-for-sql-server-r-services.md).

Если в выпуске Standard Edition и не имеют регулятора ресурсов, можно использовать динамические административные представления (DMV) и расширенных событий, а также события Windows, мониторинг, чтобы обеспечить управление ресурсами сервера, используемые R. Дополнительные сведения см. в разделе [мониторинг и управление службами R](managing-and-monitoring-r-solutions.md).

### <a name="install-additional-r-packages"></a>Установка дополнительных R-пакетов

Прежде всего установить любой дополнительных пакетов R, который вы будете использовать.

Пакеты, которыми вы хотите пользоваться из SQL Server, должны быть установлены в библиотеке по умолчанию, используемой экземпляром. Если имеется отдельная Установка служб R на компьютере или установленных пакетов для библиотек пользователей, его нельзя будет использовать эти пакеты из T-SQL.

Процесс установки пакетов и управления ими R отличается в SQL Server 2016 и 2017 г. SQL Server. Например в 2017 г. SQL Server, можно настроить группы пользователей для совместного использования пакетов на уровне каждой базы данных или настроить роли базы данных, чтобы пользователи могли установить собственные пакеты. Дополнительные сведения см. в разделе [пакета управления](r-package-management-for-sql-server-r-services.md).

В SQL Server 2016 администратор базы данных необходимо установить пакеты R, которые нужны пользователю.

Административный доступ, также необходимо установить дополнительные пакеты Python в библиотеке экземпляра.

### <a name="upgrade-the-machine-learning-components"></a>Обновление машинного обучения компонентов

При установке функции обучения компьютера в SQL Server, вы получаете версии компонентов R или Python, которая была последней, при публикации пакета выпуска или службы. Каждый раз, исправление или обновление сервера, компонентов обучения машины будут обновлены также.

Кроме того, можно обновить машинного обучения компонентов по расписанию быстрее, чем поддерживается только в версиях SQL Server, с помощью процесса, известного как _привязки_. При привязке к экземпляру SQL Server, можно как обновить версии R или Python и изменить политики разные службы поддержки, которая поддерживает более частого обновления. 

Такие обновления могут включать:

* Новые пакеты R
+ Новые API для Microsoft, такие как пакеты [MicrosoftML](https://docs.microsoft.com/r-server/r-reference/microsoftml/microsoftml-package).
* [Обученная моделей](https://docs.microsoft.com/r-server/install/microsoftml-install-pretrained-models) для классификации и текст анализ образов.

Сведения о том, как обновить экземпляр SQL Server см. в разделе [обновление компонентов обучения машины через привязку](use-sqlbindr-exe-to-upgrade-an-instance-of-sql-server.md).


### <a name="tutorials"></a>Учебники

Чтобы приступить к работе с несколько простых примеров и основные сведения о работе с SQL Server R, в разделе [кода R с помощью языка Transact-SQL](../tutorials/rtsql-using-r-code-in-transact-sql-quickstart.md).

Чтобы просмотреть примеры машинного обучения, основанные на реальных сценариев, в разделе [машинного обучения учебники](../tutorials/machine-learning-services-tutorials.md).

### <a name="troubleshooting"></a>Устранение неполадок

Возникли проблемы? При попытке обновления? Ответы на часто задаваемые вопросы и известные проблемы см. в следующей статье:

* [Обновление и установка часто задаваемые вопросы — Machine Services обучения](upgrade-and-installation-faq-sql-server-r-services.md)

Чтобы проверить состояние установки экземпляра и устранить распространенные проблемы, попробуйте следующие пользовательские отчеты.

* [Пользовательские отчеты для служб SQL Server R](\r\monitor-r-services-using-custom-reports-in-management-studio.md)
