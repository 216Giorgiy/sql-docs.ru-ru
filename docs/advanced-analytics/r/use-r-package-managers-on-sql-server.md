---
title: Установить новые пакеты R на машины обучения SQL Server Services | Документы Microsoft
description: Добавить новый R-пакеты служб SQL Server 2016 R или обучения машины службы (в базе данных) для SQL Server 2017 г.
ms.prod: sql
ms.technology: machine-learning
ms.date: 05/29/2018
ms.topic: conceptual
author: HeidiSteen
ms.author: heidist
manager: cgronlun
ms.openlocfilehash: 8f7b0ee2b623f6a208a92823948bf0295bae33f6
ms.sourcegitcommit: 2d93cd115f52bf3eff3069f28ea866232b4f9f9e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/01/2018
ms.locfileid: "34707502"
---
# <a name="use-r-package-managers-to-install-r-packages-on-sql-server"></a>Для установки пакетов R на сервере SQL Server использовать диспетчеров пакетов R
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

Стандартные средства R можно использовать, чтобы установить новые пакеты на экземпляре SQL Server 2016 или SQL Server 2017 г., предоставляя компьютер имеет открытый порт 80 и иметь права администратора.

> [!IMPORTANT] 
> Не забудьте установить пакеты из библиотеки по умолчанию, связанный с текущим экземпляром. Никогда не устанавливать пакеты в каталоге пользователя.

В этой процедуре используется RGui, но можно использовать RTerm или любые другие командной строки средства R, поддерживающий доступ с повышенными привилегиями.

## <a name="install-a-package-using-rgui"></a>Установка пакета с помощью RGui

1. [Определить расположение библиотеки экземпляр](installing-and-managing-r-packages.md). Перейдите к папке, где установлены средства R. Например путь по умолчанию для экземпляра SQL Server 2017 г. по умолчанию выглядит следующим образом: `C:\Program Files\MSSQL14.MSSQLSERVER\R_SERVICES\bin\x64`

1. Щелкните правой кнопкой мыши RGui.exe и выберите **Запуск от имени администратора**. Если у вас необходимые разрешения, обратитесь к администратору базы данных и укажите список нужных пакетов.

1. Из командной строки, если известно имя пакета, можно ввести: `install.packages("the_package-name")` двойные кавычки необходимы для имени пакета.

1. Если указать зеркальный сайт, выберите любой сайт, удобный для вашего расположения.

Если целевой пакет зависит от дополнительных пакетов, установщик R автоматически загружаются зависимости и установит их.

При наличии нескольких экземпляров SQL Server, например side-by-side экземпляров служб R SQL Server 2016 и службы SQL Server 2017 г машины обучения, запустите установку отдельно для каждого экземпляра, если вы хотите использовать пакет в контекстах. Пакеты не могут использоваться совместно экземпляров.

## <a name = "bkmk_offlineInstall"></a> Автономной установки с помощью средств r.

Если сервер не имеет доступа к Интернету, чтобы подготовить пакеты необходимы дополнительные действия. Чтобы установить пакеты R на сервере, который не имеет доступа к Интернету, необходимо выполнить следующее:

+ Заранее анализа зависимостей.
+ Загрузите целевой пакет на компьютере с доступом в Интернет.
+ Загрузите необходимые пакеты на одном компьютере и во всех пакетов в архиве одного пакета.
+ Если она отсутствует в сжатый формат ZIP-архиве.
+ Скопируйте пакет архив расположение на сервере.
+ Установите пакет цели, указав файл архива в качестве источника.

> [!IMPORTANT] 
>  Убедитесь, что все зависимости проанализировать и загрузить **все** необходимые пакеты **перед** начала установки. Мы рекомендуем [miniCRAN](https://mran.microsoft.com/package/miniCRAN) для этого процесса. Этот пакет R принимает список пакетов, необходимо установить, анализирует зависимости и получает ZIP-файл. затем miniCRAN создает одного репозитория, можно скопировать на сервер. Дополнительные сведения см. в разделе [Создать репозиторий локального пакета с помощью miniCRAN](create-a-local-package-repository-using-minicran.md)

Эта процедура предполагает, что вы подготовили пакетов, необходимых, сжатый формат и все готово для их копирования на сервере.

1. Копировать пакет ZIP-файл, или для нескольких пакетов завершения репозиторий, содержащий все пакеты в ZIP-формате, в расположении, доступном для сервера.

2. Откройте папку на сервере, где установлены средства R для экземпляра. Например, если вы используете командную строку Windows на компьютере со службами R SQL Server 2016, переключитесь в `C:\Program Files\MSSQL13.MSSQLSERVER\R_SERVICES\bin\x64`.

3. Щелкните правой кнопкой мыши на RGui или RTerm и выбрать **Запуск от имени администратора**.

4. Выполните команду R `install.packages` и укажите пакет или имя репозитория и расположение ZIP-файл.

    ```R
    install.packages("C:\\Temp\\Downloaded packages\\mynewpackage.zip", repos=NULL)
    ```

    Эта команда извлекает R-пакет `mynewpackage` из своего локального ZIP-файла, при условии, что копия сохранена в каталоге `C:\Temp\Downloaded packages`и устанавливает пакет на локальном компьютере. Если пакет имеет зависимости, программа установки проверяет наличие существующих пакетов в библиотеке. При создании репозитории, которая включает в себя зависимости, то установщик устанавливает также необходимые пакеты.

    Если необходимые пакеты не присутствуют в библиотеке экземпляра, а не удается найти в ZIP-файл, происходит сбой установки целевого пакета.

## <a name="see-also"></a>См. также

+ [Установка новых пакетов R](install-additional-r-packages-on-sql-server.md)
+ [Установка новых пакетов Python](../python/install-additional-python-packages-on-sql-server.md)
+ [Руководства, примеры, решения](../tutorials/machine-learning-services-tutorials.md)