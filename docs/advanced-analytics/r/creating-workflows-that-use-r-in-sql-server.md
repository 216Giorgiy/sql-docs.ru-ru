---
title: Создание бизнес-аналитики (BI) процессов с помощью R - служб машинного обучения SQL Server
description: Сценарии интеграции объединения бизнес-аналитики (BI) и язык R поддерживает в SQL Server и SQL Server Integration Services (SSIS).
ms.prod: sql
ms.technology: machine-learning
ms.date: 04/15/2018
ms.topic: conceptual
author: HeidiSteen
ms.author: heidist
manager: cgronlun
ms.openlocfilehash: 32dfb3317cb790c19289ab02362bf8ee765e5259
ms.sourcegitcommit: 85bfaa5bac737253a6740f1f402be87788d691ef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/15/2018
ms.locfileid: "53432737"
---
# <a name="creating-bi-workflows-with-r"></a>Создание рабочих процессов в бизнес-Аналитики с помощью R
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md-winonly](../../includes/appliesto-ss-xxxx-xxxx-xxx-md-winonly.md)]

Реляционная база данных является высокооптимизированной технологией разработки масштабируемых решений для обработки транзакций, хранения и опроса данных.

Напротив традиционно решения R обычно используют Импорт данных из различных источников, часто в формате CSV, чтобы выполнить дальнейшие исследование и моделирование данных. Этот метод не только неэффективен, но и небезопасен.

В этой статье описаны сценарии интеграции для R с SQL Server, избежать общие проблемы и риски безопасности, которые могут возникнуть, если решения машинного обучения, разработанных вне базы данных.

Здесь также описываются примеры того, как приложений бизнес-аналитики, в частности, службы Integration Services и службы Reporting Services, может взаимодействовать с кодом R и использования данных или графики, созданные R.

Применимо для следующих объектов: Службы R SQL Server 2016, SQL Server 2017 службы машинного обучения

## <a name="bring-compute-power-to-the-data"></a>Вдохните вычислительными ресурсами данных

Получите аналитику рядом с данными было целью проектирования ключа интеграции машинного обучения с SQL Server. Это дает несколько преимуществ:

+ Защита данных. Перевод R ближе к источнику данных позволяет избежать затратного или небезопасного перемещения.

+ Скорость. Базы данных оптимизированы для операций на основе наборов. Последние нововведения в базах данных, таких как таблицы в памяти сводок и существенно ускоряют агрегирование и являются идеальным дополнением для обработки и анализа данных.

+ Простота развертывания и интеграции. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] является отправной точкой операций для многих других задач управления данных и приложений. Используя данные, хранящиеся в базе данных или хранилище отчетов, убедитесь, что данные, используемые решения машинного обучения, согласованность и обновление. 

+ Эффективность в облачной и локальной. Вместо обработки данных на языке R можно использовать конвейеры корпоративных данных, в том числе [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] и фабрику данных Azure. Отчеты о результатах или анализы можно с легкостью получать с помощью Power BI или [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].

Используя правильное сочетание SQL и R для разнообразных задач по обработке и анализу данных, исследователи данных и разработчики систем могут повысить эффективность работы.

## <a name="use-integration-services-for-data-transformation-and-automation"></a>Использование служб Integration Services для данных, преобразования и автоматизация

Рабочие процессы для обработки и анализа данных имеют высокий уровень цикличности и содержат множество преобразований данных, в том числе масштабирование, агрегирование, вычисление вероятностей, переименование и слияние атрибутов. Исследователи данных могут выполнять такие задачи с использованием R, Python или других языков, но применение таких процессов к корпоративным данным требует беспроблемной интеграции со средствами и процессами извлечения, преобразования и загрузки данных.

Так как [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] позволяет выполнять сложные операции в R через Transact-SQL и хранимые процедуры, вы можете интегрировать процессы, включающие R, в уже имеющиеся процессы извлечения, преобразования и загрузки. Для этого не потребуются существенные изменения в системе. Вместо выполнения цепочки задач, интенсивно использующих память в R, подготовку данных можно оптимизировать с помощью наиболее эффективных средств, включая [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] и [!INCLUDE[tsql](../../includes/tsql-md.md)]. 

Далее приведено несколько идей для как можно автоматизировать обработку данных, а также моделирования конвейерах с помощью [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]:

+ Используйте [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] задач для создания функции необходимые данные в базе данных SQL
+ использование условного ветвления, чтобы переключать контекст вычислений для задач с применением R;
+ Выполнение заданий R, которые создают свои собственные данные в базе данных и совместное использование данных с приложениями
+ При использовании [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], загрузить R-сценария, сохраненного в текстовой переменной, и запустите его в SQL Server

### <a name="examples"></a>Примеры

[Ввод в эксплуатацию проекта машинного обучения с помощью SQL Server 2016 SSIS и служб R](https://blogs.msdn.microsoft.com/ssis/2016/01/11/operationalize-your-machine-learning-project-using-sql-server-2016-ssis-and-r-services/)  

В этой записи блога демонстрирует основные способы работы с R с помощью кода [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]: 

+ Вызове кода R, используя задачу «Выполнение SQL», для создания данных и сохранить его в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]

+ использование хранимой процедуры для обучения модели R и ее сохранения в базе данных;

+ выполнение оценки модели с помощью задач "Скрипт" и "Выполнение SQL".

##  <a name="bkmk_ssrs"></a> Использовать службы Reporting Services для визуализации

С помощью языка R можно создавать диаграммы и интересные визуализации, но он недостаточно хорошо интегрирован с внешними источниками данных. Это означает, что каждую диаграмму и график следует создавать отдельно. Совместное использование данных также может быть затруднено.

С помощью [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] вы можете выполнять сложные операции в R через хранимые процедуры [!INCLUDE[tsql](../../includes/tsql-md.md)], которые легко можно использовать во множестве средств создания отчетов, включая [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и Power BI.

+ Визуализация графических объектов, возвращаемых сценарием R, с помощью [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]
+ Использование таблицы в Power BI

### <a name="examples"></a>Примеры

[R Graphics Device for Microsoft Reporting Services (SSRS)](https://rgraphicsdevice.codeplex.com/) (Графическое устройство R для служб Microsoft Reporting Services (SSRS))

Проект CodePlex предоставляет код для создания пользовательского элемента отчета, выполняющего визуализацию графических выходных данных R в виде изображения, которое можно использовать в отчетах [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].  С помощью пользовательского элемента отчета можно:

+ опубликовать диаграммы и графики, созданные с помощью графического устройства R, на панелях мониторинга [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)];

+ передать параметры [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] графикам R.

> [!NOTE]
> В этом примере код, который поддерживает графическое устройство R для служб Reporting Services должны быть установлены на сервере служб Reporting Services, а также в Visual Studio. Кроме того, требуется компиляция и настройка вручную.
