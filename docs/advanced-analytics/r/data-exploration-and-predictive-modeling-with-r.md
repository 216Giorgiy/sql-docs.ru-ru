---
title: "Изучение данных и прогнозное моделирование с помощью R | Документация Майкрософт"
ms.custom: SQL2016_New_Updated
ms.date: 04/18/2017
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology: r-services
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: bf6de7e2-f394-4b8a-a4b7-0b8dadf25426
caps.latest.revision: "20"
author: jeannt
ms.author: jeannt
manager: jhubbard
ms.workload: Inactive
ms.openlocfilehash: 79f82cbf4cba40a4c4fd2b2683ce3c16913ef315
ms.sourcegitcommit: 9678eba3c2d3100cef408c69bcfe76df49803d63
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2017
---
# <a name="data-exploration-and-predictive-modeling-with-r"></a>Изучение данных и прогнозное моделирование с помощью R

В этом разделе описаны усовершенствования процесса обработки и анализа данных, которые возможны при интеграции с SQL Server.

Применяется к: SQL Server 2016 R Services, службы SQL Server 2017 г машины Learnign

## <a name="the-data-science-process"></a>Процесс обработки и анализа данных

Специалисты по анализу данных часто используют R для изучения данных и построения прогнозных моделей. Обычно это итеративный процесс проб и ошибок, повторяющихся до получения хорошей прогнозной модели. Как опытный специалист, вы можете подключиться к базе данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , передать данные на локальную рабочую станцию с помощью пакета RODBC, изучить их и создать прогнозную модель с использованием стандартных пакетов R.

Однако такой подход имеет множество недостатков, для которых имеется ухудшить широкого внедрения R на предприятии. 

+ Перемещение данных может быть медленным, неэффективным или небезопасным
+ Сам язык R имеет ограничения по производительности и масштабируемости

Эти недостатки становятся более очевидными, когда требуется переместить и проанализировать большие объемы данных или использовать наборы данных, которые не помещаются в доступную на компьютере память.

Новый, масштабируемых пакетов и функций R, входящий в состав [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] помогают устранить многие из этих проблем. 

## <a name="whats-different-about-revoscaler"></a>Что такое отличия в RevoScaleR?

Пакет **RevoScaleR** содержит реализации для некоторых наиболее популярных функций R, переработанных для обеспечения параллелизма и масштабирования. Дополнительные сведения см. в разделе [распределенных вычислений с помощью RevoScaleR](https://msdn.microsoft.com/microsoft-r/scaler-distributed-computing).

Кроме того, пакет RevoScaleR обеспечивает поддержку для изменения *контекста выполнения*. Это означает, что как для всего решения, так и для отдельной функции можно указать, что вычисления должны выполняться с использованием ресурсов того компьютера, где размещен экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , а не локальной рабочей станции. У такого подхода есть несколько преимуществ: предотвращение ненужного перемещения данных и больший объем вычислительных ресурсов на сервере.

## <a name="r-environment-and-packages"></a>Пакеты и среда R

Поддерживаемая в [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] среда R состоит из среды выполнения, языка с открытым исходным кодом и графического модуля, который поддерживают и расширяют несколько пакетов. Язык позволяет использовать множество расширений, реализуемых с помощью пакетов.  

### <a name="using-other-r-packages"></a>С использованием других пакетов r.

Помимо собственных библиотек R, входящий в состав машинного обучения Microsoft, можно использовать практически любой пакеты R в вашем решении, включая:

+ Пакеты R общего назначения из открытых репозиториев. Можно получить популярные пакеты R с открытым исходным кодом из открытых репозиториев, таких как CRAN, где хранится более 6000 пакетов.
  
  Для платформы Windows пакеты R предоставляются в виде ZIP-файлов, которые можно скачать и установить по лицензии GPL.  
  
  Дополнительные сведения об установке пакетов сторонних разработчиков для использования с [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)] см. в статье [Установка дополнительных пакетов R на SQL Server](../../advanced-analytics/r/install-additional-r-packages-on-sql-server.md).  
  
+ Дополнительные пакеты и библиотеки, предоставляемые [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)].   
  
     Пакет **RevoScaleR** включает в себя средства для высокопроизводительного анализа больших данных, улучшенные версии функций, поддерживающие распространенные задачи обработки и анализа данных, оптимизированные ученики для упрощенного алгоритма Байеса, линейной регрессии, моделей временных рядов и нейронных сетей, а также расширенные математические библиотеки.  
  
     Пакет **RevoPemaR** позволяет разрабатывать в R собственные параллельные алгоритмы внешней памяти.  
  
     Дополнительные сведения об этих пакетах и их использовании см. в разделе [возможности RevoScaleR](https://msdn.microsoft.com/microsoft-r/scaler-user-guide-introduction) и [Приступая к работе с RevoPemaR](https://msdn.microsoft.com/microsoft-r/pemar-getting-started). 

+ **MicrosoftML** с набором алгоритмов оптимизированную машинного обучения и преобразования данных из команды обработки и анализа данных Microsoft. Многие алгоритмы, также используются в машинном обучении Azure. Дополнительные сведения см. в разделе [с помощью пакета MicrosoftML](../../advanced-analytics/using-the-microsoftml-package.md).

### <a name="r-development-tools"></a>Средства разработки R

При разработке решения R, необходимо загрузить клиент Microsoft R. Это бесплатно загрузить включает библиотеки, необходимые для поддержки контекстах удаленных вычислений и масштабируемых alorithms:

+ **[!INCLUDE[rsql_rro-noversion](../../includes/rsql-rro-noversion-md.md)].** Распространение среды выполнения R и набор пакетов, таких как библиотека математического ядра Intel, для повышения производительности стандартных операций R.  
  
+ **RevoScaleR.** Пакет R, позволяющий принудительно отправлять вычисления в экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. [!INCLUDE[rsql_rre-noversion](../../includes/rsql-rre-noversion-md.md)]. содержит набор общих функций R, переработанных в целях повышения производительности и масштабируемости. Такие усовершенствованные функции имеют префикс **rx** . Он также включает поставщиков расширенных данных для различных источников. Эти функции начинаются с префикса **Rx**.

Можно использовать любой редактор кода на основе Windows, поддерживающий R, такие как [!INCLUDE[rsql_rtvs](../../includes/rsql-rtvs-md.md)] или RStudio. Кроме того, скачиваемые файлы [!INCLUDE[rsql_rro-noversion](../../includes/rsql-rro-noversion-md.md)] включают общие программы командной строки для R, например RGui.exe.

## <a name="use-new-data-sources-and-compute-contexts"></a>Используйте новые источники данных и контекстов вычислений

При использовании пакета RevoScaleR для подключения к [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], искать эти функции для использования в коде R:

+ **RxSqlServerData** из пакета RevoScaleR обеспечивает улучшенное подключение к данным для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].
  
     Используйте ее в коде R для определения *источника данных*. Объект источника данных указывает сервер и таблицы, где находятся данные, и управляет чтением и записью данных в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].
  
-   Пакет **RxInSqlServer** можно использовать для указания *контекста вычислений*.  Другими словами, можно указать, где именно следует выполнять код R — на локальной рабочей станции или на компьютере с экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  Дополнительные сведения см. в разделе [функции RevoScaleR](https://msdn.microsoft.com/microsoft-r/scaler/scaler).
  
     При задании контекста вычислений он затрагивает только вычисления, поддерживающие удаленный контекст выполнения. Это включает в себя операции R, предоставляемые пакетом RevoScaleR и связанными функциями. Как правило, решения R, основанные на стандартных пакетах CRAN, невозможно выполнять в удаленном контексте вычислений. Однако их можно выполнять на компьютере [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)], если они запущены с помощью T-SQL. Тем не менее с помощью функции `rxExec` можно вызывать отдельные функции R и выполнять их удаленно в [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)].

Примеры создания и работы с источниками данных и контекстов выполнения см. в этих учебниках:

+ [Глубокое погружение в обработку и анализ данных](../../advanced-analytics/tutorials/deepdive-data-science-deep-dive-using-the-revoscaler-packages.md)  
+  [Анализ данных с помощью Microsoft R](https://msdn.microsoft.com/en-us/microsoft-r/data-analysis-in-microsoft-r)

## <a name="deploy-r-code-to-production"></a>Развертывание кода R в рабочей среде

Важной частью процесса обработки и анализа данных является обмен результатами с другими специалистами или использование прогнозных моделей для улучшения бизнес-показателей или процессов. В [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)]можно легко переместить в рабочую среду готовую модель или скрипт R.

Дополнительные сведения о перемещении кода для выполнения в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]см. в статье [Operationalizing Your R Code](../../advanced-analytics/r/operationalizing-your-r-code.md).

Обычно процесс развертывания начинается с очистки скрипта от ненужного в рабочей среде кода. При движении вычислений ближе к данным, может оказаться способов более эффективно перемещать, обобщения и представлять данные, чем делать все, что в среде R.  Мы рекомендуем обратитесь к анализу данных разработчик баз данных о способах повышения производительности, особенно в том случае, если решение не очистки данных или компонента, проектирование, могут оказаться более эффективными в SQL. Возможно, потребуется изменить процессы извлечения, преобразования и загрузки, чтобы рабочие процессы для создания или оценки модели выполнялись без сбоев, а входные данные имели нужный формат.

## <a name="see-also"></a>См. также:

[Сравнение базовых функций R с функциями ScaleR](https://msdn.microsoft.com/microsoft-r/scaler/compare-base-r-scaler-functions)

[ScaleR Functions for Working with SQL Server Data](../../advanced-analytics/r/scaler-functions-for-working-with-sql-server-data.md) (Функции ScaleR для работы с данными SQL Server)
