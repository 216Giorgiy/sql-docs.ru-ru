---
title: "Управление ресурсами для машинного обучения в SQL Server | Документы Microsoft"
ms.custom: 
ms.date: 11/16/2017
ms.reviewer: 
ms.suite: sql
ms.prod: machine-learning-services
ms.prod_service: machine-learning-services
ms.component: r
ms.technology: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 18c9978a-aa55-42bd-9ab3-8097030888c9
caps.latest.revision: "11"
author: jeannt
ms.author: jeannt
manager: cgronlund
ms.workload: Inactive
ms.openlocfilehash: 9da686f7284de16d93ded4c87ddfe89e17492a57
ms.sourcegitcommit: f486d12078a45c87b0fcf52270b904ca7b0c7fc8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2018
---
# <a name="resource-governance-for-machine-learning-in-sql-server"></a>Управление ресурсами для машинного обучения в SQL Server

В этой статье Обзор ресурсами функции в SQL Server, позволяющих выделять и сбалансировать ресурсы, используемые сценарии R и Python.

**Применяется к:** [!INCLUDE[sscurrent-md](../../includes/sscurrent-md.md)] 
 [!INCLUDE[rsql-productnamenew-md](../../includes/rsql-productnamenew-md.md)] и [!INCLUDE[sssql15-md](../../includes/sssql15-md.md)][!INCLUDE[rsql-productname-md](../../includes/rsql-productname-md.md)]

## <a name="goals-of-resource-governance-for-machine-learning"></a>Цели ресурсами для машинного обучения

Одно известных усложняют с машины обучения языках, таких как Python и R заключается в том, что данные часто перемещается за пределы базы данных на компьютерах, которые не управляются ИТ. Другой, что R является однопоточным, это означает, что можно работать только с данными в памяти. 

Службы SQL Server Machine Learning устраняет обе эти проблемы и помогает соответствовать требованиям предприятия. Отслеживает расширенной аналитики внутри базы данных и поддерживает повышение производительности на больших наборов данных через функции, такие как потоковой передачи и фрагментации операций. Однако перемещение вычислений R и Python внутри базы данных может повлиять на производительность других служб, использующих базу данных, включая обычный пользователь запросов, внешние приложения и базы данных запланированных заданий.

Этот раздел содержит сведения об управлении ресурсы, используемые внешних сред выполнения, например R и Python, чтобы снизить влияние на другие службы ядра базы данных. В среде сервера базы данных обычно является концентратора для нескольких зависимых приложений и служб.

Можно использовать [регулятора ресурсов](../../relational-databases/resource-governor/resource-governor.md) для управления ресурсами, используемые внешних сред выполнения R и Python.  Для машинного обучения, управление ресурсами включает следующие задачи:

+ Определение скриптов, использующих чрезмерное количество ресурсов сервера.
  
     У администратора должна быть возможность прерывать или регулировать задания, потребляющие слишком много ресурсов.
  
+ Сдерживание непредсказуемых рабочих нагрузок.
  
     Например если параллельное выполнение нескольких задач обучения машины на сервере, полученный о конфликтах ресурсов может привести к непредсказуемым производительности или угрожать завершения рабочей нагрузки. Тем не менее если используются пулы ресурсов, задания могут быть изолированы друг от друга.
  
-   Назначение приоритетов рабочим нагрузкам.
  
     Администратор или разработчик должен иметь возможность указать нагрузки, которые необходимо имеют более высокий приоритет или обеспечения некоторых рабочих нагрузок, для выполнения при наличии конфликта ресурсов.

## <a name="how-to-use-resource-governor-to-manage-machine-learning"></a>Использование регулятора ресурсов для управления машинного обучения
 
Управление ресурсы, выделенные для сеансов R или Python, создав *внешнего пула ресурсов*и присваивание пула или пулов рабочих нагрузок. Внешний пул ресурсов — это новый тип пула ресурсов, представленных в [!INCLUDE[sssql15-md](../../includes/sssql15-md.md)] для управления среды выполнения R и других процессов внешних к компоненту database engine.

SQL Server поддерживает три типа пулов ресурсов по умолчанию: 
  
-   *Внутренний пул* представляет ресурсы, используемые непосредственно сервером SQL Server. Их нельзя изменить или ограничить.
  
-   *Пул по умолчанию* — это стандартный пользовательский пул, с помощью которого можно изменить использование ресурсов для сервера в целом. Вы также можете определить группы пользователей для этого пула, чтобы управлять доступом к ресурсам.
  
-   *Внешний пул по умолчанию* — это стандартный пользовательский пул для внешних ресурсов. Кроме того, вы можете создать другие внешние пулы ресурсов и определить для них группы пользователей.
  
 Вы также можете создать *определяемые пользователем пулы ресурсов* для выделения ресурсов ядру СУБД или другим приложениям и *определяемые пользователем внешние пулы ресурсов* для управления средой R и другими внешними процессами.
  
 Терминологию и основные концепции см. в статье о [пуле ресурсов регулятора ресурсов](../../relational-databases/resource-governor/resource-governor-resource-pool.md).

  
## <a name="resource-management-walkthrough-with-resource-governor"></a>Пошаговое руководство управления ресурса с помощью регулятора ресурсов

Если вы не знакомы для регулятора ресурсов, см. в этом разделе для краткое описание того, как изменение ресурсов экземпляра по умолчанию и создание пула внешних ресурсов: [создать пул ресурсов для внешних скриптов](../../advanced-analytics/r/how-to-create-a-resource-pool-for-r.md)
  
 Можно использовать *внешнего пула ресурсов* механизм управления ресурсы, используемые следующие исполняемые файлы, которые используются в машинном обучении:

+ Rterm.exe и вспомогательными процессами;
+ Python.exe и вспомогательных процессов
+ BxlServer.exe и вспомогательными процессами;
+ Вспомогательные процессы, запущенные с панели запуска
  
> [!NOTE]
> 
> Прямое управление службы панели запуска с помощью регулятора ресурсов не поддерживается. Это связано с тем, что [!INCLUDE[rsql_launchpad](../../includes/rsql-launchpad-md.md)] является доверенной службой, для управления которой требуются только доверенные средства, созданные корпорацией Майкрософт. Доверенные средства запуска настроено экономить заряд слишком много ресурсов.
>   
> Мы советуем управлять вспомогательными процессами с помощью регулятора ресурсов и настраивать их в соответствии с требованиями конфигурации отдельной базы данных и рабочей нагрузки.  Например, любой отдельный вспомогательный процесс можно создать или уничтожить по запросу во время выполнения.
  
## <a name="disable-external-script-execution"></a>Отключить выполнение внешних скриптов

В программе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] поддержка внешних скриптов необязательна. Даже после установки машинного обучения функции, возможность выполнения внешних скриптов, по умолчанию отключена, и должен вручную перенастроить свойства и перезапустить экземпляр, чтобы включить выполнение скриптов.

Таким образом, если на проблему ресурсов, необходимо устранить немедленно, или проблема безопасности, администраторы могут немедленно отключить любое выполнение внешнего скрипта с помощью [sp_configure &#40; Transact-SQL &#41; ](../../relational-databases/system-stored-procedures/sp-configure-transact-sql.md) и задав свойство `external scripts enabled` FALSE или 0.
  
## <a name="see-also"></a>См. также раздел

[Управление решениями машинного обучения и их мониторинг](../../advanced-analytics/r/managing-and-monitoring-r-solutions.md)

[Создание пула ресурсов для машинного обучения](../../advanced-analytics/r/how-to-create-a-resource-pool-for-r.md)

[Пулы ресурсов регулятора ресурсов](../../relational-databases/resource-governor/resource-governor-resource-pool.md)
