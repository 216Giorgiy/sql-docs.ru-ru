---
title: "Использование языка R в базе данных Azure SQL | Документы Microsoft"
ms.custom: 
ms.date: 09/29/2017
ms.prod: sql-server-2017
ms.reviewer: 
ms.suite: 
ms.technology:
- r-services
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 0a90c438-d78b-47be-ac05-479de64378b2
caps.latest.revision: 1
author: jeannt
ms.author: jeannt
manager: jhubbard
ms.translationtype: MT
ms.sourcegitcommit: e3c781449a8f7a1b236508cd21b8c00ff175774f
ms.openlocfilehash: 619921bbf00801fd5930a1c1b110e69a9fd05a81
ms.contentlocale: ru-ru
ms.lasthandoff: 09/30/2017

---
# <a name="using-r-in-azure-sql-database"></a>Использование языка R в базе данных Azure SQL

Начиная с октября 2017 г. база данных SQL Azure поддерживает выполнение R код в базе данных с помощью хранимых процедур, аналогично R Services в SQL Server 2016.

В этой статье содержится обзор компонента и описываются известные ограничения.

> [!NOTE]
> Этот выпуск начальной предварительной версии и предназначена для тестирования и только для просмотра. В рабочей версии будет выпущено в 2018 некоторое время. Дата выпуска точное и сборки будет основываться на отзывы пользователей. Поэтому мы рекомендуем вам попробовать функцию и дайте нам знать, какие возможности важны. 
> 
> Сведения о расписании выпуска см. в разделе [в блоге SQL Server](https://blogs.technet.microsoft.com/dataplatforminsider/) или [блог Microsoft R Server](https://blogs.msdn.microsoft.com/rserver/).

## <a name="features"></a>Функции

Предварительная версия предоставляет следующие функциональные возможности:

+ Вызвать с помощью хранимых процедур для более удобного развертывания машинного обучения решений R
+ Получение оценки из модели с помощью любого приложения, можно подключиться к базе данных облака
+ Поддерживает собственный оценки с помощью функция PREDICT, для быстрой оценки без использования среды выполнения R

Ограничения, относящиеся к предварительной версии см. в разделе [ограничения и известные проблемы](#bkmk_restrictions).

### <a name="components"></a>Components

Общая архитектура аналогичен синтаксису служб R машины SQL Server.

**Безопасность**

+ Панель запуска SQL Server доверенные управляет выполнением заданий R и управляет временем существования процессов. 

**R-пакеты**

+ Предварительная версия включает Microsoft R Open 3.3.3 и Microsoft R Server версии 9.2. [Пакета RevoScaleR](https://docs.microsoft.com/r-server/r-reference/revoscaler/revoscaler) предустановлен.

+ Некоторые пакеты R, удалены или изменены, чтобы уменьшить занимаемое место в среде Azure. Например **mrsdeploy** не включается в базе данных SQL Azure.

**Производительность**

+ Поддерживает обучения и оценки из любой модели, в которой данные могут быть помещены в памяти.  Объем доступной памяти зависит от выпуска базы данных. 
+ Тривиальное параллелизма поддерживается с помощью @parallel = 1 аргумент, а также для потоковой передачи для выполнения скриптов R 
+ Во время предварительного просмотра ограничена один сценарий R, одновременно выполняемых в базе данных.

**Языки**

Стратегия для будущих выпусков включает поддержку дополнительных пакетов и Python.

## <a name="restrictions"></a>Ограничения

В этом разделе перечислены некоторые дополнительные ограничения, которые применяются к предварительной версии.

### <a name="upgrading-r-components-and-adding-packages-not-supported"></a>Обновление компонентов R и добавление пакетов не поддерживается

База данных SQL Azure является управляемой службой, и клиенты не должны управлять обновлениями компонентов R. Для предварительной версии используйте доступных установленных пакетов.

Как только они становятся доступными, будут выпущены обновления R и других машинного обучения компонентов.

### <a name="availability"></a>Доступность

Возможность выполнения R и других машинного обучения скриптов в базе данных SQL Azure — это функция предварительной версии в Западная центральной части США области только. Для более поздних выпусках запланировано расширения в другие области, например в Западной Европе.

Выполнение R в базе данных SQL Azure требуется достаточно хранения и использования памяти. В настоящее время поддерживаются следующие уровни службы базы данных и уровни производительности:

+ Уровень обслуживания Premium: P1, P2, P4, P6, P11, P15 
+ Службы Reporting Services уровня Premium: PRS1 PRS2, PRS4, PRS6 
+ Пула эластичных Premium: 125 Edtu или выше 
+ Пула эластичных RS Premium: 125 Edtu или выше 

### <a name="resource-management"></a>Управление ресурсами

Этот выпуск не поддерживает возможность настройки установки R или наблюдать за использованием R-скриптов.

Например невозможно включить выполнение сценариев R только на конкретных баз данных.

Sys.dm_db_resource_stats динамического административного Представления, используемый для наблюдения за использованием ЦП и памяти для сценариев R, недоступен в предварительном выпуске.

### <a name="other-limitations"></a>Прочие ограничения

Не поддерживаются следующие функции: 

+ Пакет MicrosoftML недоступен.
+ Функции пакета управления, такие как создание ВНЕШНЕЙ БИБЛИОТЕКИ не поддерживаются.
+ База данных Azure SQL нельзя использовать в качестве контекста удаленных вычислений, при выполнении скриптов R клиентом. Скрипты R должна выполняться с помощью хранимой процедуре sp_execute_external_script. Сценарии, вызываемые хранимой процедуры нельзя использовать в других контекстах вычислений.
+ Невозможно выполнить вызовы функций rx, требующих параллельного выполнения.
+ Замыкание соединений из сценария R в SQL Server не поддерживаются. Другими словами нельзя сделать внешних вызовов из сценария R к другому источнику данных ODBC.

## <a name="get-started"></a>Начало работы

Это объявление от команды разработчиков SQL Server включает в себя краткое образцы, которые могут выполняться в собственных баз данных Azure SQL, чтобы поэкспериментировать с построением R-модели и создание прогнозов.

+ [Обучение и оценки моделей в базе данных Azure SQL](https://blogs.msdn.microsoft.com/sqlserverstorageengine/2017/09/25/announcing-preview-of-machine-learning-services-with-r-support-in-azure-sql-database/)

