---
title: "Создание изолированного сервера R Server | Документация Майкрософт"
ms.custom: 
ms.date: 03/07/2017
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- r-services
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 408e2503-5c7d-4ec4-9d3d-bba5a8c7661d
caps.latest.revision: 35
author: jeannt
ms.author: jeannt
manager: jhubbard
ms.translationtype: MT
ms.sourcegitcommit: 876522142756bca05416a1afff3cf10467f4c7f1
ms.openlocfilehash: 4f39a03ecf7b74e0e1305d692a71c28609c80bf0
ms.contentlocale: ru-ru
ms.lasthandoff: 09/01/2017

---
# <a name="create-a-standalone-r-server"></a>Создание изолированного сервера R Server

Программа установки SQL Server включает в себя возможность установить машинного обучения сервера, работающего вне SQL Server. 

Этот параметр может быть полезен в том случае, если вам нужно разрабатывать высокопроизводительные решения R в Windows, а затем совместно использовать решения на других платформах. Можно также использовать параметр сервера для настройки среды для построения решений для выполнения на этих поддерживаемых контекстах удаленных вычислений:
  
  + экземпляр SQL Server, где выполняются службы R;
  + экземпляр сервера R Server, использующий кластер Hadoop или Spark;
  + аналитические функции в базе данных Teradata;
  + сервер R Server в Linux. 

В этом разделе описывает действия установки в программе установки SQL Server для Microsoft R Server и Microsoft Server обучения машины.

## <a name="which-should-i-install"></a>Что следует установить?

**Microsoft R Server** сначала стал доступен в составе SQL Server 2016 и поддерживает язык R. Последняя версия Microsoft R Server была 9.0.1.
В SQL Server 2017 г, был переименован R Server **Microsoft Server обучения машины**, добавлена поддержка Python. Последняя версия Microsoft машины обучения Server — 9.1.0.

Microsoft R Server и Microsoft Server обучения машины требуют Enterprise Edition.

+ [Установка Microsoft R Server (автономный) с помощью программы установки SQL Server](#bkmk_installRServer)
+ [Установите Microsoft машины обучения Server (автономный) с помощью программы установки SQL Server](#bkmk_installRServer) 

  Программе установки требуется лицензия SQL Server, а обновления обычно согласованы с выпуском SQL Server. Это обеспечивает синхронизацию средств разработки с версией, работающей в режиме контекста вычислений SQL Server.

+ [Установка R Server для Windows](https://msdn.microsoft.com/microsoft-r/rserver-install-windows)

  Этот параметр R Server устанавливается политика поддержки современных жизненного цикла. Можно также запустить установщик после установки, чтобы обновить экземпляр SQL Server 2016. В настоящее время вы _нельзя_ установки Python поддерживают использование этого параметра. Чтобы получить Python, необходимо установить сервер обучения машины, с помощью программы установки SQL Server 2017 г..

##  <a name="bkmk_installRServer"></a>Установка Microsoft машинного обучения Server (изолированный)
  
1. После установки предыдущей версии Microsoft R Server, рекомендуется сначала удалить его.

2. Запустите программу установки SQL Server 2017 г.
  
3. Нажмите кнопку **установки** и выберите **установки нового сервера обучения машины (автономный)**.

4. По завершении проверки правил принять условия лицензионного соглашения SQL Server и выберите новую установку.

5. На **Выбор компонентов** страницы, следующие параметры должны быть выбраны:
    
    - Microsoft машинного обучения Server (изолированный)
    
    - R и Python выбираются по умолчанию.
    
    Все прочие параметры нужно игнорировать.

6.  Примите условия лицензионного соглашения по загрузке и установке машинного обучения компонентов. Отдельные лицензионного соглашения для Microsoft R Open и Python. 
    
    Когда кнопка **Принять** станет недоступна, можно нажать кнопку **Далее**. 
    
    Установка этих компонентов (и всех необходимых компонентов, которые могут потребоваться) может занять некоторое время. 
    
    Если компьютер не имеет доступа к Интернету, необходимо заранее загрузить установщиков компонентов. Дополнительные сведения см. в разделе [ML Установка компонентов без доступа к Интернету](./installing-ml-components-without-internet-access.md). 
    
7.  На странице **Все готово для установки** проверьте выбранные параметры и нажмите кнопку **Установить**.


Дополнительные сведения об автоматической или автономной установке см. в разделе [Установка Microsoft R Server из командной строки](../../advanced-analytics/r-services/install-microsoft-r-server-from-the-command-line.md).

###  <a name="bkmk_installRServer"></a> Установка изолированного сервера Microsoft R Server  

1. После установки предыдущей версии Microsoft R Server или любой версии инструментов Revolution Analytics, сначала необходимо удалить его.  См. раздел [Обновление с предыдущей версии Microsoft R Server](#bkmk_Uninstall).

2. Запустите программу установки SQL Server 2016. Рекомендуется установить пакет обновления 1 или более поздней версии.

3. На вкладке **Установка** щелкните **New R Server (Standalone) installation** (Установка нового изолированного сервера R).
    
     ![Параметр установки изолированного сервера R Server](media/rsql-rstandalonesetup.png "Параметр установки изолированного сервера R Server")
    
4.  На странице **Выбор компонентов** уже должен быть выбран следующий параметр:
    
    **R Server (изолированный)**  
    
    Все прочие параметры можно игнорировать. Не устанавливайте databae ядра SQL Server или SQL Server R Services.
    
5.  Примите условия лицензии, чтобы скачать и установить Microsoft R Open. Когда кнопка **Принять** станет недоступна, можно нажать кнопку **Далее**. 
    
    Установка этих компонентов (и всех необходимых компонентов, которые могут потребоваться) может занять некоторое время.
    
6.  На странице **Все готово для установки** проверьте выбранные параметры и нажмите кнопку **Установить**.  


### <a name="upgrade-an-existing-r-server-to-901"></a>Обновление существующего сервера R до 9.0.1

Если вы установили более ранней версии Microsoft R Server (изолированный) можно обновить экземпляр для использования новых версий компонентов R. Обновления также изменение политики современных жизненного цикла поддержки сервера. Это позволяет более регулярно обновлять, по другому расписанию, чем выпуски SQL Server.

1. Установите Microsoft R Server (изолированную версию), если вы еще этого не сделали.

2. Загрузка отдельного установщика Windows из расположения, перечисленные здесь: [запуска Microsoft R Server для Windows](https://msdn.microsoft.com/microsoft-r/rserver-install-windows#howtoinstall).

3. Запустите программу установки и следуйте [эти инструкции](https://msdn.microsoft.com/microsoft-r/rserver-install-windows#download-r-server-installer).


### <a name="change-in-default-folder-for-r-packages"></a>Изменение папки по умолчанию для пакетов r.

При установке с помощью программы установки SQL Server R библиотеки устанавливаются в папки, связанные с версией SQL Server, которая использовалась для установки. В этой папке также находятся образцы данных и документация по базовым пакетам, средствам и среде выполнения R.

**Изолированный сервер R Server при установке с использованием SQL Server 2016**

`C:\Program Files\Microsoft SQL Server\130\R_SERVER`

**Изолированный сервер R Server при установке с использованием SQL Server 2017**

`C:\Program Files\Microsoft SQL Server\140\R_SERVER`

**Настройка с помощью автономного установщика Windows**

Тем не менее при установке с помощью отдельного установщика Windows или обновить с помощью отдельного установщика Windows, библиотеки R перемещаются в папку R Server:

`C:\Program Files\Microsoft\R Server\R_SERVER`
      
**В базах данных служб установки R Servies или машинного обучения**

Если вы установили экземпляр SQL Server со службами R (в базе данных) или службы обучения машины (в базе данных), и этот экземпляр находится на том же компьютере, библиотеки R и средства устанавливаются по умолчанию в другую папку:

`C:\Program Files\Microsoft SQL Server\<instance_name>\R_SERVICES`

Не вызывайте напрямую пакеты или служебные программы R, связанные с экземпляром [!INCLUDE[ssNoVersion_md](../../includes/ssnoversion-md.md)]. Если R Server and R Services установлены на том же компьютере, когда необходимо запустить RGui или других средств, используйте средства R и пакеты, установленные в папке R_SERVER.


### <a name="development-tools"></a>Средства разработки

Разработки (IDE) не установлена как часть установки. Не требуются дополнительные средства, как все стандартные средства будут включены, будет предоставлено с распределением R или Python.

Рекомендуется сначала ознакомиться с новыми версиями [!INCLUDE[rsql_rtvs](../../includes/rsql-rtvs-md.md)], как Visual Studio поддерживает набор средств R и Python, а также SQL Server и бизнес-Аналитики. Тем не менее можно использовать любой предпочтительная среда разработки, включая RStudio.

## <a name="troubleshooting"></a>Устранение неполадок  

### <a name="incompatible-version-of-r-client-and-r-server"></a>Несовместимые версии клиента R и сервера R Server

Если вы установили последнюю версию клиента Microsoft R и используете ее для выполнения R в SQL Server с помощью удаленного контекста вычисления, может возникнуть следующая ошибка:

*На компьютере используется версия 9.0.0 клиента Microsoft R, которая несовместима с Microsoft R Server версии 8.0.3. Скачайте и установите совместимую версию*.

Как правило, версия R, устанавливаемая со службами SQL Server R, обновляется при публикации выпусков служб. Чтобы обеспечить наличие самых актуальных версий компонентов R, установите все пакеты обновления. Для совместимости с клиентом Microsoft R 9.0.0 необходимо установить обновления, которые описываются в этой [статье службы поддержки](https://support.microsoft.com/kb/3210262). 


### <a name="installing-microsoft-r-server-on-an-instance-of-sql-server-installed-on-windows-core"></a>Установка Microsoft R Server в экземпляре SQL Server, установленном в Windows Server Core

В RTM-версии SQL Server 2016 возникла известная проблема при добавлении Microsoft R Server на экземпляре на выпуск Windows Server Core. Эта ошибка исправлена.

При ее возникновении можно применить исправление, описываемое в [статье 3164398 базы знаний](https://support.microsoft.com/kb/3164398) , чтобы добавить компонент R в существующий экземпляр в Windows Server Core.   Дополнительные сведения см. в разделе [Не удается установить изолированный сервер Microsoft R Server в операционной системе Windows Server Core](https://support.microsoft.com/kb/3168691).


###  <a name="bkmk_Uninstall"></a> Обновление с предыдущей версии Microsoft R Server

Если вы установили предварительную версию Microsoft R Server, ее необходимо удалить перед обновлением до более новой версии.

**Удаление изолированного сервера R Server**

1.  В **панели управления**щелкните элемент **Установка и удаление программ**, а затем выберите `Microsoft SQL Server 2016 <version number>`.  
  
2.  В диалоговом окне с командами **добавления**, **восстановления**и **удаления** компонентов выберите **Удалить**.  
  
3.  На странице **Выбор компонентов** в разделе **Общие компоненты**выберите **R Server (изолированный)**. Нажмите кнопку **Далее**, а затем — кнопку **Готово** , чтобы удалить только выбранные компоненты.  
   
### <a name="installation-fails-with-error-only-one-revolution-enterprise-product-can-be-installed-at-a-time"></a>Установка завершается ошибкой "Одновременная установка нескольких продуктов Revolution Enterprise невозможна".

Эта ошибка может возникнуть, если у вас уже установлены продукты Revolution Analytics или предварительная версия служб SQL Server R. Перед тем как устанавливать новую версию Microsoft R Server, необходимо удалить все предыдущие версии. Параллельная установка с другими версиями средств Revolution Enterprise не поддерживается.

Но она поддерживается при использовании изолированного сервера R Server с [!INCLUDE[ssSQLv14_md](../../includes/sssqlv14-md.md)] или SQL Server 2016.

### <a name="unable-to-uninstall-older-components"></a>Не удается удалить старые компоненты.

Если у вас возникают проблемы с удалением предыдущей версии, вам может потребоваться отредактировать реестр, удалив соответствующие разделы.

> [!IMPORTANT]
> Эта проблема возникает, только если вы установили предварительную версию Microsoft R Server или версию CTP служб SQL Server 2016 R.
  
1. Откройте реестр Windows и найдите следующий раздел: `HKLM\Software\Microsoft\Windows\CurrentVersion\Uninstall`.
2. Удалите следующие записи, если они имеются и если раздел содержит только параметр `sEstimatedSize2`:
  
    -   E0B2C29E-B8FC-490B-A043-2CAE75634972        (для версии 8.0.2)
  
    -   46695879-954E-4072-9D32-1CC84D4158F4        (для версии 8.0.1)
  
    -   2DF16DF8-A2DB-4EC6-808B-CB5A302DA91B        (для версии 8.0.0)
  
    -   5A2A1571-B8CD-4AAF-9303-8DF463DABE5A        (для версии 7.5.0)
  
## <a name="see-also"></a>См. также

[Microsoft R Server](../../advanced-analytics/r-services/r-server-standalone.md)


