---
title: "Установка изолированного сервера обучения компьютера или изолированный сервер R | Документы Microsoft"
ms.custom: 
ms.date: 11/16/2017
ms.reviewer: 
ms.suite: sql
ms.prod: machine-learning-services
ms.prod_service: machine-learning-services
ms.component: r
ms.technology: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 408e2503-5c7d-4ec4-9d3d-bba5a8c7661d
caps.latest.revision: "35"
author: jeannt
ms.author: jeannt
manager: cgronlund
ms.workload: On Demand
ms.openlocfilehash: 5c27e75bf6248ebb403235e339750cf935ee3a3d
ms.sourcegitcommit: f486d12078a45c87b0fcf52270b904ca7b0c7fc8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2018
---
# <a name="install-machine-learning-server-standalone-or-r-server-standalone"></a>Установите сервер обучения машины (изолированный) или R Server (изолированный)

Программа установки SQL Server включает в себя возможность установить машинного обучения сервера, работающего вне SQL Server. Эта возможность может быть полезным, если требуются для разработки решений для обучения машину высокой производительности, которые могут использовать контекстах удаленных вычислений или могут развертываться на нескольких платформах, включая:
  
  + Экземпляр SQL Server 2016 или SQL Server 2017 г., где включена машинного обучения
  + Экземпляр сервера R или машины обучения Server в кластере Hadoop или Spark
  + R Server или сервер обучения компьютера Linux

В этой статье описывается использование программы установки SQL Server для установки автономной версии сервера Machine Learning или Microsoft R Server. При наличии Enterprise Edition или Software Assurance, установка сервера автономного машинного обучения является бесплатной.

+ [Установка сервера R](#bkmk_installRServer) -использует программу установки SQL Server 2016
+ [Установка сервера обучения машины](#bkmk_installMLServer) -использует программу установки SQL Server 2017 г.
+ [Обновление существующего экземпляра служб Microsoft R Server](#bkmk_upgrade)
+ [Решить, что следует установить](#bkmk_tips)

##  <a name="bkmk_installMLServer"></a>Установка машинного обучения Server (изолированный)

Этот компонент требует наличия лицензии Enterprise или эквивалент для **2017 г. SQL Server**.

После установки предыдущей версии Microsoft R Server, рекомендуется сначала удалить его.

Если компьютер не имеет доступа к Интернету, необходимо заранее загрузить установщиков компонентов. Дополнительные сведения см. в разделе [Установка компонентов обучения компьютер без доступа к Интернету](./installing-ml-components-without-internet-access.md).

1. Запустите программу установки SQL Server 2017 г.

2. Нажмите кнопку **установки** и выберите **установки нового сервера обучения машины (автономный)**.
    
     ![Установка автономного сервера обучения машины](media/2017setup-installation-page-mlsvr.png "запуска установки отдельного сервера машины обучения")

3. По завершении проверки правил принять условия лицензионного соглашения SQL Server и выберите новую установку.

4. На **Выбор компонентов** следующий параметров должен быть установлен:

    - Microsoft машинного обучения Server (изолированный)

    - R и Python выбираются по умолчанию. Можно отменить выбор любого языка, но мы рекомендуем установить хотя бы один из поддерживаемых языков.

     ![Установка автономного сервера обучения машины](media/2017setup-features-page-mlsvr-rpy.png "запуска установки отдельного сервера машины обучения")
    
    Все прочие параметры нужно игнорировать. 
    
    > [!NOTE]
    > Следует избегать установки **Общие средства** Если компьютер уже установлены службы машины обучения для анализа в базе данных SQL Server. Это создает повторяющиеся библиотеки.
    > 
    > Кроме того в то время как скрипты R или Python, выполняющемся на SQL Server находятся под управлением SQL Server, так как не будет конфликтовать с память, занятая другими службами компонента database engine, машины обучения изолированный сервер нет такого ограничения и может повлиять на другие операции базы данных . Наконец удаленный доступ через сеанс RDP, который часто используется для ввода в эксплуатацию, обычно заблокирован администраторами баз данных.
    > 
    > По этой причине мы рекомендуем установить машины обучения Server (изолированного) на компьютере, отличном от служб SQL Server Machine Learning.

5.  Примите условия лицензионного соглашения по загрузке и установке машинного обучения компонентов. При установке этих двух языках отдельные лицензионного соглашения для Microsoft R и Python.
    
     ![Python лицензионное соглашение](media/2017setup-python-license.png "Python лицензионное соглашение")
    
    Установка этих компонентов, и все необходимые компоненты, которые могут понадобиться, может занять некоторое время. Когда кнопка **Принять** станет недоступна, можно нажать кнопку **Далее**.

6.  На странице **Все готово для установки** проверьте выбранные параметры и нажмите кнопку **Установить**.

Дополнительные сведения об установке автоматической или автономном режиме см. в разделе [Установка Microsoft R Server из командной строки](../../advanced-analytics/r/install-microsoft-r-server-from-the-command-line.md).

##  <a name="bkmk_installRServer"></a> Установка изолированного сервера Microsoft R Server

Этот компонент требует наличия лицензии Enterprise или эквивалент для **SQL Server 2016**.

Если вы установили все предыдущие версии инструментов Revolution Analytics или пакеты, сначала их необходимо удалить. В разделе [обновление с более старой версии Microsoft R Server](#bkmk_Uninstall).

1. Запустите программу установки SQL Server 2016. Рекомендуется установить пакет обновления 1 или более поздней версии.

2. На **установки** щелкните **Установка нового R Server (автономный)**.
    
     ![Запустите программу установки отдельного сервера R](media/2016-setup-installation-rsvr.png "запустите программу установки отдельного сервера R")
    
3.  На странице **Выбор компонентов** уже должен быть выбран следующий параметр:
    
    **R Server (изолированный)**  
    
    ![Выбор для автономного сервера R компонентов](media/2016setup-rserver-features.png "Выбор для автономного сервера R компонентов")
    
    Все прочие параметры можно игнорировать. 
    
    > [!NOTE]
    > Следует избегать установки **Общие средства** при запуске программы установки на компьютере, где R Services уже установлен для анализа в базе данных SQL Server. Это создает повторяющиеся библиотеки.
    > 
    > В то время как R-скриптов, запускаемых на сервере SQL Server находятся под управлением SQL Server, так как не будет конфликтовать с память, занятая другими службами компонента database engine, изолированный сервер R нет такого ограничения и может повлиять на другие операции базы данных.
    > 
    > Как правило, рекомендуется установить машины обучения Server (изолированного) на компьютере, отличном от служб SQL Server Machine Learning.

4.  Примите условия лицензии, чтобы скачать и установить Microsoft R Open. Когда кнопка **Принять** станет недоступна, можно нажать кнопку **Далее**.
    
    Установка этих компонентов, и все необходимые компоненты, которые могут понадобиться, может занять некоторое время.
    
5.  На странице **Все готово для установки** проверьте выбранные параметры и нажмите кнопку **Установить**.

## <a name="bkmk_upgrade"></a>Обновление существующего экземпляра сервера R

Если вы установили более ранней версии Microsoft R Server (изолированный), можно обновить экземпляр для использования новых версий компонентов R. Обновление также изменяет политику поддержки для использования политики жизненного цикла поддержки современных программного обеспечения. Это позволяет более регулярно обновлять, по другому расписанию, чем выпуски SQL Server.

1. Загрузите отдельного установщика Windows под управлением перечисленных здесь местах: 

    + [Установка машинного обучения для Windows Server](https://docs.microsoft.com/machine-learning-server/install/machine-learning-server-windows-install)
    + [Установка R Server 9.1 для Windows](https://docs.microsoft.com/machine-learning-server/install/r-server-install-windows)

2. Запустите программу установки и следуйте инструкциям. На странице, где выбрать компоненты для установки выберите каждый экземпляр сервера R, который нужно обновить.

## <a name ="bkmk_tips"></a>Рекомендации по установке и дальнейшие действия

Этот раздел содержит дополнительные сведения, относящиеся к установке.

### <a name="which-version-should-i-install"></a>Какую версию следует установить?

+ **Microsoft R Server** сначала стал доступен в составе SQL Server 2016 и поддерживает язык R. Последняя версия Microsoft R Server была 9.0.1.

+ **Microsoft Server обучения машины** является последней версии, выпущенной с 2017 г. SQL Server и особенностях большого количества обновлений, включая поддержку Python. Накопительный пакет обновления 1 для SQL Server 2017 г. был освобожден, включая версии 9.2.1.24 машины Server обучения. Рекомендуется это обновление, если требуется, чтобы последние Python API-интерфейсы.

+ **Обновление на месте**: программе установки требуется лицензия SQL Server и обновления обычно выравнивается последовательность выпусков SQL Server. Это обеспечивает синхронизацию средств разработки с версией, работающей в режиме контекста вычислений SQL Server. Тем не менее можно использовать отдельный установщик на основе Windows для получения более частых обновлений, согласно политике поддержки жизненного цикла современного программного обеспечения. Можно также использовать этот установщик для обновления экземпляра SQL Server 2016 или 2017 г. SQL Server.

### <a name="default-installation-folders"></a>Папки установки по умолчанию

При установке сервера R или обучения компьютере, на сервер с помощью программы установки SQL Server, R библиотеки устанавливаются в папки, связанные с версией SQL Server, которая использовалась для установки. В этой папке также будут найти образцы данных, документация для базовых пакетов R и документацию для средств R и среды выполнения.

Однако при установке с помощью отдельного установщика Windows или обновить с помощью отдельного установщика Windows, библиотеки R устанавливаются в другую папку.

Только для справки Если вы установили экземпляр SQL Server со службами R (в базе данных) или службы обучения машины (в базе данных), и этот экземпляр находится на том же компьютере, библиотеки R и инструменты будут установлены по умолчанию в другую папку.

В следующей таблице перечислены пути для каждой установки.

|Version| Метод установки | Папка по умолчанию|
|----|----|----|
|R Server (Standalone) |Мастер установки SQL Server 2016|`C:\Program Files\Microsoft SQL Server\130\R_SERVER`|
|R Server (Standalone) |Автономный установщик Windows|`C:\Program Files\Microsoft\R Server\R_SERVER`|
|Сервер машинного обучения (автономный) |  Мастер установки SQL Server 2017 г. |`C:\Program Files\Microsoft SQL Server\140\R_SERVER`|
|Сервер машинного обучения (автономный) |  Автономный установщик Windows |`C:\Program Files\Microsoft\R Server\R_SERVER`|
|Службы R (в базе данных) |Мастер установки SQL Server 2016|`C:\Program Files\Microsoft SQL Server\MSSQL13.<instance_name>\R_SERVICES`|
|Службы машинного обучения (в базе данных) |Мастер установки SQL Server 2017 г.|`C:\Program Files\Microsoft SQL Server\MSSQL14.<instance_name>\R_SERVICES` или `C:\Program Files\Microsoft SQL Server\MSSQL14.<instance_name>\PYTHON_SERVICES` |

### <a name="development-tools"></a>Средства разработки

Разработки (IDE) не установлена как часть установки. Не требуются дополнительные средства, как все стандартные средства будут включены, будет предоставлено с распределением R или Python.

Рекомендуется сначала ознакомиться с новыми версиями [!INCLUDE[rsql_rtvs](../../includes/rsql-rtvs-md.md)]. Visual Studio поддерживает как R и Python, а также средства разработки баз данных, возможность подключения к SQL Server и средств бизнес-Аналитики. Тем не менее можно использовать любой предпочтительная среда разработки, включая RStudio.

## <a name="troubleshooting"></a>Устранение неполадок

В этом разделе перечислены некоторые распространенные проблемы, которые следует учитывать при установке сервера Machine обучения или R Server.

### <a name="incompatible-version-of-r-client-and-r-server"></a>Несовместимые версии клиента R и сервера R Server

Если установить клиент Microsoft R и использовать его для выполнения R в контексте вычислений удаленного SQL Server, может появиться ошибка следующим образом:

*Используется версия от 9.0.0 клиента Microsoft R на компьютере, которая несовместима с версией 8.0.3 Microsoft R Server. Скачайте и установите совместимую версию*.

В SQL Server 2016 требовалось версии R, который был запущен в SQL Server R Services будет точно таким же, как библиотеки в клиенте Microsoft R. Это требование был удален в более поздних версиях. Тем не менее рекомендуется всегда получать последние версии машинного обучения компоненты и установить все пакеты обновления. 

Если используется более ранняя версия Microsoft R Server, необходимо обеспечить совместимость с клиентом Microsoft R от 9.0.0 установить обновления, описанные в этом [статья службы поддержки](https://support.microsoft.com/kb/3210262).

### <a name="installing-microsoft-r-server-on-an-instance-of-sql-server-installed-on-windows-core"></a>Установка Microsoft R Server в экземпляре SQL Server, установленном в Windows Server Core

В RTM-версии SQL Server 2016 возникла известная проблема при добавлении Microsoft R Server на экземпляре на выпуск Windows Server Core. Эта ошибка исправлена.

Если вы столкнетесь с этой проблемой, можно применить исправление, описанные в [KB3164398](https://support.microsoft.com/kb/3164398) для добавления функции R в существующий экземпляр, в Windows Server Core.   Дополнительные сведения см. в разделе [Не удается установить изолированный сервер Microsoft R Server в операционной системе Windows Server Core](https://support.microsoft.com/kb/3168691).

###  <a name="bkmk_Uninstall"></a>Обновление с более старой версии Microsoft R Server

Если вы установили предварительную версию Microsoft R Server, ее необходимо удалить перед обновлением до более новой версии.

**Удаление изолированного сервера R Server**

1.  В **панели управления**щелкните элемент **Установка и удаление программ**, а затем выберите `Microsoft SQL Server 2016 <version number>`.

2.  В диалоговом окне с командами **добавления**, **восстановления**и **удаления** компонентов выберите **Удалить**.
  
3.  На странице **Выбор компонентов** в разделе **Общие компоненты**выберите **R Server (изолированный)**. Нажмите кнопку **Далее**, а затем — кнопку **Готово** , чтобы удалить только выбранные компоненты.

### <a name="installation-fails-with-error-only-one-revolution-enterprise-product-can-be-installed-at-a-time"></a>Установка завершается ошибкой "Одновременная установка нескольких продуктов Revolution Enterprise невозможна".

Эта ошибка может возникнуть, если у вас уже установлены продукты Revolution Analytics или предварительная версия служб SQL Server R. Перед тем как устанавливать новую версию Microsoft R Server, необходимо удалить все предыдущие версии. Параллельная установка с другими версиями средств Revolution Enterprise не поддерживается.

Но она поддерживается при использовании изолированного сервера R Server с [!INCLUDE[ssSQLv14_md](../../includes/sssqlv14-md.md)] или SQL Server 2016.

### <a name="unable-to-uninstall-older-components"></a>Не удается удалить старые компоненты.

Если у вас возникают проблемы с удалением предыдущей версии, вам может потребоваться отредактировать реестр, удалив соответствующие разделы.

> [!IMPORTANT]
> Эта проблема возникает, только если вы установили предварительную версию Microsoft R Server или версию CTP служб SQL Server 2016 R.
  
1. Откройте реестр Windows и найдите следующий раздел: `HKLM\Software\Microsoft\Windows\CurrentVersion\Uninstall`.
2. Удалите следующие записи, если они имеются и если раздел содержит только параметр `sEstimatedSize2`:
  
    -   E0B2C29E-B8FC-490B-A043-2CAE75634972        (для версии 8.0.2)
  
    -   46695879-954E-4072-9D32-1CC84D4158F4        (для версии 8.0.1)
  
    -   2DF16DF8-A2DB-4EC6-808B-CB5A302DA91B        (для версии 8.0.0)
  
    -   5A2A1571-B8CD-4AAF-9303-8DF463DABE5A        (для версии 7.5.0)
  
## <a name="see-also"></a>См. также раздел

[Сервер машинного обучения (автономный)](../../advanced-analytics/r/r-server-standalone.md)
