---
title: "Среда SQL Server Management Studio (SSMS) — журнал изменений | Документация Майкрософт"
ms.custom: 
ms.date: 12/07/2017
ms.prod: sql-non-specified
ms.prod_service: sql-tools
ms.service: 
ms.component: ssms
ms.reviewer: 
ms.suite: sql
ms.technology: tools-ssms
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 3dc76cc1-3b4c-4719-8296-f69ec1b476f9
caps.latest.revision: "72"
author: stevestein
ms.author: sstein
manager: craigg
ms.workload: Active
ms.openlocfilehash: f6a8a753f3bb272ebd1a98429a5f224dce717f33
ms.sourcegitcommit: cc71f1027884462c359effb898390c8d97eaa414
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="sql-server-management-studio---changelog-ssms"></a>SQL Server Management Studio - Changelog (SSMS)
[!INCLUDE[appliesto-ss-asdb-asdw-pdw-md](../includes/appliesto-ss-asdb-asdw-pdw-md.md)] В этой статье приводятся подробные сведения об обновлениях, улучшениях и исправлениях ошибок в текущей и предыдущих версиях SQL Server Management Studio. Скачать [предыдущие версии SQL Server Management Studio можно ниже](#previous-ssms-releases).


## <a name="ssms-174download-sql-server-management-studio-ssmsmd"></a>[SSMS 17.4](download-sql-server-management-studio-ssms.md)
Общедоступная версия | Номер сборки: 14.0.17213.0

### <a name="whats-new"></a>новые возможности

**Общие ошибки SSMS**

Оценка уязвимостей:
- Добавлена новая служба оценки уязвимости SQL, которая проверяет базы данных на наличие потенциальных уязвимостей и отклонений от рекомендаций, например неверных настроек, избыточных разрешений и незащищенных конфиденциальных данных. 
- Результаты оценки включают в себя практические действия по устранению каждой проблемы, а также настроенные скрипты исправления, если это возможно. Отчет об оценке можно настроить для конкретной среды и конкретных требований. Дополнительные сведения об [оценке уязвимостей SQL](https://docs.microsoft.com/sql/relational-databases/security/sql-vulnerability-assessment).

SMO:
- Исправлена проблема, из-за которой свойство *HasMemoryOptimizedObjects* вызывало исключение в Azure.
- Добавлена поддержка новой функции CATALOG_COLLATION.

Панель мониторинга AlwaysOn:
- Усовершенствован анализ задержек в группах доступности.
- Добавлены два новых отчета: *AlwaysOn\_Latency\_Primary* и *AlwaysOn\_Latency\_Secondary*.

Showplan
- Обновленные ссылки указывают на правильную документацию.
- Анализ отдельного плана выполняется непосредственно на основе фактического плана.
- Создан новый набор значков.
- Добавлена поддержка для распознания логических операторов применения, например GbApply, InnerApply.
        
XE Profiler:
- Переименован в XEvent Profiler.
- Теперь при помощи команд меню для остановки и запуска сеанс останавливается и запускается по умолчанию.
- Включена поддержка сочетаний клавиш (например, CTRL+F для поиска).
- Добавлены действия database\_name и client\_hostname для соответствующих событий в сеансах XEvent Profiler. Чтобы изменения вступили в силу, возможно, потребуется удалить существующие экземпляры сеансов QuickSessionStandard или QuickSessionTSQL на серверах. Дополнительные сведения см. на странице [Connect 3142981](https://connect.microsoft.com/SQLServer/feedback/details/3142981).

Командная строка:
- Добавлен новый параметр командной строки (-G), с помощью которого SSMS может автоматически подключаться к серверу или базе данных с использованием аутентификации Active Directory (встроенная аутентификация или аутентификация с помощью пароля). Дополнительные сведения см. в статье [Программа SSMS](ssms-utility.md).

Мастер импорта неструктурированных файлов:
- Теперь при создании таблицы можно выбирать другое имя схемы, помимо стандартного (dbo).

Хранилище запросов
- Восстановлен отчет о регрессивных запросах, отображающийся при развертывании списка доступных отчетов хранилища запросов.

**Integration Services (IS)**
- Добавлена функция проверки пакета в мастере развертывания, которая помогает пользователям найти внутри пакетов SSIS компоненты, не поддерживающиеся в IR Azure SSIS.

### <a name="bug-fixes"></a>Исправления ошибок

**Общие ошибки SSMS**

- Обозреватель объектов:
    - Устранена проблема, из-за которой в моментальных снимках базы данных не отображался узел функции с табличным значением. Дополнительные сведения см. на странице [Connect 3140161](https://connect.microsoft.com/SQLServer/feedback/details/3140161).
    - Повышена производительность при расширении узла *баз данных*, когда на сервере установлено автоматическое закрытие базы данных.
- Редактор запросов:
    - Устранена проблема, из-за которой у пользователей без доступа к базе данных master не работала функция IntelliSense.
    - Устранена проблема, из-за которой программа SSMS аварийно завершала работу при закрытии подключения к удаленному компьютеру. Дополнительные сведения см. на странице [Connect 3142557](https://connect.microsoft.com/SQLServer/feedback/details/3142557).
- Средство просмотра XEvent:
    - Снова включена возможность экспорта в XEL.
    - Исправлены ошибки, из-за которых иногда пользователь не мог загрузить XEL-файл полностью.
- XEvent Profiler:
    - Устранена проблема, из-за которой программа SSMS аварийно завершала работу, если у пользователя не было разрешения *VIEW SERVER STATE*.
    - Устранена проблема, из-за которой после закрытия окна интерактивных данных XE Profiler соответствующий сеанс не останавливался.
- Зарегистрированные серверы
    - Устранена проблема, из-за которой команда перемещения прекращала работу. Дополнительные сведения см. на страницах [Connect 3142862](https://connect.microsoft.com/SQLServer/feedback/details/3142862) и [Connect 3144359](https://connect.microsoft.com/SQLServer/feedback/details/3144359/).
- SMO:
    - Устранена проблема, из-за которой метод TransferData на передавал объекты.
    - Устранена проблема, из-за которой базы данных сервера создавали исключение для приостановленных баз данных хранилища данных SQL.
    - Устранена проблема, из-за которой создающая скрипты для хранилища данных SQL база данных SQL формировала неверные значения параметра T-SQL.
    - Устранена проблема, из-за которой при написании скриптов расширенной базы данных ошибочно выдавался параметр *DATA\_COMPRESSION*.
- Монитор активности заданий:
    - Устранена проблема, из-за которой при попытке фильтрации по категории поступало сообщение об ошибке "Index was out of range. Must be non-negative and less than the size of the collection. 
        Parameter name: index (System.Windows.Forms)" (Индекс вне допустимого диапазона. Значение не может быть отрицательным и меньшим, чем размер коллекции. Имя параметра: index (System.Windows.Forms)). Дополнительные сведения см. на странице [Connect 3138691](https://connect.microsoft.com/SQLServer/feedback/details/3138691).
- Диалоговое окно соединения:
    - Устранена проблема, из-за которой пользователи домена без прав чтения и записи в контроллере домена не могли войти на платформу SQL Server с помощью аутентификации SQL. Дополнительные сведения см. на странице [Connect 2373381](https://connect.microsoft.com/SQLServer/feedback/details/2373381).
- Репликация:
    - Устранена проблема, из-за которой при просмотре свойств подписки по запросу на платформе SQL Server отображалось сообщение об ошибке "Cannot apply value 'null' to property ServerInstance" (Не удается применить значение null к свойству ServerInstance).
- Установка SSMS:
    - Устранена проблема, из-за которой установка SSMS приводила к изменению конфигурации всех установленных продуктов на компьютере.
- Параметры пользователя:
   - При помощи этого исправления независимым пользователям облака для государственных организаций США предоставлен непрерывный доступ к их базе данных SQL Azure и ресурсам ARM из SSMS посредством универсальной аутентификации и входа Azure Active Directory.  Пользователям предыдущих версий SSMS нужно открыть меню "Средства | Параметры | Службы Azure" и в группе управления ресурсами изменить конфигурацию свойства Active Directory Authority на https://login.microsoftonline.us.

**Analysis Services**

- Profiler: исправлена проблема, из-за которой не удавалось подключиться к автономной системе Azure с помощью аутентификации Windows.
- Исправлена проблема, которая могла вызывать аварийное завершение работы при отмене сведений о подключении в модели 1400.
- При задании ключа больших двоичных объектов Azure в диалоговом окне свойств подключения во время обновления учетных данных ключ теперь визуально маскируется.
- Устранена проблема, из-за которой в диалоговом окне выбора пользователя Azure Analysis Services при поиске отображался GUID идентификатора приложения вместо идентификатора объекта.
- Устранена проблема, из-за которой на панели инструментов в конструкторе запросов для базы данных и MDX значки некоторых кнопок неправильно отображались.
- Исправлена проблема, которая препятствовала подключению к SSAS по адресам HTTP и HTTPS при помощи расширения msmdpump служб IIS.
- Несколько строк в диалоговом окне выбора пользователей Azure Analysis Services теперь переведены на другие языки.
- Свойство MaxConnections теперь отображается для источников данных в табличных моделях.
- Теперь мастер развертывания создает правильные определения JSON для членов роли автономной системы Azure.
- Устранена проблема в SQL Profiler, из-за которой при выборе аутентификации Windows для автономной системы Azure все равно отображался запрос на вход.


## <a name="previous-ssms-releases"></a>Предыдущие выпуски SSMS

Чтобы скачать предыдущие версии SSMS, щелкните заголовки со ссылками в приведенных ниже разделах.

## <a name="downloadssdtmediadownloadpng-ssms-173httpsgomicrosoftcomfwlinklinkid858904"></a>![скачать](../ssdt/media/download.png) [SSMS 17.3](https://go.microsoft.com/fwlink/?linkid=858904)
Общедоступная версия | Номер сборки: 14.0.17199.0

### <a name="enhancements"></a>Улучшения

- Добавлен новый мастер импорта неструктурированных файлов, работающий на базе интеллектуальной платформы, которая упрощает процесс импорта CSV-файлов и не требует от пользователей многочисленных действий или специализированных знаний. Дополнительные сведения см. в разделе [Мастер импорта неструктурированных файлов в SQL](../relational-databases/import-export/import-flat-file-wizard.md).
- В обозреватель объектов добавлен узел XEvent Profiler. Дополнительные сведения см. в разделе [Использование SSMS XEvent Profiler](../relational-databases/extended-events/use-the-ssms-xe-profiler.md).
- Обновлена фильтрация и классификация ожиданий в отчете об истории ожиданий из панели мониторинга производительности.
- Добавлена проверка синтаксиса функции Predict.
- Добавлена проверка синтаксиса запросов в функции управления внешними библиотеками.
- Добавлена поддержка SMO для управления внешними библиотеками.
- Добавлена поддержка запуска PowerShell в окне "Зарегистрированные серверы" (требуется новый модуль PowerShell для SQL).
- AlwaysOn: добавлена [поддержка маршрутизации запросов только для чтения](../database-engine/availability-groups/windows/configure-read-only-routing-for-an-availability-group-sql-server.md) для групп доступности.
- Добавлена возможность отправлять в окно вывода данные трассировки по входам с использованием проверки подлинности "Active Directory — универсальная с поддержкой MFA". По умолчанию эта функция отключена, и ее нужно включить в параметрах пользователя, последовательно выбрав "Сервис" > "Параметры" > "Службы Azure" > "Облако Azure" > "Уровень трассировки для окна вывода ADAL". 
- Хранилище запросов 
  - Пользовательский интерфейс хранилища запросов доступен, даже когда служба QDS отключена, при условии, что она записала какие-либо данные.
  - Пользовательский интерфейс хранилища запросов теперь предоставляет классификацию ожиданий во всех существующих отчетах. За счет этого пользователям будут доступны сценарии "Топ ожидающих запросов" и многие другие.
- Включать заголовки параметров сценариев стало необязательно. По умолчанию эта возможность отключена, и ее можно включить в параметрах пользователя, последовательно выбрав "Сервис" > "Параметры" > "Обозреватель объектов SQL Server" > "Сценарии" > "Включить заголовок с параметрами сценариев". Это связано с [элементом Connect 3139199](https://connect.microsoft.com/SQLServer/feedback/details/3139199).
- Удалена фирменная символика "RC".

### <a name="bug-fixes"></a>Исправления ошибок

**Общие ошибки SSMS**

- XEvent 
   - Исправлена проблема, когда SSMS открывает только часть событий в XEL-файле.
   - Улучшен интерфейс "Интерактивного просмотра данных", когда база данных по умолчанию не является "master". Это связано с [элементом Connect 1222582](https://connect.microsoft.com/SQLServer/feedback/details/1222582).
- AlwaysOn: исправлена проблема, из-за которой функция "Восстановление архивных копий журнала" могла не сработать и выдавала ошибку "Журнал в этом резервном наборе данных завершается на номере LSN x, что слишком рано для использования в базе данных".
- Монитор активности заданий: исправлены несогласованные значки. Это связано с [элементом Connect 3133100](https://connect.microsoft.com/SQLServer/feedback/details/3133100).
- Хранилище запросов: исправлена проблема, когда пользователь не может выбрать настраиваемый диапазон дат для отчетов хранилища запросов. Это связано с элементами Connect, указанными ниже.
   - [Элемент Connect 3139842](https://connect.microsoft.com/SQLServer/feedback/details/3139842)
   - [Элемент Connect 3139399](http://connect.microsoft.com/SQLServer/feedback/details/3139399)
- Исправлена проблема, когда диалоговое окно подключения не "очищало" последнюю использованную базу данных, если в сохраненных сведениях имелась именованная база данных и пользователь выбирал <default>.
- Сценарии объектов
    - Исправлена проблема, когда пункт "Создать сценарий базы данных" не работал и вызывал ошибку, если пользователь приостанавливал базу данных DW на сервере, но выбирал другую базу данных, отличную от DW, и пытался создавать в ней сценарии.
    - Исправлена проблема, когда заголовок для включенных в сценарий хранимых процедур не соответствовал параметрам сценария, из-за чего сценарий мог быть непонятным. Это связано с [элементом Connect 3139784](http://connect.microsoft.com/SQLServer/feedback/details/3139784).
    - Снова включена "Кнопка со сценарием" при использовании в качестве цели объектов SQL Azure.
    - Исправлена проблема, когда служба SSMS не допускала использовать сценарии "Изменить" или "Выполнить" для некоторых объектов (определяемых пользователем функций, представлений, хранимых процедур, триггеров) при подключении к базе данных SQL Azure. Это связано с [элементом Connect 3136386](https://connect.microsoft.com/SQLServer/feedback/details/3136386).
- Редактор запросов
  - Улучшена работа IntelliSense, когда целевыми объектами являются базы данных SQL Azure.
  - Исправлена проблема, когда запросы не срабатывали из-за истекшего токена проверки подлинности (универсальная проверка подлинности).
  - Улучшена работа IntelliSense при использовании с базами данных SQL Azure (в частности, при подключении к базе данных SQL Azure будет использоваться новейшая грамматика T-SQL — 140).
  - Исправлена проблема, когда после открытия на сервере окна запросов с подключением к базе данных, отличной от DataWarehouse, во всех последующих окнах запросов с этого сервера к базам данных DataWarehouse возникали разнообразные ошибки с сообщениями о неподдерживаемых типах или параметрах.
- Always On:
   - На панель мониторинга AlwaysOn и страницу свойств групп доступности добавлен столбец режима заполнения.
   - Исправлена проблема, когда невозможно было создать группу доступности Linux, если основная группа находилась в Windows. Это связано с [элементом Connect 3139856](https://connect.microsoft.com/SQLServer/feedback/details/3139856).
- Исправлено несколько проблем "Недостаточно памяти" при запуске запросов в SSMS: [элемент Connect 2845190](https://connect.microsoft.com/SQLServer/feedback/details/2845190), [элемент Connect 3123864](https://connect.microsoft.com/SQLServer/feedback/details/3123864).
- Profiler 
   - Исправлена проблема, когда инструмент Profiler не работал при использовании в качестве цели SQL 2005.
   - Исправлена проблема, когда для Profiler не действовал параметр подключения "Доверять сертификату сервера".
- Монитор активности: исправлена проблема, когда монитор активности не работал с SQL Server в среде Linux.
- Исправлена проблема с классом передачи SMO, когда объекты внешнего источника данных или формата внешнего файла не передавались. Теперь объекты этих типов будут корректно включаться в передачу.
- Зарегистрированные серверы
   - Реализована поддержка многосерверных запросов для серверов универсальной проверки подлинности (для каждого такого сервера в группе будет пробоваться один и тот же токен).
- Универсальная проверка подлинности AD
   - Исправлена проблема, когда проверка подлинности Azure AD не поддерживалась.
   - Исправлена проблема, при которой не работал конструктор представлений или таблиц.
   - Исправлена проблема, при которой пункты "Выделить 1000 верхних строк" и "Изменить 200 верхних строк" не работали.
- Восстановление базы данных: исправлена проблема, когда при перемещении файлов в другое местоположение восстановление пропускало последнюю папку в указанном пути.
- Мастер сжатия
   - Исправлена проблема с мастером управления сжатием, связанная с индексами; исправлена проблема, из-за которой мастер сжатия данных не работал в SQL 2016 и более ранних версиях.
        https://connect.microsoft.com/SQLServer/feedback/details/3139342
   - Мастер сжатия добавлен к таблицам и индексам Azure.
- Showplan 
   - Исправлена проблема, из-за которой операторы PDW не распознавались.
- Свойства сервера
   - Исправлена проблема, когда не удавалось изменить сходство процессоров серверов.


**Analysis Services**

- Исправлен ряд проблем с мастером развертывания, связанных с поддержкой табличных моделей уровня совместимости 1400 и источников данных Power Query.
- Теперь мастер развертывания может выполнять развертывание в Azure Analysis Services при запуске из командной строки.
- При использовании проверки подлинности Windows в Azure Analysis Services имя учетной записи пользователя теперь будет корректно отображаться в обозревателе объектов.


### <a name="known-issues-in-this-173-release"></a>Известные проблемы в выпуске 17.3

**Общие ошибки SSMS**

- При использовании универсальной многофакторной проверки подлинности в Azure AD следующие функциональные возможности SSMS не поддерживаются.
   - Для проверки подлинности Azure AD не поддерживается помощник по настройке ядра СУБД. Имеется известная проблема, когда пользователь получает довольно непонятное сообщение об ошибке "Не удалось загрузить файл или сборку Microsoft.IdentityModel.Clients.ActiveDirectory…" вместо ожидаемого сообщения "Помощник по настройке ядра СУБД не поддерживает базу данных SQL Microsoft Azure. (DTAClient)".
- При попытке проанализировать запрос в DTA появляется сообщение об ошибке "Объект должен реализовать IConvertible. (mscorlib)".
- В списке отчетов хранилища запросов из обозревателя объектов отсутствуют *Регрессионные запросы*.
   - Обходное решение: щелкните правой кнопкой мыши узел **Хранилище запросов** и выберите **Просмотр регрессионных запросов**.

**Integration Services (IS)**

- Для выполнения пакетов в Scale Out указан некорректный [путь_выполнения] в элементе [каталог].[сообщения_событий]. Путь [execution_path] начинается с "\Package", а не с имени объекта исполняемого файла пакета. При просмотре обзорного отчета по выполнению пакетов в SSMS ссылка "Путь выполнения" в обзоре выполнения не работает. Обходное решение: щелкните "Просмотреть сообщения" в обзорном отчете, чтобы проверить все сообщения событий.


## <a name="downloadssdtmediadownloadpng-ssms-172httpsgomicrosoftcomfwlinklinkid854085"></a>![скачать](../ssdt/media/download.png) [SSMS 17.2](https://go.microsoft.com/fwlink/?linkid=854085)
Общедоступная версия | Номер сборки: 14.0.17177.0

### <a name="enhancements"></a>Улучшения

- Многофакторная идентификация (MFA)
  - Проверка подлинности нескольких пользователей Azure AD с помощью универсальной проверки подлинности с Многофакторной идентификацией (MFA)
  - Было добавлено новое поле ввода учетных данных пользователей для поддержки проверки подлинности нескольких пользователей с помощью универсальной проверки подлинности с Многофакторной идентификацией.
- Диалоговое окно подключения теперь поддерживает следующие 5 способов проверки подлинности:
  - Проверка подлинности Windows.
  - Проверка подлинности SQL Server
  - Active Directory — универсальная с поддержкой MFA
  - Active Directory — пароль
  - Active Directory — встроенная

- Импорт и экспорт базы данных для мастера DacFx с использованием универсальной проверки подлинности с MFA.
- Сведения о поддержке API см. в описании [интерфейса IUniversalAuthProvider](https://msdn.microsoft.com/library/microsoft.sqlserver.dac.iuniversalauthprovider.aspx).
- Управляемая библиотека ADAL, используемая для универсальной проверки подлинности Azure AD с MFA, обновлена до версии 3.13.9.
- Кроме того, реализован новый интерфейс командной строки (CLI) с поддержкой параметров администрирования Azure AD для Базы данных SQL и хранилища данных SQL.

 Дополнительные сведения о способах проверки подлинности Active Directory см. в статьях [Универсальная проверка подлинности для Базы данных SQL и хранилища данных SQL (поддержка SSMS для MFA)](https://docs.microsoft.com/azure/sql-database/sql-database-ssms-mfa-authentication) и [Настройка Многофакторной идентификации Базы данных SQL Azure для SQL Server Management Studio](https://docs.microsoft.com/azure/sql-database/sql-database-ssms-mfa-authentication-configure).

- В окне вывода приводятся записи, связанные с запросами, которые выполнялись во время развертывания узлов обозревателя объектов.
- Включен конструктор представлений для Баз данных SQL Azure.
- Изменились параметры скриптов для объектов в обозревателе объектов SQL Server Management Studio.
  - Ранее после первоначальной установки создаваемые скрипты по умолчанию предназначались для последней версии SQL Server (в настоящее время это версия SQL Server 2017).
  - В SQL Server Management Studio 17.2 был добавлен новый параметр: *Использовать параметры сценариев согласно источнику*. Если он имеет значение *Истина*, создаваемый скрипт будет предназначен для той же версии, типа ядра и выпуска ядра, которые используются на сервере, где находится объект, для которого создается скрипт.
  - Параметр *Использовать параметры сценариев согласно источнику* имеет значение *Истина* по умолчанию, поэтому в новой установке SQL Server Management Studio скрипты объектов будут автоматически создаваться для того же целевого ядра, что и на исходном сервере.
  - Если присвоить параметру *Использовать параметры сценариев согласно источнику* значение *Ложь*, будут использоваться обычные, то есть использовавшиеся ранее параметры назначения скриптов.
    - Кроме того, все параметры написания скриптов были перемещены в отдельный раздел *Параметры версий*. Они больше не приводятся в разделе *Общие параметры скрипта*.

- Добавлена поддержка национальных облаков при восстановлении по URL-адресу.
- Отчеты QueryStoreUI теперь поддерживают дополнительные метрики (число строк, DOP, время CLR и другие) из sys.query_store_runtime_stats.
- Технология IntelliSense теперь поддерживается для Базы данных SQL Azure.
    - https://connect.microsoft.com/SQLServer/feedback/details/3100677/ssms-2016-would-be-nice-to-have-intellisense-on-azure-sql-databases
- Безопасность: в диалоговом окне подключения по умолчанию отключено доверие к сертификатам сервера и включен запрос шифрования для подключений к Базе данных SQL Azure.
- Общие усовершенствования, касающиеся поддержки SQL Server в Linux:
 - Снова появился узел компонента Database Mail.
 - Устранены различные проблемы, связанные с путями.
 - Повышена стабильность работы монитора активности.
 - В диалоговом окне "Свойства соединения" правильно указывается платформа.
- Отчет панели мониторинга производительности по серверу теперь доступен как отчет по умолчанию.
  - Возможность подключения к SQL Server 2008 и более поздним версиям.
  - Во вложенном отчете об отсутствующих индексах используются оценки, которые помогают определять наиболее полезные индексы.
  - В историческом вложенном отчете по статистике ожидания операции ожидания теперь объединяются по категориям. Ожидания в режиме простоя или спящем режиме по умолчанию отфильтровываются.
  - Новый исторический вложенный отчет о кратковременных блокировках.
- В узле showplan можно выполнять поиск по свойствам плана. Вы можете легко находить любое свойство оператора, например имя таблицы. Чтобы использовать эту возможность при просмотре плана, выполните одно из указанных ниже действий.
  - Щелкните план правой кнопкой мыши, а затем в контекстном меню выберите пункт "Найти узел".
  - Нажмите клавиши CTRL+F.


**Analysis Services**

- Новая возможность выбора пользователей, не имеющих адресов электронной почты, в качестве участников ролей AAD в моделях Analysis Services Azure в проектах SSMS.

**Integration Services (IS)**

- В отчет о выполнении для SSIS добавлен новый столбец ("Число выполненных").

### <a name="known-issues-in-this-release"></a>Известные проблемы в этом выпуске:

- В окнах запросов, в которых используется проверка подлинности "Active Directory — универсальная с поддержкой MFA", может возникать ошибка наподобие следующей при попытке выполнить запрос после того, как окно было открыто в течение часа:

   `Msg 0, Level 11, State 0, Line 0
The connection is broken and recovery is not possible. The client driver attempted to recover the connection one or more times and all attempts failed. Increase the value of ConnectRetryCount to increase the number of recovery attempts.`

   При повторном выполнении запроса эта ошибка возникать не должна.

- При использовании в Azure AD универсальной проверки подлинности с MFA перечисленные ниже функциональные возможности SSMS не поддерживаются.
  - В конструкторе **новой таблицы или представления** выводится запрос на вход в старом стиле и не поддерживается проверка подлинности Azure AD.
  - Функция **Изменить первые 200 строк** не поддерживает проверку подлинности Azure AD.
  - Компонент **Зарегистрированный сервер** не поддерживает проверку подлинности Azure AD.
  - **Помощник по настройке ядра СУБД** не поддерживает проверку подлинности Azure AD. Имеется известная проблема, вследствие которой пользователю выводится сообщение об ошибке *Не удалось загрузить файл или сборку Microsoft.IdentityModel.Clients.ActiveDirectory…* вместо правильного сообщения *Помощник по настройке ядра СУБД не поддерживает Базу данных SQL Microsoft Azure. (DTAClient)*.

**Analysis Services**

- В обозревателе объектов SSAS не отображается имя пользователя для проверки подлинности Windows в свойствах подключения Analysis Services Azure.

### <a name="bug-fixes"></a>Исправления ошибок

- Исправлена проблема, возникавшая при попытке напечатать результаты запроса (в виде текста).  https://connect.microsoft.com/SQLServer/feedback/details/3055225/
- Исправлена проблема, из-за которой в SSMS неправильно удалялись таблицы и другие объекты при создании скриптов для удаления таких объектов в базе данных SQL Azure.
- Исправлена проблема, из-за которой среда SSMS иногда не запускалась и выводилось сообщение об ошибке "Не удается найти один или несколько компонентов. Переустановите приложение".
- Исправлена проблема, из-за которой идентификатор SPID в пользовательском интерфейсе SSMS мог оказаться не синхронизированным и устаревшим. https://connect.microsoft.com/SQLServer/feedback/details/1898875
- Исправлена проблема в программе автоматической установки SSMS, из-за которой аргумент /passive обрабатывался как /quiet.
- Исправлена проблема, из-за которой при запуске SSMS иногда возникала ошибка "Ссылка на объект не указывает на экземпляр объекта". http://connect.microsoft.com/SQLServer/feedback/details/3134698
- Исправлена проблема в мастере сжатия данных, которая приводила к аварийному завершению работы SSMS при нажатии кнопки "Вычислить" в таблице графика.
- Исправлена проблема с производительностью при щелчке правой кнопкой мыши по индексу таблицы (при медленном подключении к Интернету). https://connect.microsoft.com/SQLServer/feedback/details/3120783
- Исправлена проблема, из-за которой среде SSMS не удавалось перечислить файлы резервной копии на серверах с параметрами сортировки с учетом регистра. http://connect.microsoft.com/SQLServer/feedback/details/3134787 и https://connect.microsoft.com/SQLServer/feedback/details/3137000
- Различные исправления, касающиеся отчета showplan и сравнения showplan.
- Исправлена проблема, из-за которой в диалоговом окне подключения пользователь не мог указать сетевой протокол для подключения, если SQL Server не был установлен на компьютере со средой SSMS. https://connect.microsoft.com/SQLServer/feedback/details/3134997
- Улучшена поддержка конфигураций с несколькими мониторами: устранена проблема, из-за которой некоторые диалоговые окна SSMS отображались в произвольных местах. В разделе "Обозреватель объектов SQL Server | Команды" добавлен новый параметр "Диалоговые окна задачи", позволяющий запоминать положение диалогового окна задачи или страницы свойств после их закрытия. https://connect.microsoft.com/SQLServer/feedback/details/889169, https://connect.microsoft.com/SQLServer/feedback/details/1158271, https://connect.microsoft.com/SQLServer/feedback/details/3135260 
- Исправлена проблема, из-за которой среде SSMS не удавалось изменить свойства зашифрованной Базы данных SQL Azure.
- Оптимизирован параметр "Отбросить результаты после выполнения". https://connect.microsoft.com/SQLServer/feedback/details/1196581
- Исправлена проблема, из-за которой пользователям не удавалось получить доступ к подпискам Azure, администраторами которых они не являлись.
- Улучшен мастер восстановления базы данных: выбор конечной базы данных в обозревателе объектов сохраняется вне зависимости от выбранной базы данных-источника. https://connect.microsoft.com/SQLServer/feedback/details/3118581
- Исправлена проблема, из-за которой в обозревателе объектов не сортировались компилируемые в собственном коде хранимые процедуры, добавленные неправильно. http://connect.microsoft.com/SQLServer/feedback/details/3133365
- Исправлена проблема, возникавшая, если в инструкции "SELECT TOP n ROWS" отсутствовало предложение TOP для хранилища данных SQL Azure. https://connect.microsoft.com/SQLServer/feedback/details/3133551 и https://connect.microsoft.com/SQLServer/feedback/details/3135874
- Пользовательский интерфейс хранилища запросов: исправлена проблема, из-за которой ненастраиваемые интервалы времени работали неправильно для некоторых отчетов.
- Always Encrypted:
    - Улучшен обмен сообщениями для состояния разрешения AKV в диалоговом окне создания главного ключа столбца (CMK).
    - В раскрывающемся списке ключей шифрования столбцов (CEK) добавлены подсказки, упрощающие различение ключей CEK с длинными именами.
    - Исправлена проблема, из-за которой некоторые поставщики хранилища ключей CNG не отображались в диалоговом окне "Новый главный ключ столбца" для Always Encrypted.
- Исправлена несогласованность имени приложения для подключений SSMS. http://connect.microsoft.com/SQLServer/feedback/details/3135115
- Исправлена проблема, из-за которой среда SSMS неправильно создавала скрипты для SQL Azure (таблиц и индексов с параметром DATA_COMPRESSIONS). https://connect.microsoft.com/SQLServer/feedback/details/3133148
- Исправлена проблема, из-за которой пользователь не мог использовать сочетание клавиш CTRL+Q для быстрого запуска. (Примечание. Новые сочетание клавиш для включения и отключения параметра "Технология IntelliSense включена" в редакторе запросов — CTRL+B и CTRL+I.) https://connect.microsoft.com/SQLServer/feedback/details/3131968
- Исправлена проблема в мастере восстановления базы данных, из-за которой в SSMS создавалось исключение при попытке выбрать учетную запись хранения из подписки, содержащей учетные записи с личными доменами.
- Исправлена проблема в компоненте "Диаграмма базы данных", из-за которой в SSMS возникала ошибка "Индекс находился вне границ массива", а пользователь мог изменить режим таблицы только на стандартный. https://connect.microsoft.com/SQLServer/feedback/details/3133792 и http://connect.microsoft.com/SQLServer/feedback/details/3135326
- Исправлена проблема при резервном копировании или восстановлении по URL-адресу, из-за которой в SSMS не перечислялись классические учетные записи хранения.
- Исправлена проблема, из-за которой при попытке добавить защищаемые объекты, привязанные к схеме, к ролям базы данных создавалось исключение. https://connect.microsoft.com/SQLServer/feedback/details/3118143
- Исправлена проблема, из-за которой при развертывании узла таблицы в SSMS периодически выводилось сообщение об ошибке "Неопределенные данные. Этот метод или свойство не может вызываться для значений, равных Null". http://connect.microsoft.com/SQLServer/feedback/details/3136283
- DTA: исправлена проблема, из-за которой процесс DTAEngine.exe завершался вследствие повреждения кучи при вычислении функции секционирования с определенными граничными значениями.


**Analysis Services**

- Исправлена проблема, из-за которой восстановление базы данных Analysis Services завершалось ошибкой, если имя базы данных отличалось от идентификатора.
- Исправлена проблема, из-за которой в окне запроса DAX игнорировался пункт меню, предназначенный для включения и отключения технологии IntelliSense.
- Исправлена проблема, которая препятствовала подключению к SSAS по адресам HTTP и HTTPS расширения msmdpump служб IIS.
- Разрешено подключение к Analysis Services Azure с использованием пароля, содержащего точку с запятой.
- При написании скрипта для команды восстановления базы данных Analysis Services с параметром "Пропустить членство" включается новый параметр JSON, если используется сервер SQL Server 2017 Analysis Services или Analysis Services Azure.
- Исправлена крайне редко возникающая проблема, которая могла приводить к ошибке при загрузке диалогового окна удаления базы данных.
- Исправлена проблема, которая могла возникать при попытке просмотра секций в модели с уровнем совместимости 1400, содержащей определения SQL-запросов и M-секций.

**Integration Services (IS)**
- Исправлена проблема, из-за которой не могли отображаться отчеты о выполнении для каталога базы данных SSIS.
- Исправлены проблемы в SSMS, связанные с низкой производительностью при работе с большим числом проектов или пакетов.

## <a name="downloadssdtmediadownloadpng-ssms-171httpsgomicrosoftcomfwlinklinkid849819"></a>![скачать](../ssdt/media/download.png) [SSMS 17.1](https://go.microsoft.com/fwlink/?linkid=849819)
Общедоступен | Номер сборки: 14.0.17119.0

### <a name="enhancements"></a>Улучшения

- Профилировщик: Справка > В меню "О программе" теперь отображается номер версии выпуска (например, 17.1).
- Пользователи служб аналитики могут обновлять учетные данные для своих источников данных к моделям 1200 TM и выше в контекстном меню источника данных.
- Теперь во встроенных отчетах служб SSIS в CTP 2.1 отображаются журналы масштабированного выполнения SSIS.
- Приложение для управления масштабированием служб SSIS
  - Просмотр базовых сведений о мастере масштабирования.
  - Просто добавление рабочих ролей в масштабное развертывание.
  - Просмотр всех рабочих ролей масштабирования и основных сведений о них, а также простое включение и отключение этих ролей.

### <a name="bug-fixes"></a>Исправления ошибок
- Always On:
  - Исправлена ошибка, из-за которой свойства реплики доступности для групп доступности WSFC всегда отображались как режим "Автоматическая отработка отказа".
  - Исправлена ошибка, из-за которой список маршрутизации, доступный только для чтения, перезаписывался при обновлении группы доступности.
- Always Encrypted: исправлена проблема, из-за которой в создаваемом файле журнала отсутствовали данные, созданные DacFx.
- ShowPlan: исправлена ошибка, из-за которой для операторов неадаптивного соединения в пользовательском интерфейсе всегда отображался атрибут фактического типа соединения.
- Программа установки:
  - Исправлена ошибка, из-за которой SSMS 17.0 разрывал SSDT в Visual Studio 2013 [элемент Connect № 3133479].
  - Исправлена ошибка, из-за которой при нажатии кнопки перезапуска по завершении установки компьютер не перезапускался.
- Написание скриптов: проблему, из-за которой службы SSMS могли случайно удалять объекты базы данных SQL Azure при попытке создать скрипт удаления, можно решить, отключив соответствующий параметр.  В следующий выпуск служб SSMS будут внесены соответствующие исправления.
- Обозреватель объектов: исправлена проблема, из-за которой узел "Базы данных" не разворачивался при подключении к базе данных Azure, созданной с помощью команды копирования COPY AS.

## <a name="downloadssdtmediadownloadpng-ssms-170httpgomicrosoftcomfwlinklinkid847722"></a>![скачать](../ssdt/media/download.png) [SSMS 17.0](http://go.microsoft.com/fwlink/?LinkID=847722)
Общедоступен | Номер сборки: 14.0.17099.0

### <a name="enhancements"></a>Улучшения 

- Пакет обновления и службы обновления программного обеспечения Windows (WSUS) 
    - Дальнейшие выпуски 17.X будут включать небольшой накопительный пакет обновлений. 
  - Пакет обновлений будет также опубликован в каталоге WSUS.  
- Обновления значков:
    - Значки были обновлены и теперь соответствуют значкам, которые используются в оболочке Visual Studio, и поддерживают высокое разрешение.
    - новые значки для профилировщика и SSMS, чтобы различать версии 16.х и 17.х.
- Модуль SQL PowerShell:
  - Модуль SQL Server PowerShell был удален из SSMS и теперь поставляется через коллекцию PowerShell (теперь для поддержки модуля управления версиями требуется PowerShell 5.0).
  - Добавлены различные улучшения в представлении (форматировании) некоторых объектов SMO (например, базы данных теперь отображаются с указанием размера и доступного пространства, а таблицы — количества строк и занимаемого места).
  - Добавлено выделение цветом при вызове командной строки PowerShell из меню обозревателя объектов "Запустить PowerShell".
  - добавлены параметры -ClusterType и -RequiredCopiesToCommit в командлеты AG (New-SqlAvailabilityGroup, Join-SqlAvailabilityGroup и Set-SqlAvailabilityGroup);
  - добавлены параметры -ActiveDirectoryAuthority и -AzureKeyVaultResourceId в командлет Add-SqlAzureAuthenticationContext.
  - Добавлены командлеты Revoke-SqlAvailabilityGroupCreateAnyDatabase, Grant-SqlAvailabilityGroupCreateAnyDatabase и Set-SqlAvailabilityReplicaRoleToSecondary.
  - Добавлен параметр SeedingMode для командлетов Set-SqlAvailabilityReplica и New-SqlAvailabilityReplica.
  - Добавлен параметр ConnectionString для командлета Get-SqlDatabase.
- SQL Server в Linux:
    - общие улучшения и исправления для доставки журналов.
  - Добавлена поддержка собственных путей Linux для присоединения, восстановления и резервного копирования баз данных.
  - Добавлена поддержка собственных путей Linux для папки назначения журналов аудита.
- Службы Analysis Services
  - Окно "Запрос DAX":
    - Круглые скобки как в редакторе.
    - Поддержка синтаксиса DEFINE MEASURE и DEFINE VAR.
    - Различные усовершенствования технологии Intellisense.
  - Универсальная проверка подлинности.
    - Позволяет пользователям указать имя пользователя и не указать пароль, после чего подключение будет установлено в диалоговом окне входа в Azure.
  - Интеграция SSMS PQ: 
    - Возможность писать скрипты для структурированных источников данных. 
    - Просмотр и редактирование структурированных источников данных в пользовательском интерфейсе PQ.
- Новый шаблон "Добавить ограничение уникальности".
- Showplan
    - отображение максимального показателя вместо суммы для потоков в окне свойств за затраченное время;
    - новые свойства операторов для предоставления памяти;
    - добавление кнопки изменения запроса в представлении динамической статистики запросов;
    - поддержка выполнения с чередованием.
  - Новый параметр для функции"Анализ фактического плана выполнения".
  - Основные улучшения в работе функции "Сравнение элементов showplan"
  - Теперь функция "Сравнение элементов showplan" позволяет находить существенные различия при оценке кратности между соответствующими узлами двух планов запросов и предоставляет базовый анализ основных причин.
- Удален диспетчер конфигураций из обозревателя зарегистрированных серверов.
- Возможность чтения журналов аудита в хранилище BLOB-объектов Azure.
- Добавлена параметризация для Always Encrypted, дополнительные сведения см. на [этой странице](https://blogs.msdn.microsoft.com/sqlsecurity/2016/12/13/parameterization-for-always-encrypted-using-ssms-to-insert-into-update-and-filter-by-encrypted-columns/). 
- Универсальное подключение к базе данных SQL Azure для проверки подлинности AAD теперь поддерживает пользовательский идентификатор клиента. 
- Создание скриптов для базы данных SQL Azure: теперь поддерживаются создание скриптов полнотекстовых функций, правил и базы данных.
- Исправления фирменной символики на экранах-заставках для SSMS и профилировщика.
- Из SSMS удален пользовательский интерфейс точки управления служебной программой.
- Теперь SSMS может создавать базы данных SQL Azure версии "PremiumRS".
- Группы доступности AlwaysOn
  - Добавлена поддержка новых типов кластеров: EXTERTAL и NONE.
    - Добавлена поддержка SQL Server для Linux.
    - Добавлено автоматическое заполнение как альтернатива начальной синхронизации данных.
    - Исправлены некоторые дефекты, например, в обработке конечной точки URL-адресов, обновлении баз данных и макете пользовательского интерфейса.
    - Удалены функции, связанные с репликами Azure.
  - Улучшена работа технологии IntelliSense с несколькими ключевыми словами для группы доступности.
- Монитор активности
  - В окне вывода SSMS добавлена новая панель "Монитор активности".
  - Сообщение об ошибке или окончании времени ожидания подключения к журналу сведений теперь отображается в окне результатов, а не во всплывающем сообщении.
  - Удалена пустая (пятая) диаграмма в разделе общих сведений.
  - Теперь в случае приостановки сбора данных монитором активности в заголовок окна обзор добавляется слово "(приостановлено)".
  - Расширения графа для SQL Server 
    - Новые значки для таблиц узлов и ребер графа
    - Таблицы узлов и ребер графа отображаются в папке "Таблицы графиков".
    - Доступны шаблоны для создания таблиц узлов и ребер графа.
- Режим представления:
    - 3 новые задачи, вызываемые с помощью быстрого запуска (CTRL+Q);
    - PresentOn — включение режима представления;
    - PresentEdit — изменение размеров шрифта представления для режима представления.  "Шрифт текстового редактора" для редактора запросов  и "Шрифт среды" для других компонентов;
    - RestoreDefaultFonts — восстановление настроек по умолчанию.
    - *(Примечание. В настоящее время команда PresentOff недоступна.  Используйте RestoreDefaultFonts для отключения режима представления.)*

### <a name="bug-fixes"></a>Исправления ошибок

- Исправлена ошибка, из-за которой прокручивание snowplan с помощью тачпада surfacebook вызывало аварийное завершение SSMS.
- Исправлена ошибка, из-за которой SSMS зависал при получении свойств базы данных, которая в этот момент находилась в процессе восстановления или в автономном режиме. 
- Исправлена ошибка, из-за которой "Средство просмотра справки" не открывалось в сборках RC.
- Исправлена ошибка, из-за которой в SSMS на панели инструментов "Задачи плана обслуживания" могли отсутствовать элементы.
- Исправлена ошибка SSMS, из-за которой пользователь не мог сжимать базу данных, если ее имя данных содержало фигурные скобки. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3122618)
- Исправлена ошибка, из-за которой попытка создать скрипт удаления базы данных Azure в SSMS приводила к удалению этой базы данных. [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3131458/)
- Исправлена ошибка, когда значения по умолчанию не были включены для определяемых пользователем типов таблиц. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3119027)
- Дополнительные улучшения производительности контекстного меню индексов. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3120783)
- Исправлена ошибка, которая вызывала излишнее мерцание при наведении мыши на отсутствующий индекс в плане выполнения. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3118510)
- Исправлена ошибка перевода базы данных в SSMS в автономный режим при создании скрипта. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3118550)
- Различные исправления элементов интерфейса в локализованных версиях SSMS (не на английском языке).
- Исправлена ошибка, когда узел "Ключи Always Encrypted" отсутствовал при использовании SQL 2016 SP1 Standard.
- Постоянное шифрование
    - Меню Always Encrypted было неправильно включено при использовании SQL 2016 RTM Standard или любых других серверов SQL 2014 и более ранних.
    - Исправлена ошибка, когда IntelliSense выдала сообщение об ошибке при использовании синтаксиса CREATE или ALTER.
    - Исправлена ошибка сбоев шифрования в случаях, когда CMK и CEK содержали знаки, которые должны быть экранированы (заключены в скобки).
    - При возникновении исключения нехватки памяти в SSMS пользователь получает уведомление об ошибке. Ему предлагается использовать исходную (64-разрядную) версию PowerShell.
    - Исправлена ошибка сбоя мастера Always Encrypted в случаях, если пользователь использовал вместо классической подписки Azure подписку Resource Manager (для групп ресурсов).
    - Исправлена ошибка, когда мастер Always Encrypted отображал недопустимую ошибку в случаях, если у пользователя отсутствовали разрешения в подписках или ни в одной из них не содержались хранилища ключей Azure.
    - Исправлена ошибка в мастере Always Encrypted, когда страница входа хранилища ключей Azure не отображала подписки Azure при наличии нескольких каталогов Azure Active Directory.
    - Исправлена ошибка в мастере Always Encrypted, когда страница входа хранилища ключей Azure не отображала подписки Azure, для которых у пользователя есть разрешения читателя.
  - Исправлена ошибка, из-за которой файлы ресурсов могли загружаться неправильно, а в результате выдавались ложные сообщения об ошибках.
- Улучшена контрастность гиперссылок на странице параметров SSMS.
- Исправлена ошибка, когда узлы Polybase не отображаются при подключении к SQL Server Express (2016 SP1).
- Исправлена ошибка, из-за которой SSMS не могла изменить уровень совместимости базы данных Azure на версию 140.
- Повышена производительность обозревателя объектов при развертывании списка баз данных Azure. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3100675)
- Исправлена ошибка некорректного появления элемента контекстного меню "Просмотр журнала SQL Server" для нереляционных типов сервера (AS, RS, IS). 
- Исправлена ошибка, при которой проверка синтаксиса запроса к секциям Analysis Services с помощью аутентификации SQL могла привести к получению уведомления об ошибке входа.
- Исправлена ошибка, когда переименование предварительной версии табличной модели AS с уровнем совместимости 1400 завершалось сбоями в SSMS.
- Исправлена ошибка "сбой операции в модели", которая в редких случаях могла возникать из-за выполнения недопустимых операций на AS-сервере. Отмените локальные изменения после неудачного сохранения модели.
- Исправлена опечатка во всплывающем диалоге синхронизации базы данных Analysis Services.
- Диалоговые окна резервного копирования и восстановления контейнеров появляются вне экрана для конфигурации с несколькими мониторами. 
- Происходит сбой создания SecurityPolicy, если в имени целевого объекта содержится символ "]".
- В меню "Открыть последние" SSMS 2016 не отображаются недавно сохраненные файлы. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3113288/ssms-2016-open-recent-menu-doesnt-show-recently-saved-files)
- Сброс параметров пользователя при обновлении оболочки VS теперь не выполняется.
- Исправлена ошибка, из-за которой пользователь не мог изменить уровень совместимости базы данных в SQL 2017.
- В окне запроса, в котором используется универсальная проверка подлинности AAD, нельзя обновить запрос через час.
- Из SSMS удален пользовательский интерфейс точки управления служебной программой.
- В подключениях для универсальной проверки подлинности AD не удается выполнить запрос для получения данных после истечения срока действия первоначального маркера.
- Не удается применить в сценарии правила от одной базы данных SQL Azure к другой базе данных SQL Azure.
- Исправлена ошибка, при которой модулю PowerShell не удавалось подключиться к экземплярам SQL предыдущих версий (2014 и более ранних версий). [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/1138754/sql-server-sqlps-powershell-module-fails-connection-to-sql-2012-instance)
- Исправлена ошибка, которая вызывала аварийное завершение работы SSMS при сбое импорта зарегистрированных серверов.
- Исправлена ошибка, которая вызывала аварийное завершение работы SSMS при наличии у пользователя определенных разрешений для базы данных. 
- SSMS — таблицы исчезают из области конструктора при обновлении представления. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/2946125/ssms-tables-disappears-from-design-surface-while-reviewing-views) 
- Содержимое таблицы невозможно прокрутить с помощью полосы прокрутки таблицы; это можно сделать только с помощью стрелок вверх или вниз. Содержимое таблицы можно прокрутить, сначала попробовав прокрутить его с помощью полосы прокрутки. Это является ошибкой. [Элемент Connect](
http://connect.microsoft.com/SQLServer/feedback/details/3106561/sql-server-manager-2016-bug-in-design-view) 
- Значки для зарегистрированных серверов не отображаются после обновления корневого узла.
- При нажатии кнопки "Скрипт" в разделе "Создание базы данных" на серверах Azure версии 12 скрипт запускается, после чего отображается сообщение "Нет действий для включения в скрипт".
- Вкладка "Дополнительные свойства" в диалоговом окне "Подключение SSMS к серверу" не очищается при каждом новом подключении.
- Скрипт "Создание задач" не создает скрипты создания баз данных для базы данных SQL Azure.
- Полосы прокрутки в конструкторе представлений недоступны.
- Пути к ключам AVK Always Encrypted не содержат идентификаторы версий.
- Уменьшено количество запросов на изменение механизма в окне запросов. [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3113387)
- Ошибки Always Encrypted из-за обновления модулей после шифрования обрабатываются неправильно.
- Время ожидания подключения по умолчанию для OLTP и OLAP изменено с 15 на 30 секунд для исправления ошибок вида "Подключение игнорируется". 
- Исправлен сбой в SSMS при запуске пользовательского отчета. [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3118856)
- Исправлена ошибка, при которой "Создание сценария..." завершается сбоем для всех баз данных SQL Azure.
- Исправлены ошибки в разделах "Создать скрипт как" и "Мастер создания скриптов", которые приводили к добавлению лишних новых строк при создании таких объектов, как хранимые процедуры. [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3115850)
- Поставщик SQLAS PowerShell: добавлено свойство LastProcessed в папки Dimension и MeasureGroup. [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3111879)
- Статистика активных запросов: исправлена ошибка, при которой отображается только первый запрос в пакете. [Элемент Connect] (http://connect.microsoft.com/SQLServer/feedback/details/3114221)  
- Showplan: отображение максимального показателя вместо суммы для потоков в окне свойств.
- Хранилище запросов: добавлен новый отчет для запросов с большой переменчивостью при выполнении.
- Проблемы производительности обозревателя объектов: [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3114074)
    - Контекстное меню таблиц ненадолго зависает.
    - SSMS замедляет работу при щелчке таблицы правой кнопкой мыши (при работе через удаленное подключение в Интернете). 
    - Избегайте выполнения табличных запросов с сортировкой на сервере.
- Мастер развертывания Azure (развертывание базы данных на виртуальной машине Azure) удален из SSMS.
- Исправлена ошибка, при которой отсутствующие индексы не отображались в планах выполнения в SSMS [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3114194).
- Исправлена распространенная ошибка, вызывающая аварийное завершение работы при закрытии SSMS.
- Исправлена ошибка в обозревателе объектов при открытии контекстного меню для узлов "Polybase | Масштабируемая группа" [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3115128).
- Исправлена ошибка, вызывающая аварийное завершение работы SSMS при попытке отображения разрешений для базы данных.
- Хранилище запросов: общие улучшения в контекстных меню для сеток результатов в отчете хранилища запросов.
- Настройка Always Encrypted для существующей таблицы завершается с ошибками, в которых указаны посторонние объекты. [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3103181)
- Настройка Always Encrypted для существующей базы данных с несколькими схемами не работает. [Элемент Connect] (http://connect.microsoft.com/SQLServer/feedback/details/3109591)
- Мастер зашифрованного столбца в Always Encrypted завершается с ошибкой из-за того, что база данных содержит представления, ссылающиеся на системные представления. [Элемент Connect] (http://connect.microsoft.com/SQLServer/feedback/details/3111925)
- При шифровании с помощью Always Encrypted ошибки из-за обновления модулей после шифрования обрабатываются неправильно.
- Исправлена ошибка усечения пользовательского интерфейса в диалоговом окне "Регистрация нового сервера".
- Исправлено условие в пользовательском интерфейсе DMF, которое вызывало неправильное обновление выражений, содержащих константные строковые значения с кавычками.
- Устранена проблема, которая могла привести к сбою SSMS при запуске пользовательских отчетов.
- Добавлен пункт меню "Выполнение в масштабированной конфигурации..." для узла папки.
- Исправлена ошибка с функцией белого списка IP-адресов в брандмауэре баз данных SQL.
- Исправлена ошибка SSMS, из-за которой ссылка на объект не вызывала исключение при редактировании источника многомерного раздела AS.
- Исправлена ошибка SSMS, из-за которой ссылка на объект не вызывала исключение при удалении пользовательской сборки из многомерного сервера AS.
- Исправлена ошибка, которая вызывала сбой при переименовании табличной базы данных 1400.
- Исправлена ошибка с созданием скриптов для табличных источников данных с уровнем совместимости 1400 из диалогового окна свойств соединения.
- Удалено допущение о том, что таблицы в модели с уровнем совместимости 1400 включают как минимум один раздел.
- Теперь сочетание клавиш CTRL+R переключает область результатов в редакторе запросов среды SSMS DAX.


## <a name="downloadssdtmediadownloadpng-ssms-1653httpgomicrosoftcomfwlinklinkid840946"></a>![скачать](../ssdt/media/download.png) [SSMS 16.5.3](http://go.microsoft.com/fwlink/?LinkID=840946)
Общедоступная версия | Номер сборки: 13.0.16106.4

В этом выпуске были решены следующие проблемы.

* Устранена проблема, появившаяся в SSMS 16.5.2. Эта проблема приводила к раскрытию узла "Таблица", если в таблице было несколько разреженных столбцов.

* Пользователи могут развертывать пакеты SSIS, содержащие диспетчер подключений OData, который используется для подключения ресурса Microsoft Dynamics AX или CRM Online к каталогу SSIS. Дополнительные сведения см. в разделе [Диспетчер соединений OData](../integration-services/connection-manager/odata-connection-manager.md).

* Настройка Always Encrypted для существующей таблицы завершается с ошибками, в которых указаны посторонние объекты. [Идентификатор Connect 3103181](https://connect.microsoft.com/SQLServer/feedback/details/3103181/setting-up-always-encrypted-on-an-existing-table-fails-with-errors-on-unrelated-objects)

* Настройка Always Encrypted для существующей базы данных с несколькими схемами не работает. [Идентификатор Connect 3109591](https://connect.microsoft.com/SQLServer/feedback/details/3109591/sql-server-2016-always-encrypted-against-existing-database-with-multiple-schemas-doesnt-work)

* Мастер зашифрованного столбца в Always Encrypted завершается с ошибкой из-за того, что база данных содержит представления, ссылающиеся на системные представления. [Идентификатор Connect 3111925](https://connect.microsoft.com/SQLServer/feedback/details/3111925/sql-server-2016-always-encrypted-encrypted-column-wizard-failed-task-failed-due-to-following-error-cannot-save-package-to-file-the-model-has-build-blocking-errors)

* При шифровании с помощью Always Encrypted ошибки из-за обновления модулей после шифрования обрабатываются неправильно.

* В меню *Открыть последние* не отображаются недавно сохраненные файлы. [Идентификатор Connect 3113288](https://connect.microsoft.com/SQLServer/feedback/details/3113288/ssms-2016-open-recent-menu-doesnt-show-recently-saved-files)

* SSMS замедляет работу при щелчке таблицы правой кнопкой мыши (при работе через удаленное подключение в Интернете). [Идентификатор Connect 3114074](https://connect.microsoft.com/SQLServer/feedback/details/3114074/ssms-slow-when-right-clicking-an-index-for-a-table-over-a-remote-internet-connection)
 
* Устранена проблема с полосой прокрутки конструктора SQL. [Идентификатор Connect 3114856](http://connect.microsoft.com/SQLServer/feedback/details/3114856/bug-in-scrollbar-on-sql-desginer-in-ssms-2016)

* Контекстное меню таблиц ненадолго зависает. 
 
* SSMS иногда выдает исключения в мониторе активности и завершает работу с ошибкой. [Идентификатор Connect 697527](https://connect.microsoft.com/SQLServer/feedback/details/697527/)

* SSMS 2016 аварийно завершает работу с ошибкой "Процесс был завершен из-за внутренней ошибки в среде выполнения .NET: IP 71AF8579 (71AE0000), код выхода 80131506"


## <a name="ssms-1651"></a>SSMS 16.5.1
Общедоступен | Номер сборки: 13.0.16100.1

* Исправлена проблема, при которой Invoke-Sqlcmd ошибочно вставляет несколько строк при возникновении ограничения CHECK. [Элемент Microsoft Connect: 811560](https://connect.microsoft.com/SQLServer/feedback/details/811560)

* Исправлена проблема, при которой версии не на английском языке не работали полностью при создании групп доступности.

* Исправлена проблема, когда при щелчке плана запроса XML не открывался правильный пользовательский интерфейс SSMS.


## <a name="downloadssdtmediadownloadpng-ssms-165httpgomicrosoftcomfwlinklinkid832812"></a>![скачать](../ssdt/media/download.png) [SSMS 16.5](http://go.microsoft.com/fwlink/?LinkID=832812)
Общедоступен | Номер сборки: 13.0.16000.28

* Исправлена проблема, связанная со сбоем, который мог происходить при щелчке базы данных с именем таблицы, содержащим ";:".
* Исправлена проблема, из-за которой изменения, внесенные на странице "Модель" в окне свойств табличной базы данных AS, становятся причиной вывода исходного определения при помощи скрипта. 
[Элемент Microsoft Connect № 3080744](https://connect.microsoft.com/SQLServer/feedback/details/3080744) 
* Исправлена проблема с добавлением временных файлов в список "Последние файлы".  
[Элемент Microsoft Connect № 2558789](https://connect.microsoft.com/SQLServer/feedback/details/2558789)
* Исправлена проблема с отключением элемента меню "Управление сжатием" для узлов пользовательской таблицы в дереве обозревателя объектов.  
[Элемент Microsoft Connect № 3104616](https://connect.microsoft.com/SQLServer/feedback/details/3104616)

* Исправлена проблема, при которой пользователь не может задать размер шрифта для обозревателя объектов, обозревателя зарегистрированных серверов, обозревателя шаблонов, а также для данных обозревателя объектов. Для обозревателей будет использоваться шрифт среды разработки.  
[Элемент Microsoft Connect № 691432](https://connect.microsoft.com/SQLServer/feedback/details/691432)

* Исправлена проблема, при которой SSMS всегда повторно подключается к базе данных по умолчанию при потере соединения.  
[Элемент Microsoft Connect № 3102337](https://connect.microsoft.com/SQLServer/feedback/details/3102337)

* Исправлены многие проблемы, связанные с высоким разрешением в окне управления политиками и редактора запросов, включая значки плана выполнения.

* Исправлена проблема, из-за которой невозможно настраивать шрифты и цвета для расширенных событий.

* Исправлена проблема, связанная со сбоями SSMS, происходившими при закрытии приложения или при попытке отобразить диалоговое окно ошибки.


## <a name="downloadssdtmediadownloadpng-ssms-1641-september-2016httpgomicrosoftcomfwlinklinkid828615"></a>![скачать](../ssdt/media/download.png) [SSMS 16.4.1 (сентябрь 2016 г.)](http://go.microsoft.com/fwlink/?LinkID=828615)
Общедоступен | Номер сборки: 13.0.15900.1

*  Устранена проблема со сбоем инструкции ALTER и изменением хранимой процедуры:  
[Элемент Microsoft Connect № 3103831](https://connect.microsoft.com/SQLServer/feedback/details/3103831)

* Новые командлеты "Read-SqlTableData", "Read-SqlViewData" и "Write-SqlTableData" для просмотра и записи данных с помощью PowerShell.  
[Карта Trello Read-SqlTableData](https://trello.com/c/FXVUNJ8x/131-read-sqltabledata)  
[Элемент Microsoft Connect № 2685363](https://connect.microsoft.com/SQLServer/feedback/details/2685363)
    
* Новый командлет "Add-SqlLogin" для новых сценариев управления входом с помощью PowerShell.  
[Элемент Microsoft Connect № 2588952](https://connect.microsoft.com/SQLServer/feedback/details/2588952)
    
*  Улучшена поддержка и удобство использования для пользователей, подключающихся к разным национальным облакам.
    
    
*  Исправлена проблема, из-за которой возникают исключения "Недостаточно памяти".  
[Элемент Microsoft Connect № 3062914](https://connect.microsoft.com/SQLServer/feedback/details/3062914)  
[Элемент Microsoft Connect № 3074856](https://connect.microsoft.com/SQLServer/feedback/details/3074856)
    
*  Исправлена проблема, из-за которой сортировка по схеме была недоступна.  
[Элемент Microsoft Connect № 3058105](https://connect.microsoft.com/SQLServer/feedback/details/3058105)  
[Элемент Microsoft Connect № 3101136](https://connect.microsoft.com/SQLServer/feedback/details/3101136)
    
*  Исправлена проблема, из-за которой окно "Мониторинг" для растянутой базы данных было недоступно.
    
*  Исправлена проблема, из-за которой окно справки F1 всегда открывало веб-контент. Пользователи теперь могут выбрать справку из Интернета или автономную справку в разделе "Задать параметры справки" в меню "Справка".   
[Элемент Microsoft Connect № 2826366](https://connect.microsoft.com/SQLServer/feedback/details/2826366)
    
*  Исправлена проблема, из-за которой при создании скрипта для табличной модели служб Analysis Services уровня 1200 не извлекался пароль для создания скриптов, даже если в версии сервера он извлекался (объект клиентской модели теперь синхронизируется перед созданием скриптов).
    
*  Исправлена проблема, из-за которой параметр "SELECT TOP N ROWS" создавал устаревший синтаксис для оператора TOP.  
[Элемент Microsoft Connect № 3065435](https://connect.microsoft.com/SQLServer/feedback/details/3065435)
    
*  Исправлены разные проблемы с макетом в SSMS, в том числе на странице "Свойства входа" и в дополнительных параметрах выполнения запросов.   
[Элемент Microsoft Connect № 3058199](https://connect.microsoft.com/SQLServer/feedback/details/3058199)  
[Элемент Microsoft Connect № 3079122](https://connect.microsoft.com/SQLServer/feedback/details/3058199)  
[Элемент Microsoft Connect № 3071384](https://connect.microsoft.com/SQLServer/feedback/details/3071384)
    
*  Исправлена проблема, из-за которой решение создавалось автоматически каждый раз, когда пользователь открывал новое окно запроса.   
[Элемент Microsoft Connect № 2924667](https://connect.microsoft.com/SQLServer/feedback/details/2924667)    
[Элемент Microsoft Connect № 2917742](https://connect.microsoft.com/SQLServer/feedback/details/2917742)   
[Элемент Microsoft Connect № 2612635](https://connect.microsoft.com/SQLServer/feedback/details/2612635)
    
*  Исправлена проблема, из-за которой временные таблицы было невозможно раскрыть в обозревателе объектов в системных базах данных.  
[Элемент Microsoft Connect № 2551649](https://connect.microsoft.com/SQLServer/feedback/details/2551649)
    
*  Исправлена проблема, из-за которой среда SSMS запускала запрос SELECT @@trancount после выполнения пакетной операции.    
[Элемент Microsoft Connect № 3042364](https://connect.microsoft.com/SQLServer/feedback/details/3042364)
    
*  Исправлена проблема в Analysis Services, из-за которой создание скрипта на странице "Свойства" сервера приводило к появлению скрытого диалогового окна подключения.
    
*  Исправлена проблема, из-за которой нажатие клавиш CTRL+Q не открывало панель инструментов быстрого запуска.
    
*  Исправлена проблема, из-за которой изменение параметра MaxSize для базы данных в диалоговом окне "Свойства" было невозможно для баз данных размером больше 2 ТБ.  
[Элемент Microsoft Connect № 1231091](https://connect.microsoft.com/SQLServer/feedback/details/1231091)
    
*  Исправлена проблема, из-за которой мастер восстановления баз данных не принимал имена файлов с пробелом в начале:   
[Элемент Microsoft Connect № 2395147](https://connect.microsoft.com/SQLServer/feedback/details/2395147)



## <a name="downloadssdtmediadownloadpng-ssms-163-august-2016httpgomicrosoftcomfwlinklinkid824938"></a>![скачать](../ssdt/media/download.png) [SSMS 16.3 (август 2016 г.)](http://go.microsoft.com/fwlink/?LinkID=824938)
Общедоступная версия | Номер версии: 13.0.15700.28

* Теперь каждому ежемесячному выпуску SSMS присваивается номер.

* [Новый вариант аутентификации — **универсальная аутентификация Active Directory**](https://azure.microsoft.com/documentation/articles/sql-database-ssms-mfa-authentication/). Это механизм аутентификации на основе маркеров, работающий с помощью Azure Active Directory. Он поддерживает многофакторную и встроенную аутентификацию, а также проверку пароля.

* Новые шаблоны расширенных событий, соответствующие шаблонам SQL Server Profiler [(элемент Microsoft Connect № 2543925)](../tools/sql-server-profiler/sql-server-profiler-templates.md).

* Новые диалоговые окна "Создание базы данных" и "Свойства базы данных" для баз данных Azure SQL.

* Новые командлеты Get-SqlLogin и Remove-SqlLogin, которые помогают управлять входом в SQL Server с помощью PowerShell.  
*Связанные запросы об ошибках от клиентов*   
[Элемент Microsoft Connect № 2588952](https://connect.microsoft.com/SQLServer/feedback/details/2588952/)

* Новый командлет PowerShell New-SqlColumnMasterKeySettings, который помогает создавать главные ключи столбцов для произвольных поставщиков и путей к ключам.

* Новое диалоговое окно "Создание базы данных", которое упрощает создание баз данных SQL Azure в SSMS.

* Поддержка фильтрации в узле "Базы данных" обозревателя объектов SSMS. Перейдите к узлу "Базы данных" в обозревателе объектов и щелкните значок фильтра на панели инструментов обозревателя, чтобы отфильтровать список баз данных.

* Поддержка учетных записей хранения, относящихся к типу Azure-Resource Manager (ARM), в мастерах резервного копирования и восстановления.

* [Исходная бета-поддержка для мониторов с высоким разрешением](https://blogs.msdn.microsoft.com/sqlreleaseservices/ssms-highdpi-support/).  
*Связанные запросы об ошибках от клиентов*   
[элемент Microsoft Connect № 1129301](https://connect.microsoft.com/SQLServer/feedback/details/1129301/management-studio-is-unusable-on-a-4k-display), [элемент Microsoft Connect № 1858763](https://connect.microsoft.com/SQLServer/feedback/details/1858763/), [элемент Microsoft Connect № 1852671](https://connect.microsoft.com/SQLServer/feedback/details/1852671/), [элемент Microsoft Connect № 1487643](https://connect.microsoft.com/SQLServer/feedback/details/1487643/),  [элемент Microsoft Connect № 1355641](https://connect.microsoft.com/SQLServer/feedback/details/1355641/), [элемент Microsoft Connect № 2161595](https://connect.microsoft.com/SQLServer/feedback/details/2161595/), [элемент Microsoft Connect № 1854041](https://connect.microsoft.com/SQLServer/feedback/details/1854041/), [элемент Microsoft Connect № 1055617](https://connect.microsoft.com/SQLServer/feedback/details/1055617/), [элемент Microsoft Connect № 2448774](https://connect.microsoft.com/SQLServer/feedback/details/2448774/), [элемент Microsoft Connect № 1521405](https://connect.microsoft.com/SQLServer/feedback/details/1521405/), [элемент Microsoft Connect № 2117853](https://connect.microsoft.com/SQLServer/feedback/details/2117853/), [элемент Microsoft Connect № 2014256](https://connect.microsoft.com/SQLServer/feedback/details/2014256/), [элемент Microsoft Connect № 2162218](https://connect.microsoft.com/SQLServer/feedback/details/2162218/), [элемент Microsoft Connect № 2344551](https://connect.microsoft.com/SQLServer/feedback/details/2344551/), [элемент Microsoft Connect № 1664436](https://connect.microsoft.com/SQLServer/feedback/details/1664436/), [элемент Microsoft Connect № 2554043](https://connect.microsoft.com/SQLServer/feedback/details/2554043/), [элемент Microsoft Connect № 2983216](https://connect.microsoft.com/SQLServer/feedback/details/2983216/), [элемент Microsoft Connect № 2021706](https://connect.microsoft.com/SQLServer/feedback/details/2021706/)

* Внесены улучшения в помощник по настройке ядра СУБД. Теперь он поддерживает автоматическое чтение рабочих нагрузок из хранилища запросов SQL Server.

* Внесены улучшения в помощник по настройке ядра СУБД. Теперь он отображает рекомендации для кластеризованных индексов columnstore, некластеризованных индексов columnstore и индексов rowstore.

* Теперь команды консоли базы данных можно отправлять с помощью командлетов PowerShell служб SQL Server Analysis Services.

* Исправление ошибки, которое позволяет просматривать открытый текст в зашифрованных столбцах больших объектов AlwaysEncrypted в SSMS.  
*Связанные запросы об ошибках от клиентов*   
[Элемент Microsoft Connect № 2413024](https://connect.microsoft.com/SQLServer/feedback/details/2413024/cannot-view-cleartext-of-alwaysencrypted-lob-columns-in-ssms)

* Исправление ошибки в диалоговом окне Always Encrypted, из-за которой происходит сбой, когда стили оформления Windows не включены (например, включение дисплея с высокой контрастностью).

* Исправлена ошибка "Метод не найден", которая не позволяет подключаться к экземплярам SQL Server.

* Исправлена ошибка, которая заключается в том, что решение SSMS дает сбой, когда выполняется создание функции секционирования со смещением даты и времени.

* Исправление ошибки, которое добавляет удаленное требование Microsoft .NET 3.5 для запуска средства администрирования распределенного воспроизведения (DReplay.exe).

* Исправлена ошибка в мастере развертывания служб Analysis Services. Благодаря этому исправлению поддерживаются полные имена сервера.

* Исправление ошибки в SSMS, благодаря которому отображаются секции в табличных моделях служб Analysis Services, использующих модель совместимости 2016.  
*Связанные запросы об ошибках от клиентов*   
[Элемент Microsoft Connect № 2845053](https://connect.microsoft.com/SQLServer/feedback/details/2845053/ssms-cannot-display-partitions-in-tabular-models-in-2016-compatibility-level) 

* Повышена производительность и исправлены ошибки в табличных моделях служб Analysis Services и общих управляющих объектах SQL Server (SMO). 


---
## <a name="downloadssdtmediadownloadpng-ssms-july-2016-hotfix-updatehttpgomicrosoftcomfwlinklinkid822301"></a>![скачать](../ssdt/media/download.png) [Пакет исправления для SSMS за июль 2016 г.](http://go.microsoft.com/fwlink/?LinkID=822301)
Общедоступная версия | Номер версии: 13.0.15600.2

* **Исправление ошибки в среде SSMS, которое делает доступными отсутствующие пункты контекстного меню**.  
*Связанные запросы об ошибках от клиентов*  
[Элемент Microsoft Connect № 2883440](https://connect.microsoft.com/SQLServer/feedback/details/2883440/lost-table-design-and-edit-top-n-rows-in-tables-context-menu)  
[Элемент Microsoft Connect № 2909644](https://connect.microsoft.com/SQLServer/feedback/details/2909644/ssms-2016-is-missing-edit-options-against-sql-express-2014)  
[Элемент Microsoft Connect № 2924345](https://connect.microsoft.com/SQLServer/feedback/details/2924345/some-ssms-object-explorer-right-click-menu-options-missing-in-july-update)

---
## <a name="ssms-july-2016"></a>SSMS, июль 2016 г. 
Общедоступная версия | Номер версии: 13.0.15500.91

* *Изменение от 5 июля:* улучшена поддержка табличных баз данных SQL Server 2016 (уровень совместимости 1200) в диалоговом окне процесса и в мастере развертывания служб Analysis Services.

* *Изменение от 5 июля:* добавлен параметр XACT_ABORT в диалоговом окне "Параметры выполнения запроса" SSMS. В этом выпуске SSMS он по умолчанию включен и при возникновении ошибки во время выполнения сообщает SQL Server о необходимости откатить всю транзакцию и отменить обработку пакета.

* Поддержка хранилища данных Azure SQL в среде SSMS.

* Существенные обновления модуля SQL Server PowerShell. Сюда входит новый [модуль SQL PowerShell и новые командлеты для постоянного шифрования, агента SQL Server и журналов ошибок SQL](https://blogs.technet.microsoft.com/dataplatforminsider/2016/06/30/sql-powershell-july-2016-update).

* Поддержка создания сценариев PowerShell в мастере постоянного шифрования.

* Значительно уменьшено время ожидания соединения с базами данных Azure SQL.

* Добавлено диалоговое окно "Резервное копирование по URL-адресу", позволяющее создавать учетные данные службы хранилища Azure для резервных копий баз данных SQL Server 2016. Это диалоговое окно упрощает сохранение резервных копий базы данных в учетной записи хранения Azure.
 
* Добавлено диалоговое окно «Восстановление», оптимизирующее восстановление резервной копии базы данных SQL Server 2016 из службы хранилища Microsoft Azure.
 
* Исправление ошибки в конструкторе запросов SSMS, позволяющее добавлять в конструктор таблицы, в отношении которых у пользователя нет разрешений SELECT.

* Исправление ошибки, обеспечивающее поддержку функций TRY_CAST() и TRY_CONVERT() в IntelliSense.  
*Связанные запросы об ошибках от клиентов*  
[элемент Microsoft Connect № 2453461](https://connect.microsoft.com/SQLServer/feedback/details/2453461/sql-server-2012-issue-with-try-cast).

* Исправление ошибки в модуле PowerShell, позволяющее загружать расширение SQLAS служб Analysis Services.  
*Связанные запросы об ошибках от клиентов*  
[элемент Microsoft Connect № 2544902](https://connect.microsoft.com/SQLServer/feedback/details/2544902/ssms-march-2016-refresh-sqlps-failed-to-load-the-sqlas-extension).

* Исправление ошибки в окне редактора SSMS, позволяющее перетаскивать и открывать файлы SQL.  
*Связанные запросы об ошибках от клиентов*  
[элемент Microsoft Connect № 2690658](https://connect.microsoft.com/SQLServer/feedback/details/2690658/cannot-drag-sql-files-into-management-studios).

* Исправление ошибки в приложении Profiler, решающее проблему сбоя при выходе из приложения.  
*Связанные запросы об ошибках от клиентов*  
[элемент Microsoft Connect № 2616550](https://connect.microsoft.com/SQLServer/feedback/details/2616550/sql-server-2016-rc2-profiler-version-13-0-1300-275-wont-close-after-trace-is-started-even-after-trace-is-stopped).  
[элемент Microsoft Connect № 2319968](https://connect.microsoft.com/SQLServer/Feedback/Details/2319968).

* Исправление ошибки в SSMS, решающее проблему сбоя, которая возникает при попытке изменить ссылку на соединение в конструкторе таблиц SSMS.  
*Связанные запросы об ошибках от клиентов*  
[элемент Microsoft Connect № 2721052](https://connect.microsoft.com/SQLServer/feedback/details/2721052/ssms-view-design-mode-right-click-on-join-crashes-ssms).

* Исправление ошибки в SSMS, позволяющее генерировать скрипты базы данных для членов роли db_owner.  
*Связанные запросы об ошибках от клиентов*  
[элемент Microsoft Connect № 2869241](https://connect.microsoft.com/SQLServer/feedback/details/2869241/error-with-script-database-as-create-to-in-ssms-2008r2-and-ssms-2016-june).

* Исправление ошибки в редакторе SSMS, решающее проблему задержки при закрытии вкладки запроса в случае, если сервер отключается от сети.  
*Связанные запросы об ошибках от клиентов*  
[элемент Microsoft Connect № 2656058](https://connect.microsoft.com/SQLServer/feedback/details/2656058/ssms-2014-2016-query-tab-takes-significantly-longer-to-close-if-the-instance-it-was-connected-to-is-now-offline).

* Исправление ошибки, позволяющее включать параметр резервного копирования в базах данных SQL Server Express. 
*Связанные запросы об ошибках от клиентов*  
[элемент Microsoft Connect № 2801910](https://connect.microsoft.com/SQLServer/feedback/details/2801910/ssms-2016-backup-option-not-appearing-in-tasks);  
[элемент Microsoft Connect № 2874434](https://connect.microsoft.com/SQLServer/feedback/details/2874434/backup-missing-from-tasks-context-menu-in-ssms-2016-when-you-are-connected-to-an-express-instance).

* Исправление ошибки в службах Analysis Services, обеспечивающее правильное отображение поставщика канала данных для многомерных моделей служб Analysis Services.

----
## <a name="downloadssdtmediadownloadpng-ssms-june-2016httpgomicrosoftcomfwlinklinkid799832"></a>![скачать](../ssdt/media/download.png) [SSMS, июнь 2016 г.](http://go.microsoft.com/fwlink/?LinkID=799832)
Общедоступная версия | Номер версии: 13.0.15000.23

* В 2016 году решение SSMS становится общедоступным с июньского выпуска.

* Диалоговое окно быстрого поиска в решении SSMS, которое лучше интегрировано в текущем документе и позволяет выполнять поиск с помощью регулярных выражений. 
*Связанные запросы об ошибках от клиентов*  
<https://connect.microsoft.com/SQLServer/feedback/details/2735513/quick-find-replace-in-ssms-2016-rc3/>

* Улучшения в установщике SSMS позволяют отслеживать ход выполнения установки и обрабатывать коды выхода для автоматической установки через сценарии.

* Исправление ошибки в контекстной справке SSMS, вызываемой с помощью клавиши F1. Благодаря этому исправлению документы и статьи отображаются правильно.

* Исправление ошибки в представлении "Регрессированные запросы" хранилища данных запросов, из-за которой решение SSMS дает сбой во время прокрутки.

* Исправление ошибки в соединителе OLEDB служб Excel Analysis Services. Благодаря этому можно подключить Excel 2016 к службам SQL Server Analysis Services.

* Исправление ошибки в диалоговом окне "Подключение" решения SSMS. Благодаря этому в системах с несколькими мониторами диалоговое окно подключения отображается на том же мониторе, что и главное окно SSMS.  
*Связанные запросы об ошибках от клиентов*  
<https://connect.microsoft.com/SQLServer/feedback/details/724909/connection-dialog-appears-off-screen/>
<https://connect.microsoft.com/SQLServer/feedback/details/755689/sql-server-management-studio-connect-to-server-popup-dialog/>  
<https://connect.microsoft.com/SQLServer/feedback/details/389165/sql-server-management-studio-gets-confused-dealing-with-multiple-displays/>

* Исправления ошибок, которые возникают при работе элемента Always Encrypted. Исправлена ошибка, из-за которой пункт меню Always Encrypted неправильно работал с базами данных Stretch. Исправлена также ошибка, из-за которой мастер Always Encrypted неправильно использует поставщик SafeNet (Luna SA) HSM.


## <a name="additional-downloads"></a>Дополнительные скачиваемые файлы  
Список всех загрузок для SQL Server Management Studio см. в [центре загрузки Майкрософт](https://www.microsoft.com/en-us/download/search.aspx?q=sql%20server%20management%20studio&p=0&r=10&t=&s=Relevancy~Descending).  
  
Чтобы получить последнюю версию среды SQL Server Management Studio, перейдите на страницу [Скачивание SQL Server Management Studio (SSMS)](../ssms/download-sql-server-management-studio-ssms.md).  
