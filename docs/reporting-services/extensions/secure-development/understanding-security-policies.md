---
title: "Общие сведения о политиках безопасности | Документы Microsoft"
ms.custom: 
ms.date: 03/14/2017
ms.prod: sql-server-2016
ms.reviewer: 
ms.suite: 
ms.technology:
- docset-sql-devref
- reporting-services-native
ms.tgt_pltfrm: 
ms.topic: reference
applies_to:
- SQL Server 2016 Preview
helpviewer_keywords:
- code groups [Reporting Services]
- code access security [Reporting Services], security policies
- Execution permission set
- custom assemblies [Reporting Services], security
- permission sets [Reporting Services]
- expressions [Reporting Services], security
- evidence [Reporting Services]
- FullTrust permission set
- security policies [Reporting Services]
- named permission sets [Reporting Services]
ms.assetid: a9bf043a-139a-4929-9a58-244815323df0
caps.latest.revision: 32
author: guyinacube
ms.author: asaxton
manager: erikre
ms.workload: Inactive
ms.translationtype: MT
ms.sourcegitcommit: a6aab5e722e732096e9e4ffdf458ac25088e09ae
ms.openlocfilehash: 4c8fa977e2b9cdd596e3029be4954daea7fe239d
ms.contentlocale: ru-ru
ms.lasthandoff: 08/12/2017

---
# <a name="understanding-security-policies"></a>Основные сведения о политиках безопасности
  Любой код, выполняемый сервером отчетов, должен быть частью конкретной политики управления доступом для кода. Такие политики безопасности состоят из групп кода, которые сопоставляют свидетельство с множеством именованных наборов разрешений. Группы кода часто бывают связаны с именованным набором разрешений, который задает допустимые разрешения для кода в этой группе. Во время выполнения используется удостоверение, предоставленное доверенным узлом или загрузчиком, для определения того, к какой группе принадлежит код и какие разрешения с учетом этого должны быть предоставлены коду. [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]соответствует этой архитектуры политики безопасности в соответствии с определением [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] общеязыковая среда выполнения (CLR). В следующих разделах приведено описание различных типов кода в службах [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] и связанных с ними правил политики.  
  
## <a name="report-server-assemblies"></a>Сборки сервера отчетов  
 Сборки сервера отчетов представляют собой сборки, которые содержат код, являющийся частью продукта служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]. Службы [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] написаны с помощью сборок управляемого кода; все эти сборки имеют строгие имена (подписанные цифровой подписью). Группы кода для этих сборок определены с помощью **StrongNameMembershipCondition**, которое предоставляет свидетельство, на основании информации открытого ключа для строгого имени сборки. Группе кода предоставляется **FullTrust** набор разрешений.  
  
## <a name="report-server-extensions-rendering-data-delivery-and-security"></a>Модули сервера отчетов (модули подготовки к просмотру, обработки данных, доставки и безопасности)  
 Модули сервера отчетов представляют собой пользовательские модули обработки данных, доставки, подготовки к просмотру и безопасности, создаваемые для расширения функциональных возможностей служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]. Необходимо предоставить **FullTrust** к этим модулям или коду сборки в файлах конфигурации политики, связанные с [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] компонентом. Модули, поставляемые в составе [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] подписан с помощью открытого ключа сервера отчетов и получения **FullTrust** набор разрешений.  
  
> [!IMPORTANT]  
>  Необходимо изменить [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] файлы конфигурации политики, чтобы разрешить **FullTrust** всех расширений сторонних разработчиков. Если не добавить группу кода с **FullTrust** для пользовательских расширений, они не может использоваться сервером отчетов.  
  
 Дополнительные сведения о файлах конфигурации политики в [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], в разделе [с помощью службы Reporting Services Security Policy Files](../../../reporting-services/extensions/secure-development/using-reporting-services-security-policy-files.md).  
  
## <a name="expressions-used-in-reports"></a>Выражения, используемые в отчетах  
 Выражения отчетов представляют собой встроенные выражения кода или определяемые пользователем методы, содержащиеся в **кода** элемент файла языка определения отчетов. Нет группу кода, в файлах политики уже настроена, которая предоставляет этим выражениям **выполнения** по умолчанию набор разрешений. Эта группа кода выглядит примерно так:  
  
```  
<CodeGroup  
   class="UnionCodeGroup"  
   version="1"  
   PermissionSetName="Execution"  
   Name="Report_Expressions_Default_Permissions"  
   Description="This code group grants default permissions for code in report expressions and Code element. ">  
    <IMembershipCondition  
       class="StrongNameMembershipCondition"  
       version="1"  
       PublicKeyBlob="002400..."  
    />  
</CodeGroup>  
```  
  
 **Выполнение** разрешения позволяет коду выполняться (выполнение), но не использование защищенных ресурсов. Все выражения, находящиеся в отчете, компилируются в сборку (называемую сборкой «хранилища выражений»), которая хранится в составе откомпилированного отчета. После вызова отчета на выполнение сервер отчетов загружает хранилище сборки выражений и преобразует вызовы, обращенные к этой сборке, в выполняемые выражения. Сборки хранилища выражений подписываются конкретным ключом, с помощью которого определяется группа кода для всех хранилищ выражений.  
  
 Выражения отчета ссылаются на коллекции объектной модели отчета (поля, параметры и т. д.) и выполняют такие простые задачи, как арифметические и строковые операции. Требуется только код, выполняющий эти простые операции **выполнения** разрешение. По умолчанию в методы, определенные пользователем **кода** элемента и всех пользовательских сборках предоставляются **выполнения** разрешение в [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]. Таким образом, применительно к большинству выражений текущая конфигурация не требует внесения изменений в какие-либо файлы политики безопасности. Чтобы предоставить дополнительные разрешения сборкам хранилищ выражений, администратор должен изменить файлы конфигурации политики сервера отчетов и конструктора отчетов, а также сменить группу кода выражений отчета. Такая настройка является глобальной, поэтому изменение заданных по умолчанию разрешений для хранилищ выражений затрагивает все отчеты. По этой причине, настоятельно рекомендуется помещать весь код, для которого требуется дополнительное обеспечение безопасности, в пользовательскую сборку. Только этой сборке будут предоставлены необходимые разрешения.  
  
> [!IMPORTANT]  
>  Код, предназначенный для использования в отчетах, в котором вызываются внешние сборки или защищенные ресурсы, должен быть включен в пользовательскую сборку. Это позволяет получить больший контроль над разрешениями, запрашиваемыми и подтверждаемыми в коде. Не следует выполнять вызовы защищенных методов в **кода** элемента. При этом необходимо предоставить **FullTrust** к хранилищу выражений отчета и предоставляет весь пользовательский код полный доступ к среде CLR.  
  
> [!CAUTION]  
>  Не предоставляйте **FullTrust** группе кода для хранилищу выражений отчета. Сделав это, вы разрешите выполнять защищенные системные вызовы во всех выражениях отчета.  
  
## <a name="custom-assemblies-referenced-in-reports"></a>Пользовательские сборки, ссылаемые в отчетах  
 В некоторых выражениях отчета могут вызываться сборки кода сторонних разработчиков, известные также как пользовательские сборки служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]. Сервер отчетов ожидает эти сборки, чтобы иметь по крайней мере **выполнения** разрешение в файлах конфигурации политики. По умолчанию файлы политики, входящие с [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] предоставить **выполнения** разрешение ко всем сборкам, начиная с зоны «Мой компьютер». Пользовательским сборкам по мере необходимости можно предоставлять дополнительные разрешения.  
  
 В некоторых случаях возникает необходимость выполнить операцию, для которой требуется конкретное разрешение кода в выражении отчета. Как правило, это означает, что в выражении отчета должен быть выполнен вызов защищенного метода библиотеки CLR (наподобие того, который получает доступ к файлам или системному реестру). В документации [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] приведено описание разрешений кода, необходимых для выполнения такого безопасного вызова; чтобы в вызывающем коде можно было выполнить подобный вызов, необходимо предоставить эти конкретные, безопасные разрешения. Если вызов выполняется из выражения отчета или **кода** элемент, хранилище сборки выражений должны быть предоставлены соответствующие разрешения. Но сразу после предоставления этих разрешений хранилищу выражений весь код, выполняемый в любом выражении любого отчета, получает такие же конкретные разрешения. Намного безопаснее осуществлять вызов из пользовательской сборки и предоставлять конкретные разрешения этой пользовательской сборке.  
  
## <a name="see-also"></a>См. также:  
 [Управление доступом для кода в службах Reporting Services](../../../reporting-services/extensions/secure-development/code-access-security-in-reporting-services.md)   
 [Защита разработки &#40; Службы Reporting Services &#41;](../../../reporting-services/extensions/secure-development/secure-development-reporting-services.md)  
  
  

