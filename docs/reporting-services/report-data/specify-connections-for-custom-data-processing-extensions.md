---
title: "Указание соединений для пользовательских модулей обработки данных | Microsoft Docs"
ms.custom: ""
ms.date: "03/14/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "reporting-services-sharepoint"
  - "reporting-services-native"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "пользовательские модули обработки данных [службы Reporting Services]"
  - "интерфейс IDbConnection, строки подключения"
  - "олицетворение [службы Reporting Services]"
  - "интерфейс IDbConnectionExtension, строки подключения"
  - "источники данных [службы Reporting Services], безопасность"
  - "строки подключения [службы Reporting Services]"
  - "учетные данные [службы Reporting Services]"
  - "проверка подлинности [службы Reporting Services]"
  - "внешние источники данных [службы Reporting Services]"
  - "модули обработки данных [службы Reporting Services], подключения"
ms.assetid: 2cddc9ea-0e28-4350-80ae-332412908e47
caps.latest.revision: 20
author: "guyinacube"
ms.author: "asaxton"
manager: "erikre"
caps.handback.revision: 20
---
# Указание соединений для пользовательских модулей обработки данных
  Для расширения возможностей поддерживаемых источников данных или поддержки их дополнительных типов, недоступных при стандартной установке служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], на сервере отчетов можно создавать пользовательские модули обработки данных или использовать модули сторонних разработчиков. Соединения обрабатываются по-разному, в зависимости от реализации. Для модулей обработки данных существуют следующие реализации.  
  
-   Дополнительные поставщики данных на основе платформы [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] (при доступе к данным из источников данных DB2.NET, Oracle, ODP.NET или Teradata может использоваться дополнительный поставщик данных .NET)  
  
-   Пользовательские модули обработки данных, поддерживающие интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection>  
  
-   Пользовательские модули обработки данных, поддерживающие интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>  
  
> [!NOTE]  
>  Узнайте у стороннего поставщика сведения о том, как реализован пользовательский модуль обработки данных.  
  
## Олицетворение и пользовательские модули обработки данных  
 Если пользовательский модуль обработки данных использует для подключения к источникам данных олицетворение, то для выполнения запроса следует применить метод интерфейса <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> или <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>. Кроме того, можно сохранить объект удостоверения пользователя (System.Security.Principal.WindowsIdentity), а затем использовать его в API-интерфейсах других модулей обработки данных.  
  
 В предыдущих версиях служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]все вызовы пользовательских модулей обработки данных производились через олицетворение пользователя. В этой версии при олицетворении пользователя будет происходить только вызов метода Open. Если используется существующий модуль обработки данных, требующий встроенной безопасности Windows, следует изменить код так, чтобы применялся метод Open или сохранялся объект удостоверения пользователя.  
  
## Соединения для пользовательских поставщиков данных на основе платформы .NET Framework  
 При настройке отчета для использования конкретного источника данных следует установить свойства, определяющие тип источника данных, строку соединения и учетные данные, используемые для доступа к источнику данных. В следующей таблице описаны типы учетных данных, поддерживаемые поставщиками данных платформы [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] . Дополнительные сведения о задании свойств источника данных отчета см. в разделе [Задание учетных данных и сведений о соединении для источников данных отчета](../../reporting-services/report-data/specify-credential-and-connection-information-for-report-data-sources.md).  
  
|Учетные данные|Соединения|  
|-----------------|-----------------|  
|Встроенные функции безопасности|Можно использовать встроенную безопасность Windows, если поставщик данных ее поддерживает. Запрос передается с учетными данными текущего пользователя.<br /><br /> При определении строки соединения убедитесь, что в нее включены аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка соединения должна содержать аргумент **Integrated Security=SSPI**).|  
|Проверка подлинности Windows.|Можно использовать доменную учетную запись пользователя Windows, если поставщик данных поддерживает такую возможность. Перед вызовом модуля обработки данных сервер отчетов олицетворяет учетную запись пользователя.<br /><br /> При определении строки соединения убедитесь, что в нее включены аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка соединения должна содержать аргумент **Integrated Security=SSPI**).|  
|Учетные данные базы данных|Для соединений, осуществляемых с помощью пользовательского поставщика данных платформы .NET, проверка подлинности базы данных не поддерживается. Во всех случаях серверу отчетов не удастся установить соединение.|  
|Без учетных данных|С пользовательскими поставщиками данных на основе платформы .NET можно устанавливать соединение без учетных данных. Если указана автоматическая учетная запись выполнения, строка соединения использует ее учетные данные. Для соединения сервер отчетов олицетворяет автоматическую учетную запись выполнения.<br /><br /> Если автоматическая учетная запись выполнения не определена, серверу отчетов не удастся установить соединение. Дополнительные сведения об определении учетной записи см. в разделе [Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS)](../../reporting-services/install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md).|  
  
## Соединения для интерфейса IDbConnection  
 Если используется пользовательский модуль обработки данных, поддерживающий только интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection>, соединение следует указать следующим образом.  
  
1.  Настройка учетной записи автоматического выполнения. Для соединений, использующих интерфейс **IDbConnection**, настройка этой учетной записи необходима. При соединении сервер отчетов олицетворяет эту учетную запись, если она создана.  
  
2.  Настроить свойства источника данных для отчета на работу **без учетных данных**.  
  
3.  Поместите учетные данные, используемые для подключения к источнику данных, в строку соединения.  
  
 При использовании интерфейса **IDbConnection**не поддерживаются следующие типы учетных данных: встроенная безопасность, учетные записи пользователей Windows и учетные данные базы данных. Если при соединении с источником данных используются эти параметры, осуществить подключение на сервере отчетов не удастся.  
  
## Соединения для интерфейса IDbConnectionExtension  
 Если используется пользовательский модуль обработки данных, поддерживающий только интерфейс <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>, соединение следует указать следующим образом.  
  
|Учетные данные|Соединения|  
|-----------------|-----------------|  
|Встроенные функции безопасности|Можно использовать встроенную безопасность Windows, если поставщик данных ее поддерживает, с пользовательскими модулями обработки данных, использующими интерфейс **IDbConnectionExtension**.<br /><br /> При определении строки соединения убедитесь, что в нее включены аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка соединения должна содержать аргумент **Integrated Security=SSPI**).|  
|Проверка подлинности Windows.|Можно использовать доменную учетную запись пользователя Windows, если поставщик данных поддерживает такую возможность, с пользовательскими модулями обработки данных, использующими интерфейс **IDbConnectionExtension**.<br /><br /> Перед вызовом модуля обработки данных сервер отчетов олицетворяет учетную запись пользователя. При определении строки соединения убедитесь, что в нее включены аргументы для указания встроенной безопасности (например, при соединении с источником данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] строка соединения должна содержать аргумент **Integrated Security=SSPI**).|  
|Учетные данные базы данных|Для настройки соединений для пользовательских модулей обработки данных, использующих интерфейс **IDbConnectionExtension**, можно применить проверку подлинности базы данных.|  
|Без учетных данных|Если указана автоматическая учетная запись выполнения, строка соединения использует ее учетные данные.<br /><br /> Если автоматическая учетная запись выполнения не определена, серверу отчетов не удастся установить соединение.|  
  
## См. также  
 [Настройка учетной записи автоматического выполнения (диспетчер конфигурации служб SSRS)](../../reporting-services/install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md)   
 [Задание учетных данных и сведениях о соединении для источников данных отчета](../../reporting-services/report-data/specify-credential-and-connection-information-for-report-data-sources.md)   
 [Подключения к данным, источники данных и строки подключения (построитель отчетов и службы SSRS)](../../reporting-services/report-data/data-connections-data-sources-and-connection-strings-report-builder-and-ssrs.md)   
 [Реализация модуля обработки данных](../../reporting-services/extensions/data-processing/implementing-a-data-processing-extension.md)   
 [Диспетчер отчетов (службы Reporting Services в основном режиме)](../Topic/Report%20Manager%20%20\(SSRS%20Native%20Mode\).md)   
 [Создание, удаление или изменение общего источника данных (диспетчер отчетов)](../Topic/Create,%20Delete,%20or%20Modify%20a%20Shared%20Data%20Source%20\(Report%20Manager\).md)   
 [Настройка свойств источника данных для отчета (диспетчер отчетов)](../../reporting-services/report-data/configure-data-source-properties-for-a-report-report-manager.md)  
  
  