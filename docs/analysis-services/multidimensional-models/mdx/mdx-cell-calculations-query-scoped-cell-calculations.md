---
title: Создание вычислений ячеек с областью действия запроса (многомерные Выражения) | Документы Microsoft
ms.date: 05/02/2018
ms.prod: sql
ms.technology: analysis-services
ms.component: mdx
ms.topic: article
ms.author: owend
ms.reviewer: owend
author: minewiskan
manager: kfile
ms.openlocfilehash: 72d0b1bceafcf65ce32dfd746e4498301cbc0afb
ms.sourcegitcommit: 2ddc0bfb3ce2f2b160e3638f1c2c237a898263f4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
---
# <a name="mdx-cell-calculations---query-scoped-cell-calculations"></a>Вычисления многомерных Выражений ячейки - вычислений ячеек с областью действия запроса
[!INCLUDE[ssas-appliesto-sqlas](../../../includes/ssas-appliesto-sqlas.md)]
  Ключевое слово **WITH** в многомерном выражении описывает вычисляемые ячейки в контексте запроса. Синтаксис ключевого слова **WITH** имеет следующий вид:  
  
```  
WITH CELL CALCULATION Cube_Name.CellCalc_Identifier  String_Expression  
```  
  
 Значение `CellCalc_Identifier` — это имя вычисляемых ячеек. Значение `String_Expression` — это перечень ортогональных одномерных выражений набора многомерных выражений. Каждое выражение набора должно разрешаться к одной из перечисленных ниже категорий.  
  
|Категория|Description|  
|--------------|-----------------|  
|Пустой набор|Выражение набора многомерных выражений, которое разрешается к пустому набору. В этом случае областью вычисляемой ячейки является весь куб.|  
|Одноэлементный набор|Выражение набора многомерных выражений, которое разрешается к единственному элементу.|  
|Набор элементов уровня|Выражение набора многомерных выражений, которое разрешается к элементам одного уровня. Примером такого выражения набора является функция многомерных выражений *Level_Expression*.**Members** . Чтобы включить вычисляемые элементы, используйте функцию многомерных выражений *Level_Expression*.**AllMembers**. Дополнительные сведения см. в разделе [AllMembers (многомерные выражения)](../../../mdx/allmembers-mdx.md).|  
|Набор потомков|Выражение набора многомерных выражений, которое разрешается к потомкам одного элемента. Примером такого выражения набора является функция многомерных выражений **Descendants**(*Member_Expression*, *Level_Expresion*, *Desc_Flag*). Дополнительные сведения см. в разделе [Descendants (многомерные выражения)](../../../mdx/descendants-mdx.md).|  
  
 Если аргумент `String_Expression` не описывает измерение, считается, что в набор включаются все элементы с целью создания вложенного куба вычисления. Поэтому, если аргумент `String_Expression` имеет значение NULL, определение вычисляемых ячеек относится ко всему кубу.  
  
 Аргумент `MDX_Expression` содержит многомерное выражение, из которого вычисляется значение ячейки для всех ячеек, определенных аргументом `String_Expression` .  
  
## <a name="additional-considerations"></a>Дополнительные сведения  
 В многомерных выражениях условие вычисления, заданное свойством **CONDITION** , обрабатывается только один раз. Однократная обработка позволяет повысить производительность при расчете нескольких определений вычисляемых ячеек, особенно если вычисляемые ячейки перекрываются на различных этапах обработки куба.  
  
 Время выполнения этой единственной обработки зависит от области определения вычисляемых ячеек, заданной при создании определения.  
  
-   Если определение было создано в глобальной области как часть куба, многомерное выражение обрабатывает условие вычисления при обработке куба. Если ячейки каким-либо образом изменяются внутри куба, и если они включены во вложенный куб вычисления в определении вычисляемых ячеек, условие вычисления может оставаться неточным до повторной обработки куба. Например, ячейки могут изменяться при обратной записи. Условие вычисления обрабатывается повторно при повторной обработке куба.  
  
-   Если определение было создано в области сеанса, многомерное выражение обрабатывает условие вычисления при получении инструкции в течение сеанса. Как и в случае определения вычисляемых ячеек в глобальном контексте, при изменении ячеек условие вычисления может стать неточным для определения выбранных ячеек.  
  
-   Если условие вычисления создано в области сеанса, многомерное выражение обрабатывает его при выполнении запроса. В этом случае также действует условие изменения ячеек, хотя проблемы задержки данных минимальны благодаря малому времени обработки при выполнении запроса многомерных выражений.  
  
 С другой стороны, многомерное выражение обрабатывает формулу вычисления всякий раз, когда в кубе выполняется запрос многомерных выражений, работающий с ячейками, входящими в определение вычисляемых ячеек. Такая обработка выполняется независимо от области при создании определения.  
  
## <a name="see-also"></a>См. также  
 [Создать инструкции ВЫЧИСЛЕНИЯ ЯЧЕЙКИ & #40; Многомерные Выражения & #41;](../../../mdx/mdx-data-definition-create-cell-calculation.md)  
  
  
