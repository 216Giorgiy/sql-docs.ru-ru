---
title: "Создание вычислений ячеек с областью действия запроса (многомерные Выражения) | Документы Microsoft"
ms.custom: 
ms.date: 03/04/2017
ms.prod: sql-non-specified
ms.prod_service: analysis-services
ms.service: 
ms.component: multidimensional-models
ms.reviewer: 
ms.suite: sql
ms.technology:
- analysis-services
- analysis-services/multidimensional-tabular
- analysis-services/data-mining
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- WITH keyword
- query-scoped cell calculations [MDX]
ms.assetid: 45987daa-4400-41e9-add7-2428fd75709b
caps.latest.revision: 30
author: Minewiskan
ms.author: owend
manager: kfile
ms.workload: Inactive
ms.translationtype: MT
ms.sourcegitcommit: 876522142756bca05416a1afff3cf10467f4c7f1
ms.openlocfilehash: f8c2d0cffb212b062f1c1ff8f39929e201dc642c
ms.contentlocale: ru-ru
ms.lasthandoff: 09/01/2017

---
# <a name="mdx-cell-calculations---query-scoped-cell-calculations"></a>Вычисления многомерных Выражений ячейки - вычислений ячеек с областью действия запроса
  Ключевое слово **WITH** в многомерном выражении описывает вычисляемые ячейки в контексте запроса. Синтаксис ключевого слова **WITH** имеет следующий вид:  
  
```  
WITH CELL CALCULATION Cube_Name.CellCalc_Identifier  String_Expression  
```  
  
 Значение `CellCalc_Identifier` — это имя вычисляемых ячеек. Значение `String_Expression` — это перечень ортогональных одномерных выражений набора многомерных выражений. Каждое выражение набора должно разрешаться к одной из перечисленных ниже категорий.  
  
|Категория|Description|  
|--------------|-----------------|  
|Пустой набор|Выражение набора многомерных выражений, которое разрешается к пустому набору. В этом случае областью вычисляемой ячейки является весь куб.|  
|Одноэлементный набор|Выражение набора многомерных выражений, которое разрешается к единственному элементу.|  
|Набор элементов уровня|Выражение набора многомерных выражений, которое разрешается к элементам одного уровня. Примером такого выражения набора является функция многомерных выражений *Level_Expression*.**Members** . Чтобы включить вычисляемые элементы, используйте функцию многомерных выражений *Level_Expression*.**AllMembers**. Дополнительные сведения см. в разделе [AllMembers (многомерные выражения)](../../../mdx/allmembers-mdx.md).|  
|Набор потомков|Выражение набора многомерных выражений, которое разрешается к потомкам одного элемента. Примером такого выражения набора является функция многомерных выражений **Descendants**(*Member_Expression*, *Level_Expresion*, *Desc_Flag*). Дополнительные сведения см. в разделе [Descendants (многомерные выражения)](../../../mdx/descendants-mdx.md).|  
  
 Если аргумент `String_Expression` не описывает измерение, считается, что в набор включаются все элементы с целью создания вложенного куба вычисления. Поэтому, если аргумент `String_Expression` имеет значение NULL, определение вычисляемых ячеек относится ко всему кубу.  
  
 Аргумент `MDX_Expression` содержит многомерное выражение, из которого вычисляется значение ячейки для всех ячеек, определенных аргументом `String_Expression` .  
  
## <a name="additional-considerations"></a>Дополнительные сведения  
 В многомерных выражениях условие вычисления, заданное свойством **CONDITION** , обрабатывается только один раз. Однократная обработка позволяет повысить производительность при расчете нескольких определений вычисляемых ячеек, особенно если вычисляемые ячейки перекрываются на различных этапах обработки куба.  
  
 Время выполнения этой единственной обработки зависит от области определения вычисляемых ячеек, заданной при создании определения.  
  
-   Если определение было создано в глобальной области как часть куба, многомерное выражение обрабатывает условие вычисления при обработке куба. Если ячейки каким-либо образом изменяются внутри куба, и если они включены во вложенный куб вычисления в определении вычисляемых ячеек, условие вычисления может оставаться неточным до повторной обработки куба. Например, ячейки могут изменяться при обратной записи. Условие вычисления обрабатывается повторно при повторной обработке куба.  
  
-   Если определение было создано в области сеанса, многомерное выражение обрабатывает условие вычисления при получении инструкции в течение сеанса. Как и в случае определения вычисляемых ячеек в глобальном контексте, при изменении ячеек условие вычисления может стать неточным для определения выбранных ячеек.  
  
-   Если условие вычисления создано в области сеанса, многомерное выражение обрабатывает его при выполнении запроса. В этом случае также действует условие изменения ячеек, хотя проблемы задержки данных минимальны благодаря малому времени обработки при выполнении запроса многомерных выражений.  
  
 С другой стороны, многомерное выражение обрабатывает формулу вычисления всякий раз, когда в кубе выполняется запрос многомерных выражений, работающий с ячейками, входящими в определение вычисляемых ячеек. Такая обработка выполняется независимо от области при создании определения.  
  
## <a name="see-also"></a>См. также  
 [Инструкция CREATE CELL CALCULATION (многомерные выражения)](../../../mdx/mdx-data-definition-create-cell-calculation.md)  
  
  

