---
title: "DrilldownLevel (многомерные Выражения) | Документы Microsoft"
ms.custom: 
ms.date: 03/02/2016
ms.prod: analysis-services
ms.prod_service: analysis-services
ms.service: 
ms.component: 
ms.reviewer: 
ms.suite: pro-bi
ms.technology: 
ms.tgt_pltfrm: 
ms.topic: language-reference
f1_keywords:
- DRILLDOWNLEVEL
dev_langs:
- kbMDX
helpviewer_keywords:
- DrilldownLevel function
ms.assetid: 47531ce5-1ac0-4aa9-a85c-824fb5d21e7c
caps.latest.revision: 
author: Minewiskan
ms.author: owend
manager: erikre
ms.workload: Inactive
ms.openlocfilehash: da071ef3ba43af94caf81e1016cb84a2bffc082f
ms.sourcegitcommit: f486d12078a45c87b0fcf52270b904ca7b0c7fc8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2018
---
# <a name="drilldownlevel-mdx"></a>DrilldownLevel (многомерные выражения)
[!INCLUDE[ssas-appliesto-sqlas](../includes/ssas-appliesto-sqlas.md)]

  Детализирует углублением элементы набора на одном уровне под самым низким уровнем, представленным в наборе.  
  
 Указание уровня детализации необязательно, но если задать уровень, можно использовать любой **уровня выражение** или **индексный уровень**. Эти аргументы являются взаимоисключающими. Наконец, при наличии в запросе вычисляемых элементов можно указать аргумент для включения их в набор строк.  
  
## <a name="syntax"></a>Синтаксис  
  
```  
DrilldownLevel(Set_Expression [,[Level_Expression] ,[Index]] [,INCLUDE_CALC_MEMBERS])  
```  
  
## <a name="arguments"></a>Аргументы  
 *Set_Expression*  
 Допустимое многомерное выражение, возвращающее набор.  
  
 *Level_Expression*  
 (Необязательно.) Выражение MDX, которое явно определяет уровень, на котором следует выполнять детализацию углублением. Если выражение уровня указано, пропустите аргумент индекса ниже.  
  
 *Index*  
 (Необязательно.) Допустимое числовое выражение, указывающее количество иерархий, которые необходимо детализировать углублением в наборе. Вместо Level_Expression для явного определения уровня, на котором следует выполнять детализацию углублением, можно использовать уровень индекса.  
  
 *Include_Calc_Members*  
 (Необязательно.) Флажок, указывающий, следует ли включать вычисленные элементы и должны ли они существовать на уровне детализации углублением.  
  
## <a name="remarks"></a>Remarks  
 **DrilldownLevel** функция возвращает набор дочерних элементов в иерархическом порядке, в зависимости от членов, включенных в указанном наборе. Порядок следования исходных элементов указанного набора сохраняется, однако все дочерние элементы, входящие в результирующий набор функции, следуют непосредственно за своим родительским элементом.  
  
 При наличии многоуровневой иерархической структуры данных можно явно выбрать уровень детализации углублением. Существует два взаимоисключающих способа указать уровень. Первый способ заключается в задании **level_expression** аргумента, используя Многомерное выражение, которое возвращает уровень, альтернативный подход заключается в указании **индекс** аргумента, используя числовое выражение, задающее уровень по номеру.  
  
 Если выражение уровня указано, функция создает набор в иерархическом порядке, извлекая потомков только элементов указанного уровня. Если указано выражение уровня и на этом уровне отсутствует элемент, выражение уровня игнорируется.  
  
 Если указано значение индекса, функция создает набор в иерархическом порядке, получая потомков только тех элементов, которые находятся на следующем наиболее низком уровне указанной иерархии (на которую ссылается указанный набор) на основе начинающегося с нуля индекса.  
  
 Если ни выражение уровня, ни значение индекса не указаны, функция создает набор в иерархическом порядке, извлекая потомков только тех элементов, которые находятся на самом низком уровне первого измерения, на которое ссылается указанный набор.  
  
 Запрос свойства XMLA MdpropMdxDrillFunctions позволяет проверить уровень поддержки, обеспечиваемой сервером для функций детализации; в разделе [поддерживаемые свойства XMLA &#40; XML для Аналитики &#41; ](../analysis-services/xmla/xml-elements-properties/propertylist-element-supported-xmla-properties.md) подробные сведения.  
  
## <a name="examples"></a>Примеры  
 Вы можете ознакомиться со следующими примерами в окне запроса MDX в SSMS, используя куб Adventure Works.  
  
 **Пример 1 — демонстрирует минимальный синтаксис**  
  
 В первом примере минимальный синтаксис для **DrilldownLevel**. Единственным обязательным аргументом является выражение набора. При выполнении данного запроса вы получите родительский [All Categories] и элементы следующего уровня: [Accessories], [Bikes] и т. д. Несмотря на то, что этот пример прост, он демонстрирует основную цель **DrilldownLevel** функции, которая выполняет детализацию углублением до следующего уровня вниз.  
  
```  
SELECT DRILLDOWNLEVEL({[Product].[Product Categories]} * {[Sales Territory].[Sales Territory]}}) ON COLUMNS  
FROM [Adventure Works]  
```  
  
 Пример 2 — другой синтаксис, использующий явный уровень индекса  
  
 В этом примере демонстрируется другой синтаксис, в котором уровень индекса указывается через числовое выражение. В этом случае уровень индекса равен 0. Для начинающегося с нуля индекса это самый низкий уровень.  
  
```  
SELECT  
DRILLDOWNLEVEL({[Product].[Product Categories]} * {[Sales Territory].[Sales Territory]},,0) ON COLUMNS  
FROM [Adventure Works]  
```  
  
 Обратите внимание, что набор результатов идентичен предыдущему запросу. Обычно указывать уровень индекса не требуется за исключением случаев, когда нужно выполнить детализацию углублением, чтобы начать на определенном уровне. Перезапустите предыдущий запрос, указав значение индекса 1, а затем 2. Со значением индекса, равным 1, детализация углублением начнется на втором уровне в иерархии. Со значением индекса, равным 2, детализация углублением начнется на третьем уровне — наивысшем в этом примере. Чем выше числовое выражение, тем выше уровень индекса.  
  
 **Пример 3 — Демонстрация выражения уровня**  
  
 В следующем примере показывается, как использовать выражение уровня. При условии, что набор представляет иерархическую структуру, использование выражения уровня позволяет выбрать уровень иерархии, чтобы начать детализацию углублением.  
  
 В этом примере уровень детализации углублением начинается в [City], в качестве второго аргумента **DrilldownLevel** функции. Когда вы запустите этот запрос, детализация углублением начнется на уровне [City] для штатов Вашингтон и Орегон. На **DrilldownLevel** функции, набор результатов также включает элементы следующего уровня вниз [Postal codes].  
  
```  
SELECT [Measures].[Internet Sales Amount] ON COLUMNS,  
   NON EMPTY (  
   DRILLDOWNLEVEL(  
       {[Customer].[Customer Geography].[Country].[United States],  
           DESCENDANTS(  
             { [Customer].[Customer Geography].[State-Province].[Washington],    
               [Customer].[Customer Geography].[State-Province].[Oregon]},   
               [Customer].[Customer Geography].[City]) } ,  
[Customer].[Customer Geography].[City] ) )  ON ROWS  
FROM [Adventure Works]  
```  
  
 **Пример 4 — Включение вычисляемых элементов**  
  
 В последнем примере показан вычисляемый элемент, который отображается в нижней части результат задается при добавлении **include_calculated_members** флаг. Обратите внимание, чтобы флажок указан как четвертый параметр.  
  
 Этот пример работает, так как вычисленный элемент находится на том же уровне, что и не вычисленные элементы. Вычисленный элемент [West Coast] состоит из элементов из [United States] и из всех элементов на один уровень ниже, чем [United States].  
  
```  
WITH MEMBER   
[Customer].[Customer Geography].[Country].&[United States].[West Coast] AS  
[Customer].[Customer Geography].[State-Province].&[OR]&[US] +  
[Customer].[Customer Geography].[State-Province].&[WA]&[US] +  
[Customer].[Customer Geography].[State-Province].&[CA]&[US]  
SELECT [Measures].[Internet Order Count] ON 0,  
DRILLDOWNLEVEL([Customer].[Customer Geography].[Country].&[United States],,,INCLUDE_CALC_MEMBERS) on 1  
FROM [Adventure Works]  
```  
  
 Если вы только снимете флажок и перезапустите запрос, то получите те же результаты, кроме вычисленного элемента, [West Coast].  
  
## <a name="see-also"></a>См. также:  
 [Справочник по функциям многомерных Выражений &#40; Многомерные Выражения &#41;](../mdx/mdx-function-reference-mdx.md)  
  
  
