---
title: "База данных Stretch | Microsoft Docs"
ms.custom: 
  - "SQL2016_New_Updated"
ms.date: "06/27/2016"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.service: "sql-server-stretch-database"
ms.suite: ""
ms.technology: 
  - "dbe-stretch"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "База данных Stretch"
ms.assetid: ce6db775-21a5-40bc-95a1-f560376d4ee2
caps.latest.revision: 39
author: "douglaslMS"
ms.author: "douglasl"
manager: "jhubbard"
caps.handback.revision: 39
---
# База данных Stretch
[!INCLUDE[tsql-appliesto-ss2016-xxxx-xxxx-xxx_md](../../includes/tsql-appliesto-ss2016-xxxx-xxxx-xxx-md.md)]

  База данных Stretch прозрачно и безопасно переносит холодные данные в облако Microsoft Azure.  
  
 Если к работе с базой данных Stretch нужно приступить немедленно, см. статью [Get started by running the Enable Database for Stretch Wizard](../../sql-server/stretch-database/get-started-by-running-the-enable-database-for-stretch-wizard.md).  
  
## Каковы преимущества базы данных Stretch?  
 База данных Stretch предоставляет следующие преимущества.  
  
 **Обеспечивает экономичный доступ к холодным данным**  
 База данных Stretch SQL Server позволяет динамически переносить горячие и холодные данные о транзакциях в Microsoft Azure. В отличие от обычного хранилища холодных данных ваши данные всегда будут подключены и доступны для запроса. Вы можете указать более длительный срок хранения данных без ущерба для больших таблиц, таких как история заказов клиента. Используйте недорогое хранилище Azure вместо того, чтобы масштабировать дорогое локальное хранилище. Выберите ценовую категорию и настройте параметры на портале Azure, чтобы контролировать стоимость и затраты. Увеличьте или уменьшите масштаб, если это необходимо. Дополнительные сведения см. на странице с [ценами на базы данных Stretch в SQL Server](https://azure.microsoft.com/pricing/details/sql-server-stretch-database/).  
  
 **Не требует изменений в запросах или приложениях**  
 Получите полный доступ к данным SQL Server, будь то локальным или распространенным на облако.  Вы устанавливаете политику, которая определяет место хранения данных, а SQL Server обрабатывает перемещение данных в фоновом режиме. Вся таблица всегда подключена к сети и доступна для запросов. Кроме того, база данных Stretch не требует изменений в существующих запросах или приложениях — место хранения данных абсолютно прозрачно для приложения.  
  
 **Упрощает локальное обслуживание данных**  
 Сократите объем локального обслуживания и хранилища данных. Резервные копии локальных данных выполняются быстрее и создаются в течение периода обслуживания. Резервные копии данных, хранящихся в облаке, создаются автоматически. При этом потребности в локальном хранилище значительно сокращаются. Хранилище Azure может стоить на 80 % дешевле, чем при добавлении на локальной SSD.  
  
 **Защищает ваши данные даже во время миграции**  
 Обеспечьте себе душевное спокойствие, безопасно разместив наиболее важные приложения в облаке. Постоянное шифрование SQL Server обеспечивает шифрование данных на ходу. Безопасность на уровне строк и другие дополнительные функции безопасности SQL Server также работают с базой данных Stretch, защищая ваши данные.  
  
## Что делает база данных Stretch?  
 После того как вы включите базу данных Stretch для экземпляра SQL Server, базы данных и как минимум одной таблицы, она начнет переносить статистические данные в Azure без предупреждения.  
  
-   Если холодные данные хранятся в отдельной таблице, эту таблицу можно перенести целиком.  
  
-   Если таблица содержит как горячие, так и холодные данные, строки для переноса можно выбрать с помощью функции фильтра.

**Вам не придется изменять существующие запросы и клиентские приложения.** Вы можете сохранить полный доступ к локальным и удаленным данным даже во время миграции данных. Удаленные запросы выполняются с небольшой задержкой, однако такая задержка возникает только при запросе холодных данных.

**База данных Stretch предотвращает потерю данных** в случае сбоев в процессе миграции. Кроме того, она содержит логику повторных попыток для обработки проблем с подключением, которые могут возникать во время миграции. Динамическое административное представление сообщает состояние миграции.

**Вы можете приостановить миграцию данных** для устранения неполадок на локальном сервере или увеличения доступной пропускной способности.  
  
 ![Stretch database overview](../../sql-server/stretch-database/media/stretch-overview.png "Stretch database overview")  
  
## Подходит ли вам база данных Stretch?  
 Если у вас есть возможность выполнения следующих инструкций, база данных Stretch может помочь вам выполнить требования и решить ваши проблемы.  
  
|Если вы принимаете решения|Если вы администратор базы данных|  
|--------------------------------|---------------------|  
|Данные о транзакциях необходимо хранить в течение долгого времени.|Размер таблиц выходит из-под контроля.|  
|Иногда мне приходится запрашивать холодные данные.|Мои пользователи говорят, что им нужен доступ к холодным данным, но лишь изредка могут их использовать.|  
|У меня есть приложения, включая старые, которые не нужно обновлять.|Мне приходится покупать и добавлять ресурсы для хранилища.|  
|Я хочу найти способ сократить затраты на хранилище.|Я не могу создать резервную копию больших таблиц или восстановить их в пределах соглашения об уровне обслуживания.|  
  
## Какие базы данных и таблицы подходят для базы данных Stretch?  
 База данных Stretch ориентирована на транзакционные базы данных с большим объемом холодных данных, которые обычно хранятся в небольшом числе таблиц. Эти таблицы могут содержать более миллиарда строк.  
  
 Если вы используете функцию временных таблиц [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], используйте базу данных Stretch для миграции всех или некоторых из соответствующих таблиц статистических данных в экономичное хранилище Azure. Дополнительные сведения см. в статье [Управление хранением данных журнала в темпоральных таблицах с системным управлением версиями](../../relational-databases/tables/manage-retention-of-historical-data-in-system-versioned-temporal-tables.md).  
  
 Используйте помощник по настройке базы данных Stretch, компонент помощника SQL Server 2016 по обновлению, для идентификации баз данных и таблиц для базы данных Stretch. Дополнительные сведения см. в статье [Определение баз данных и таблиц для базы данных Stretch с использованием помощника базы данных Stretch](../../sql-server/stretch-database/stretch database databases and tables - stretch database advisor.md). Дополнительные сведения о возможных проблемах с блокировкой см. в статье [Ограничения для базы данных Stretch](../../sql-server/stretch-database/limitations-for-stretch-database.md).  

## Проверка базы данных Stretch  
 **Проверка базы данных Stretch с образцом базы данных AdventureWorks.** Чтобы получить образец базы данных AdventureWorks, скачайте по крайней мере файл базы данных и примеры сценариев [здесь](https://www.microsoft.com/en-us/download/details.aspx?id=49502). После восстановления образца базы данных в экземпляре SQL Server 2016 распакуйте файлы образцов и откройте файл образцов базы данных Stretch в папке базы данных Stretch. Выполните сценарии в этом файле, чтобы проверить объем пространства, занимаемый данными, до и после включения базы данных Stretch, для отслеживания хода выполнения миграции данных. Убедитесь, что вы можете запрашивать существующие и вставлять новые данные во время и после миграции данных.  
  
## Следующий шаг  
 **Определение баз данных и таблиц, подходящих для базы данных Stretch.** Загрузите помощник SQL Server 2016 по обновлению и запустите помощник по настройке базы данных Stretch для идентификации баз данных и таблиц, подходящих для базы данных Stretch. Кроме того, помощник базы данных Stretch обнаруживает критические препятствия. Дополнительные сведения см. в статье [Определение баз данных и таблиц для базы данных Stretch с использованием помощника базы данных Stretch](../../sql-server/stretch-database/stretch database databases and tables - stretch database advisor.md).  
  
  