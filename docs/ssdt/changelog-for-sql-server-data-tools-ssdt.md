---
title: "Журнал изменений для SQL Server Data Tools (SSDT) | Документация Майкрософт"
ms.custom: 
ms.date: 08/23/2017
ms.prod: sql-non-specified
ms.reviewer: 
ms.suite: 
ms.technology:
- tools-ssdt
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: b071f8b8-c8e5-44e0-bbb6-04804dd1863a
caps.latest.revision: 31
author: stevestein
ms.author: sstein
manager: craigg
ms.translationtype: HT
ms.sourcegitcommit: 96ec352784f060f444b8adcae6005dd454b3b460
ms.openlocfilehash: 0de164b7e0a0330902bc8d967d32d333c5ac15fe
ms.contentlocale: ru-ru
ms.lasthandoff: 09/27/2017

---
# <a name="changelog-for-sql-server-data-tools-ssdt"></a>Журнал изменений для SQL Server Data Tools (SSDT)
Это журнал изменений для [SQL Server Data Tools (SSDT)](download-sql-server-data-tools-ssdt.md).  
  
Подробные сведения о новых и измененных возможностях см. в [блоге группы разработчиков SSDT](https://blogs.msdn.microsoft.com/ssdt/).

## <a name="ssdt-for-visual-studio-2017-1530-preview"></a>SSDT для Visual Studio 2017 (предварительная версия 15.3.0)
Номер сборки: 14.0.16121.0
  
### <a name="whats-new"></a>Новые возможности

Эта предварительная версия — первая версия SSDT для Visual Studio 2017. В этом выпуске появилась поддержка автономной установки с веб-интерфейсом для проектов баз данных SQL Server, Analysis Services, Reporting Services и Integration Services в Visual Studio 2017 15.3 и более поздних версиях.


**Известные проблемы**

- Установщик не локализован.
- Службы SSIS не локализованы.
- Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр *ExecuteOutofProcess* имеет значение *True*. Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS.
- Полный список изменений доступен в [журнале изменений](changelog-for-sql-server-data-tools-ssdt.md).
- Сообщить о проблемах можно на сайте [SSDT Connect Feedback](https://connect.microsoft.com/SQLServer/Feedback).
- Для пакетов SSIS, содержащих расширения сторонних разработчиков, невозможно выбирать другие целевые версии сервера.


## <a name="ssdt-172-for-visual-studio-2015"></a>SSDT 17.2 для Visual Studio 2015
Номер сборки: 14.0.61707.300

### <a name="whats-new"></a>Новые возможности


**Проекты Analysis Services:**
- В диалоговом окне *Роли* теперь можно настроить защиту на уровне объектов, чтобы повысить безопасность табличных моделей с уровнем совместимости 1400.
- Новая возможность выбора пользователей, не имеющих адресов электронной почты, в качестве участников ролей AAD в моделях Analysis Services Azure в проектах SSDT Analysis Services для Visual Studio 2017.
- Новое свойство "Всегда запрашивать" проектов Analysis Services Azure в табличных проектах SSDT Analysis Services, позволяющее настраивать кэширование учетных данных ADAL.


### <a name="bug-fixes"></a>Исправления ошибок

**Общие сведения**
- Обновлены ссылки для SQL Server 2017.

**Проекты Analysis Services**
- Внесены исправления для существенного повышения производительности при фиксации изменений, вносимых в меры DAX, и других изменений моделей.
- Исправлен ряд проблем с интеграцией Power Query в проектах Analysis Services, в которых используются табличные модели с уровнем совместимости 1400.
- Исправлена проблема, возникавшая в многомерных проектах в Visual Studio 2017, из-за которой мог происходить сбой загрузки конструктора агрегатных схем.
- Исправлена проблема, возникавшая при перетаскивании элемента на многомерной схеме представления источника данных Analysis Services, которая могла приводить к аварийному завершению работы Visual Studio 2017.
- Исправлена проблема в проектах Analysis Services, которая заключалась в том, что диалоговое окно развертывания не всегда располагалось на переднем плане поверх окна Visual Studio.
- Магазин данных больше не доступен в качестве источника данных для импорта в Analysis Services, так как эта служба выведена из эксплуатации.
- Исправлена проблема, из-за которой конструктор таблиц оставался отключенным после импорта новой таблицы из существующего источника данных посредством обозревателя табличных моделей.
- Исправлена проблема, из-за которой пункты меню модели "Импорт из источника данных" и "Добавить источник данных" могли оставаться скрытыми в контекстах, в которых они должны были отображаться.
- При создании меры в обозревателе табличных моделей устранена необходимость в перемещении фокуса обратно на столбец, который использовался для создания меры.
- При переключении с интегрированной рабочей области в табличных проектах Analysis Services на явно заданный сервер рабочей области старые файлы базы данных теперь очищаются.
- Исправлена проблема в проектах табличных моделей Analysis Services уровня 1400, которая заключалась в том, что флажок "Безопасность на уровне строк" в пользовательском интерфейсе изначально не был установлен вне зависимости от фактического состояния базового объекта.
- Исправлена проблема, из-за которой могло создаваться необработанное исключение и происходить аварийное завершение работы при импорте текстового файла или файла Excel в табличную модель с уровнем совместимости 1400 с помощью Power Query.
- Исправлена проблема, которая могла происходить с бегунком полосы прокрутки в элементе управления редактированием формул DAX, используемым в конструкторе табличных моделей Analysis Services.
- Исправлена проблема, приводившая к невозможности изменения гибридного источника данных PowerQuery, для которого использовалась проверка подлинности по имени пользователя и паролю.
- Исправлена проблема, которая могла блокировать подключение источника данных при задании дополнительных свойств в строке подключения.
- Исправлена проблема, которая могла приводить к аварийному завершению работы Visual Studio при загрузке нескольких проектов табличных моделей Analysis Services и закрытии второго конструктора моделей перед выполнением в нем действий с какими-либо объектами.
- Исправлена проблема, из-за которой изменения, внесенные в форматирование ключевых показателей эффективности, в некоторых случаях не сохранялись.
- Исправлена проблема в пользовательском интерфейсе PowerQuery, из-за которой в меню неправильно указывалось состояние отображения строки формул.
- Исправлена проблема с табличными проектами Analysis Services с уровнем совместимости 1400, из-за которой источники данных PowerQuery могли приводить к аварийному завершению работы Visual Studio при открытии меню "Изменение источника данных" в обозревателе табличных моделей.
- Исправлена периодически возникавшая проблема, из-за которой при загрузке табличной модели уровня 1400 могла возникать ошибка *Не удалось загрузить файл или сборку Microsoft.ProBI.MashupLibrary*.

**Проекты Reporting Services**
- Выбранные пользователем настройки для полей "Линейка" и "Параметр" сохраняются в следующих сеансах Reporting Services.

**Проекты Integration Services**
- Исправлена проблема, из-за которой контейнер ForEachLoop ADO/ADO.NET отображался неправильно.
- Исправлена проблема, которая заключалась в том, что некоторые задачи, компоненты и мастеры не были локализованы.
- Последняя версия *TargetServerVersion* изменена с "SQL Server vNext" на "SQL Server 2017".


## <a name="ssdt-171-for-visual-studio-2015"></a>SSDT 17.1 для Visual Studio 2015
Номер сборки: 14.0.61705.170

### <a name="whats-new"></a>Новые возможности
**Проекты Analysis Services:**
- Пользователи могут задавать подсказки по кодировкам столбцов в пользовательском Интерфейсе для моделей 1400.
- Технология IntelliSense, не зависящая от модели, теперь доступна в автономном режиме.
- Обозреватель табличных моделей теперь содержит узел для представления именованных M-выражений, доступных в модели (табличные модели с уровнем совместимости 1400).
- Средство выбора людей Azure Active Directory, аналогичное IAM на портале Microsoft Azure, теперь доступно и при настройке членов роли в табличных моделях.

**Проекты базы данных:**
- Обновлено до DacFx 17.1

### <a name="bug-fixes"></a>Исправления ошибок
- Исправлена проблема, из-за которой имя группы конструкторов бизнес-аналитики неправильно отображалось в параметрах Visual Studio в VS2017.
- Исправлена проблема, из-за которой возникал сбой при создании карты кода для решения с проектом отчета или проектом AS.
- Исправлен ряд проблем с интеграцией PowerQuery для табличных моделей Analysis Services с уровнем совместимости 1400.
- Исправлена проблема с новым окном редактора DAX, из-за которой оператор присваивания не мог находиться на отдельной строке при определении меры.
- Исправлена проблема, которая препятствовала обновлению отображаемых табличных мер при переименовании мер в перспективе.
- Обновлены ядро встроенной рабочей области Analysis Services и табличная модель объектов, исправлена регрессия, которая вызывала сбой при развертывании табличных проектов 1200, содержащих переводы, на сервере SQL Server 2016 Analysis Services.
- Исправлена проблема производительности, из-за которой создание и удаление новых табличных источников данных 1400 происходило очень медленно.
- Исправлена проблема, прерывавшая обработку схемы представления источника данных в многомерных моделях при быстром переключении между различными представлениями источников данных.

## <a name="dacfx-171"></a>DacFx 17.1
- Исправлена проблема, которая возникала при шифровании столбца с оптимизированными для памяти таблицами со столбцами других идентификаторов.
- Поддержка SQLDOM для параметра CATALOG_COLLATION функции CREATE DATABASE

## <a name="dacfx-1701"></a>DacFx 17.0.1 
- Исправлена проблема с базами данных с асимметричным ключом HSM с использованием элемента [Connect](https://connect.microsoft.com/SQLServer/feedback/details/3132749/sqlpackage-exe-fails-when-extracting-a-database-which-contains-an-asymmetric-key-using-an-ekm-provider) от поставщика расширенного управления ключами.

## <a name="ssdt-170-for-visual-studio-2015-supports-up-to-sql-server-2017"></a>SSDT 17.0 для Visual Studio 2015 (поддерживает SQL Server вплоть до версии 2017)
Номер сборки: 14.0.61704.140

### <a name="whats-new"></a>Новые возможности
**Проекты базы данных:**
- Исправлена проблема, в связи с которой кластеризованный индекс в представлении блокировал развертывание.
- В строках сравнения схемы, относящихся к шифрования столбца, будут использоваться подходящие имена, а не имена экземпляров.   
- Для программы SqlPackage добавлен новый параметр командной строки — ModelFilePath.  Это позволяет опытным пользователям указать внешний файл model.xml для операций импорта, публикации или работы со скриптами.   
- API DacFx теперь поддерживает универсальную и многофакторную проверку подлинности (MFA) Azure AD.

**Проекты IS:**
- Источник OData SSIS и диспетчер подключений OData теперь поддерживают подключение к каналам OData в Microsoft Dynamics AX Online и Microsoft Dynamics CRM Online.
- Проект SSIS теперь поддерживает целевую версию сервера "SQL Server 2017". 
- Поддержка задач управления CDC, разделителя CDC и CDC-источника при использовании SQL Server 2017. 

**Проекты Analysis Services:**
- Интеграция PowerQuery служб Analysis Services (табличные модели с уровнем совместимости 1400):
    - Режим DirectQuery стал доступен для SQL Oracle и Teradata, если пользователь установил драйверы других производителей.
    - Добавлены столбцы как в PowerQuery.
    - Параметры доступа к данным в моделях 1400 (свойства уровня модели, используемой подсистемой M).
        - Включение быстрого объединения (по умолчанию используется значение false; если задано значение true, подсистема гибридных веб-приложений будет игнорировать уровни конфиденциальности источников данных при объединении данных).
        - Включение переадресации для прежних версий (по умолчанию используется значение false; если задано значение true, подсистема гибридных веб-приложений будет использовать потенциально небезопасные переадресации HTTP,  например из HTTPS в HTTP URI).  
        - Значения ошибок возвращаются как нулевые (по умолчанию используется значение false; если задано значение true, ошибки на уровне ячеек возвращаются как нулевые. Если задано значение false, а ячейка содержит ошибку, выдается исключение).  
    - Дополнительные (файловые) источники данных с использованием PowerQuery.
        - Excel 
        - Text/CSV 
        - Xml 
        - Json 
        - Папка 
        - База данных Access 
        - хранилище BLOB-объектов Azure. 
    - Локализованный пользовательский интерфейс PowerQuery
- Окно инструментов редактора DAX
    - Улучшен интерфейс редактирования DAX для мер, вычисляемых столбцов и выражений строк, доступный в представлении в меню "Другие окна" в SSDT.
    - Усовершенствования средства синтаксического анализа DAX/Intellisense


**Проекты RS:**
- Теперь доступно встраиваемое управление RVC с поддержкой SSRS 2016

### <a name="bug-fixes"></a>Исправления ошибок
**Проекты Analysis Services:**
- Исправлена приоритетность шаблонов для проектов бизнес-аналитики таким образом, чтобы они не отображались в верхней части категории новых проектов в VS.
- Устранен сбой VS, который мог происходить в редких случаях при открытом решении SSIS, SSAS или SSRS.
- Табличные: различные улучшения и исправления для повышения производительности в модуле синтаксического анализа DAX и строке формул.
- Табличные: обозреватель табличных моделей больше не отображается, если табличный проект SSAS не открыт.
- Многомерные: устранена проблема, при которой окно обработки было непригодным для использования на компьютерах с высоким разрешением.
- Табличные: исправлена ошибка со сбоем SSDT при открытии любого проекта бизнес-аналитики в уже открытой среде SSMS. [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3100900/ssdt-faults-when-opening-any-bi-project-when-ssms-is-already-open)
- Табличные: исправлена ошибка, при которой иерархия неправильно сохранялась в BIM-файл в модели 1 103. [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3105222/vs-2015-ssdt)
- Табличные: исправлена ошибка, при которой режим интегрированной рабочей области можно было использовать на 32-разрядных компьютерах, несмотря на то, что этот режим не поддерживается.
- Табличные: исправлена ошибка, при которой щелчок на любом элементе в режиме частичного выбора (например, при вводе выражения DAX и щелчке на измерении) мог привести к сбою.
- Табличные: исправлена ошибка, при которой мастер развертывания сбрасывал имя модели (.Name) обратно к значению "Model". [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3107018/ssas-deployment-wizard-resets-modelname-to-model)
- Табличные: исправлена проблема, при которой при выборе иерархии в TME отображались свойства несмотря на то, что представление диаграммы не было выбрано.
- Табличные: исправлена ошибка, при которой при вставке текста в строку формулы DAX из определенных приложений помещались изображения или другое содержимое вместо текста.
- Табличные: исправлена ошибка, при которой в режиме 1 103 некоторые старые модели не открывались из-за наличия в них измерений со специфическим определением.
- Табличные: исправлена ошибка, при которой не удавалось удалить сеансы XEvent.
- Исправлена проблема, при которой попытка создать SMPROJ-файл AS с использованием devenv.com завершалась ошибкой.
- Исправлена проблема слишком частого завершения изменений текста при использовании корейского редактора метода ввода в заголовках вкладок листов табличной модели AS.
- Исправлена проблема, при которой IntelliSense для функции DAX Related() работала неправильно, отображая столбцы из других таблиц.
- Улучшен импорт табличного проекта AS из диалогового окна базы данных за счет сортировки списка баз данных AS.
- Исправлена проблема при создании вычисляемых таблиц в табличной модели AS, когда таблицы не перечислялись как предложенные объекты в выражении.
- Исправлена ошибка в предварительной версии моделей 1400 AS при попытке открыть с помощью сервера интегрированной рабочей области после просмотра кода.
- Исправлена проблема, при которой некоторые источники данных (без поддержки исходного каталога) неправильно работали в определенных обстоятельствах. 
- Мастер развертывания применяет изменения к вычисляемым секциям таблицы даже в том случае, если включен параметр сохранения секций.
- Исправлена проблема, при которой в диалоговом окне "Дополнительные свойства" для существующего подключения AS не отображался полный список, пока оно не было выбрано повторно.
- Исправлены некоторые проблемы с усечением строк пользовательского интерфейса в некоторых локализованных сборках.
- Исправлен ряд проблем с интеграцией PowerQuery для табличных моделей Analysis Services с уровнем совместимости 1400.
- Исправлена проблема с неправильным отображением шаблонов стиля в мастере отчетов.
- Исправлена проблема с мастером отчетов, из-за которой при переходе с SQL на AS могли возникать неверные параметры источника данных.
- Исправлена проблема, которая вызывала сбой при сборке проекта Analysis Services (табличные данные) из командной строки (devenv.com\exe).
- Исправлена проблема со средством синтаксического анализа мер DAX — теперь цвет выделенного и исправленного текста, который начинается с букв перед :=, отображается верно.
- Исправлена проблема, которая вызывала ObjectRefException, если при попытке отобразить все файлы для табличного проекта в режиме интегрированной рабочей области пути становились слишком длинными.
- Исправлена проблема с конструктором источников данных, из-за которой клиентский поставщик данных Compact 4.0 отображался как недоступный.
- Исправлена проблема, которая вызывала ошибку при попытке просмотра модели интеллектуального анализа данных в VS2017.
- Исправлена проблема многомерной модели AS в VS2017, из-за которой при изменении представлений обработка схемы представления источника данных останавливалась и возникало исключение.
- Исправлена проблема с предварительным просмотром отчетов, которая вызывала сбой подключения к AS в VS2017.
 

**Проекты RS:**
- Исправлена проблема, когда во время конструирования отчетов в SSDT древовидное представление параметров, источников данных и наборов данных сворачивалось после внесения большинства изменений. 
- Исправлена ошибка, в которой при выборе команды "Сохранить" сохранялась текущая версия RDL, а не последняя версия.
- Исправлена ошибка, при которой SSDT RS выполняет резервное копирование файлов, когда резервное копирование выключено, и другие ошибки.
- Исправлена ошибка в построителе отчетов, которая появлялась при нажатии кнопки "Разбить ячейки". [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3101818/ssdt-2015-ssrs-designer-error-by-matrix-cell-split)
- Исправлена проблема, при которой кэширование может привести к неверным данным в отчете. [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/3102158/ssdtbi-14-0-60812-report-preview-data-is-frequently-wrong-due-to-bad-caching)

**Проекты IS:**
- Исправлена ошибка, при которой параметр run64bitruntime не сохраняется.
- Исправлена ошибка, при которой в средстве просмотра данных не сохранялись отображаемые столбцы.
- Исправлена ошибка, при которой в разделе "Компоненты пакета" не отображались аннотации. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3106624/package-parts-hide-annotations)
- Исправлена ошибка, при которой в разделе "Компоненты пакета" не учитывались аннотации и макеты потока данных. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3109241/package-parts-discard-data-flow-layouts-and-annotations)
- Устранена проблема, при которой среда SSDT аварийно завершала работу при импорте проекта из SQL Server.
- Устранена проблема, связанная с тем, что после открытия сохраненного пакета SSIS и в среде выполнения параметру TimeoutInMinutes задачи "Файловая система" Hadoop по умолчанию присваивалось значение 10.

**Проекты базы данных:**
- При развертывании DACPAC-файла SSDT включается игнорирование порядка столбцов (IgnoreColumnOrder). [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/1221587/ssdt-dacpac-deploy-add-setting-back-in-for-ignorecolumnorder)
- Ошибка компиляции SSDT при использовании STRING_SPLIT. [Элемент Connect](http://connect.microsoft.com/SQLServer/feedback/details/2906200/ssdt-failing-to-compile-if-string-split-is-used)
- Исправлена проблема, при которой DeploymentContributors имели доступ к открытым моделям, но резервная схема еще не была инициализирована. [Проблема GitHub](https://github.com/Microsoft/DACExtensions/issues/8)
- Временное исправление DacFx для размещения файловой группы.
- Исправление для ошибки "Неразрешенная ссылка" для внешних синонимов. 
- Always Encrypted: шифрование онлайн не отключает отслеживание изменений при отмене и работает некорректно, если отслеживание изменений не было очищено перед началом шифрования.


## <a name="ssdt-165-for-visual-studio-2015-supports-up-to-sql-server-2016"></a>SSDT 16.5 для Visual Studio 2015 (поддерживает SQL Server вплоть до версии 2016)
Дата выпуска: 20 октября 2016 г.

Номер сборки: 14.0.61021.0

**Новые возможности**


### <a name="connection-improvements"></a>Улучшения подключения

* В новом поле поиска на вкладке **Обзор** можно фильтровать локальные и сетевые серверы, а также базы данных SQL Azure. Это удобно, если в списках отображается много серверов или баз данных.
* В контекстном меню вкладки **Журнал** добавлены функции закрепления и открепления выбранных требуемых элементов, а также новый параметр для удаления подключений из журнала.

### <a name="sqlpackage-and-dacfx-api-improvements"></a>Улучшения API SqlPackage и DacFx

Теперь с помощью SqlPackage.exe и API DacFx можно создать отчет о развертывании, скрипт для развертывания и опубликовать все это в базе данных одним действием. Это экономит время для всех, кому нужно сохранять отчет об опубликованных во время развертывания компонентах. Кроме того, для сценариев Azure создаются отдельные скрипты для базы данных master и целевой базы данных развертывания. До сих пор создавался всего лишь один скрипт, который невозможно было использовать для повторных развертываний.

Для действий Publish и Script SqlPackage добавлено два новых аргумента.

* DeployScriptPath (коротко dsp). Это дополнительный путь для записи скрипта развертывания. Если для развертывания Azure есть команды TSQL для создания или изменения базы данных, скрипт master будет записан в тот же путь, но в качестве имени выходного файла будет использоваться Filename_Master.sql.
* DeployReportPath (коротко drp). Это дополнительный путь для записи отчета по развертыванию.

Обратите внимание, что для действия Script нужно использовать имеющиеся аргументы выходного пути или новые аргументы для конкретного скрипта или отчета, а не и то, и другое.

Ниже представлены примеры использования.

**Действие Publish**

```Sqlpackage.exe /a:Publish /tsn:(localdb)\ProjectsV13 /tdn:MyDatabase /deployscriptpath:”My\DeployScript.sql” /deployreportpath:”My\DeployReport.xml”```

**Действие Script**

```Sqlpackage.exe /a:Script /tsn:(localdb)\ProjectsV13 /tdn:MyDatabase /deployscriptpath:”My\DeployScript.sql” /deployreportpath:”My\DeployReport.xml”```

В DacFx добавлены два новых API: DacServices.Publish() и DacServices.Script(). В них также можно выполнять действия Publish, Script и Report в рамках одной операции. Ниже представлены примеры использования.

```
DacServices service = new DacServices(connectionString);
using(DacPackage package = DacPackage.Load(@"C:\My\db.dacpac")) {
var options = new PublishOptions() {
    GenerateDeploymentScript = true, // Should a deployment script be created?
    GenerateDeploymentReport = true, // Should an xml deploy report be created?
    DatabaseScriptPath = @"C:\My\OutputScript.sql", // optional path to save script to
    MasterDbScriptPath = @"C:\My\OutputScript_Master.sql", // optional path to save master script to
    DeployOptions = new DacDeployOptions()
};

// Call publish and receive deployment script & report in the results
PublishResult result = service.Publish(package, "TargetDb", options);
Console.WriteLine(result.DatabaseScript);
Console.WriteLine(result.MasterDbScript);
Console.WriteLine(result.DeploymentReport);

// Call script and receive deployment script & report in results
result = service.Script(package, "TargetDb", options);
Console.WriteLine(result.DatabaseScript);
Console.WriteLine(result.MasterDbScript);
Console.WriteLine(result.DeploymentReport);
```

**Analysis Services и Reporting Services**

Повышена производительность средства синтаксического анализа DAX конструктора таблиц SSAS при работе с крупными выражениями DAX.
Дополнительные сведения см. в [записи блога о службах Analysis Services](https://blogs.msdn.microsoft.com/analysisservices/2016/09/20/introducing-integrated-workspace-mode-for-sql-server-data-tools-for-analysis-services-tabular-projects-ssdt-tabular/).

### <a name="fixed--improved-this-month"></a>Исправления и улучшения этого месяца

**Средства работы с базами данных**

* [Ошибка подключения 3055711.](https://connect.microsoft.com/SQLServer/feedback/details/3055711/columns-cannot-be-selected-from-cross-apply-openjson-with-explicit-schema) Не удалось выбрать столбцы из CROSS APPLY OPENJSON с явной схемой.
* Проблема с индексами таблиц автоматически созданного журнала, при которой DacFx удалял индекс во время повторного развертывания (исправлено).
* Средство синтаксического анализа пакетов DacFx не обрабатывает экранированные знаки скобок "]", что приводит к сбою публикации (исправлено).
* Теперь в выходных данных справки SqlPackage есть описания каждого действия (улучшение).
* Параметр "Запомнить пароль" в диалоговом окне подключения не сохранялся при изменении дополнительных параметров и строки подключения, сохраненной в публикации, сравнении схем и в других файлах (исправлено).
* Для подключений с параметром IntegratedAuthentication=true на вкладке "Журнал" в свойствах подключения поле "Проверка подлинности" было пустым (исправлено). Теперь в этом поле отображается значение "Проверка подлинности Windows".
* Изменения параметров Intellisense средств SQL Server в разделе "Средства-> Настройки-> Текстовый редактор" не сохранялись (исправлено).
* Кнопка "Закрепить" и "Открепить" в диалоговом окне подключения на вкладке "Журнал" уменьшена, чтобы сократить вероятность появления полосы прокрутки (улучшение).
* Устранены некоторые проблемы доступа в диалоговом окне подключения.

**Analysis Services и Reporting Services**

* Устранена проблема в конструкторе таблиц SSDT AS, при которой в некоторых случаях щелчок бегунка полосы прокрутки в сетке данных вызывал сбой.
* Устранена проблема, при которой невозможно олицетворить подключение в качестве текущего пользователя в конструкторе таблиц SSDT AS
* Устранена проблема в конструкторе таблиц SSDT AS, при которой во время чрезмерного расширения строки формул невозможно было повторно открыть проект.
* Исправлен сбой в конструкторе таблиц SSDT AS, который происходил при нажатии кнопки в выбранной вкладке таблицы.
* Устранена проблема в проектах SSDT AS, при которой во время выбора функции "Анализ в Excel" не происходило подключение к старой версии сервера AS.

**Служба интеграции**

* Исправлена ошибка подключения [1608896](https://connect.microsoft.com/SQLServer/feedback/details/1608896/move-multiple-integration-service-package-tasks): перемещение нескольких задач пакета службы интеграции.





## <a name="ssdt-164-for-visual-studio-2015-for-sql-server-2016"></a>SSDT 16.4 для Visual Studio 2015 (поддерживает SQL Server вплоть до версии 2016)
Дата выпуска: 20 сентября 2016 г.

Номер сборки: 14.0.60918

**Новые возможности**

Теперь сравнение схем поддерживается в SqlPackage.exe и API платформы приложений уровня данных (DacFx). Дополнительные сведения см. в статье [Schema Compare in SqlPackage and the Data-Tier Application Framework](https://blogs.msdn.microsoft.com/ssdt/2016/09/20/schema-compare-in-sqlpackage-and-the-data-tier-application-framework-dacfx/) (Сравнение схем SqlPackage и платформы приложений уровня данных).

**Analysis Services. Режим интегрированной рабочей области для табличного экземпляра SSDT (SSAS)**

Теперь табличный экземпляр SSDT включает внутренний экземпляр SSAS, который табличный экземпляр SSDT запускает в фоновом режиме автоматически, если включен режим интегрированной рабочей области. В этом режиме вы сможете добавлять и просматривать таблицы, столбцы и данные в конструкторе моделей без необходимости предоставления внешнего экземпляра сервера рабочей области. Режим интегрированной рабочей области не меняет способ работы табличного экземпляра SSDT с сервером и базой данных рабочей области. Изменяется расположение базы данных рабочей области в табличном экземпляре SSDT. Чтобы включить режим интегрированной рабочей области, выберите соответствующий параметр в диалоговом окне конструктора табличных моделей, отображаемый при создании табличного проекта. Для табличных проектов, которые сейчас используют явный сервер рабочей области, можно переключиться в режим интегрированной рабочей области, задав для соответствующего параметра значение True в окне "Свойства", которое отображается при выборе файла Model.bim в обозревателе решений. Дополнительные сведения см. в [записи блога о службах Analysis Services](https://blogs.msdn.microsoft.com/analysisservices/2016/09/20/introducing-integrated-workspace-mode-for-sql-server-data-tools-for-analysis-services-tabular-projects-ssdt-tabular/).

**Обновления и исправления**
**средств работы с базами данных**

- [Проблема с подключением 3087775:](https://connect.microsoft.com/SQLServer/feedback/details/3087775) неисправные временные таблицы в VS Data Tools с июньским обновлением 14.0.60629.0 ("Значение не может быть равным null. Имя параметра: reportedElement").
- [Проблема с подключением 1026648:](https://connect.microsoft.com/SQLServer/feedback/details/1026648) параметр IsPersistedNullable отображается по-другому в сравнении SSDT.
- [Проблема с подключением 2054735:](https://connect.microsoft.com/SQLServer/feedback/details/2054735) при импорте BACPAC удостоверение сбрасывается.
- [Проблема с подключением 2900167:](https://connect.microsoft.com/SQLServer/feedback/details/2900167) при выполнении модульных тестов в SSDT не учитываются временные файлы.
- [Проблема с подключением 1807712:](https://connect.microsoft.com/SQLServer/feedback/details/1807712) сбой обратной совместимости AppLocal и Nugetization.

**Analysis Services и Reporting Services**

* Устранена проблема в SSDT, при которой всплывающие подсказки ошибки мешали во время редактирования DAX для вычисляемых столбцов DirectQuery.
* Устранена проблема в табличной сетке SSDT AS, при которой в сетке мер не отображался значок ключевого показателя эффективности, если для коэффициента масштабирования Windows указано высокое значение разрешения (больше 200 %).
* Устранена проблема в SSDT AS, при которой во время вставки табличных данных большого объема табличный проект мог перестать отвечать.
* Устранена проблема в редакторе табличных моделей SSDT AS с пометкой модели в качестве такой, которую нужно изменить при изменении понятного имени подключения.
* Устранена проблема в табличных проектах SSDT AS, при которой невозможно было изменить ширину столбцов в диалоговом окне управления связями.
* Устранена проблема в моделях уровня 1200 табличного экземпляра SSDT, при которой во время вставки данных из Excel, для которых в качестве языкового параметра задан немецкий язык, запятая не распознавалась в качестве десятичного разделителя.
* Устранена проблема в проектах SSDT AS, при которой некоторые наборы значков ключевого показателя эффективности могли возвращать ошибку "Не удалось получить данные для этого визуального элемента".
* Устранена проблема с диалоговым окном свойств проекта SSDT AS. Теперь закрепление выполняется правильно при изменении размера во время масштабирования с высоким значением разрешения.
* Устранена проблема в проектах SSDT AS, которая могла вызвать ошибку при обновлении определенных моделей с вставленными таблицами.
* Устранена проблема в SSDT AS, при которой вставка полного листа со строками Excel происходила очень медленно и при этом создавалось много ненужных столбцов.
* Устранена проблема в SSDT AS, при которой анализ и выделение больших статических выражений DataTable происходили очень медленно или зависали.
* Устранена проблема в SSDT AS с добавлением значений мер и ключевых показателей эффективности в текущую перспективу в редакторе.
* Устранена проблема в SSDT, при которой импорт данных в проект AS из SQL Azure поддерживал только тип схем DBO.



## <a name="ssdt-163-for-visual-studio-2015-for-sql-server-2016"></a>SSDT 16.3 для Visual Studio 2015 (поддерживает SQL Server вплоть до версии 2016)
Дата выпуска: 15 август 2016 г.

Номер сборки: 14.0.60812.0  

**Новые возможности**

- **Управление версиями и нумерация выпусков.** Теперь версии помечаются числовым значением, а не по месяцам. Это соответствует новой политике SSMS и упрощает ситуации, в которых выходит несколько выпусков или исправлений в месяц. Текущий выпуск имеет версию 16.3. Это третье обновление после выпуска RTM. Исправление будет иметь версию от 16.3.1 и т. д., а следующее обновление (запланированное на следующий месяц) будет иметь версию 16.4.
- **Службы Analysis Services. Обозреватель табличных моделей.** Обозреватель табличных моделей упрощает просмотр различных объектов метаданных в модели, например источников данных, таблиц, мер и связей. Он реализован как отдельное окно средств, которое можно отобразить, открыв меню "Вид" в Visual Studio, выбрав "Другие окна" и щелкнув "Обозреватель табличных моделей". Обозреватель табличных моделей по умолчанию отображается в области обозревателя решений на отдельной вкладке. Обозреватель табличных моделей упорядочивает объекты метаданных в древовидную структуру, которая сильно напоминает схему табличной модели 1200, а также обладает множеством новых возможностей.
- **Средства работы с базами данных. Постоянное шифрование.** В этом выпуске представлены новые диалоговые окна [управления постоянно зашифрованным ключом](../relational-databases/security/encryption/overview-of-key-management-for-always-encrypted.md), упрощающие добавление главных ключей или ключей шифрования столбцов в проект базы данных либо добавление динамичной базы данных в обозревателе объектов SQL Server. Этот выпуск поддерживает сертификаты в хранилище сертификатов Windows. В будущих выпусках планируется реализовать поддержку Azure Key Vault и поставщиков CNG.
    - При создании главного ключа или ключа шифрования столбцов изменения могут не отражаться в обозревателе объектов SQL Server сразу же после выбора команды "Обновить базу данных". Чтобы обойти эту проблему, обновите узел базы данных в обозревателе объектов SQL Server.
    - При попытке зашифровать столбец в таблице с данными из обозревателя объектов SQL Server может возникнуть сбой. Сейчас эта функция поддерживается только в проектах базы данных SSDT и SSMS. В будущем выпуске будет включена поддержка обозревателя объектов SQL Server.


**Обновления и исправления**
* **Средства работы с базами данных**
    - **SSDT:**
        - Ошибка подключения 1898001. [Устранена проблема с ограничением до 128 знаков в описании столбца](https://connect.microsoft.com/SQLServer/feedback/details/1898001/column-description-limited-to-128-characters).
        - Устранена проблема, при которой во время публикации базы данных из VS не применялось свойство DatabaseServiceObjective в XML профиля публикации.
        - Ошибка подключения 2900167. [Устранена проблема с неправильным сохранением временных файлов при модульном тестировании](http://connect.microsoft.com/SQLServer/feedback/details/2900167/running-ssdt-unit-tests-leaves-temp-files-behind).
        - Устранена проблема, при которой поле со списком "Срок хранения" в параметрах базы данных усекалось.
        - Устранена проблема, при которой во время изменения пароля не проверялся пустой старый пароль в свойствах проекта SQL CLR.
    - **DACFx:**
        - Устранена проблема, при которой не обновлялся уровень совместимости DACFx в случае ошибки SqlAzureV12.
        - Устранена проблема, при которой свойство IsAutoGeneratedHistoryTable исключалось из сравнения модели.

- **Analysis Services и Reporting Services**
    - **SSDT:**
        - Устранена проблема, при которой невозможно сохранить табличную модель при потере подключения к серверу.
        - Устранена проблема, при которой SSDT перестает отвечать из-за возможной проблемы с бесконечным циклом в AS.
        - Устранена проблема с выражением DAX, вызвавшая несогласованное поведение в зависимости от способа фиксации выражения.
        - Устранена проблема сбоя в VS при создании ключевых показателей эффективности.
        - Устранена проблема, при которой создавались недопустимые отчеты для SQL Server 2008 R2, 2012 и 2014.
        - Устранена проблема упорядочивания иерархии, вызывавшая ошибку бесконечного цикла для проектов в формате DWPRO.
        - Устранена проблема языка определения отчетов сервера отчетов, при которой для понижения версии языка определения отчетов требовалась полная перестройка, что вызывало путаницу.
        - Устранена проблема ключевого показателя эффективности, при которой функция "Скрыть из набора клиентских средств" не действовала.
        

 
  
## <a name="ssdt-july-for-visual-studio-2015-for-sql-server-2016"></a>Июльская версия SSDT для Visual Studio 2015 (поддерживает SQL Server вплоть до версии 2016)  
Дата выпуска: 30 июня 2016 г.  
  
Номер сборки: 14.0.60629.0  
  
**Новые возможности**  
* **Поддержка постоянного шифрования.** Для баз данных со столбцами постоянного шифрования в этом выпуске реализована полная поддержка постоянного шифрования в основных API и программе командной строки (SqlPackage.exe). Вы можете создавать и публиковать проекты базы данных, полностью поддерживающие все функции постоянного шифрования.  
* **Улучшенная поддержка временных таблиц.** Упрощена работа с таблицами. Теперь их связь отменяется до изменений и повторно устанавливается после изменений. Это означает, что с точки зрения поддерживаемых операций временные таблицы имеют четность с другими типами таблиц (стандартные, в памяти). 
* **Изменения установки SqlPackage.exe.** Внесены изменения для изоляции SSDT от ядра SQL Server и обновлений SSMS. Дополнительные сведения см. в статье [Changes to SSDT and SqlPackage.exe installation and updates](https://blogs.msdn.microsoft.com/ssdt/2016/06/30/changes-to-ssdt-and-sqlpackage-exe-installation-and-updates/) (Изменения и обновления установки SSDT и SqlPackage.exe).

 

**Обновления и исправления**
* **Средства работы с базами данных**
    * Теперь SSDT никогда не отключит прозрачное шифрование данных (TDE) в базе данных. Так как ранее параметр шифрования по умолчанию в параметрах проекта базы данных был отключен, шифрование отключалось. Благодаря этому исправлению шифрование можно включить и невозможно отключить во время публикации. 
    * Увеличено число повторных попыток и устойчивость при начальном подключении к базе данных SQL Azure.
    * Если в качестве типа файловой группы по умолчанию не задано значение "Первичная", произойдет сбой импорта и публикации в Azure версии 12. Теперь этот параметр игнорируется при публикации.
    * Устранена проблема, при которой во время экспорта базы данных с объектом, для которого включен заключенный в кавычки идентификатор, в некоторых случаях происходил сбой проверки экспорта.
    * Устранена проблема, при которой параметр TEXTIMAGE_ON добавлялся для создания таблицы, если это было запрещено.
    * Устранена проблема, при которой экспорт больших объемов данных занимал много времени из-за записи в файл model.xml после завершения этапа данных, что в свою очередь вызвало перезапись содержимого BACPAC-файла.
    * Устранена проблема, при которой пользователи не отображались в папке "Безопасность" для подключений к хранилищу данных SQL Azure и APS.


 * **Analysis Services и Reporting Services:**
    * Устранена проблема SxS с поставщиком OLEDB MSOLAP, при которой устанавливалась только 32-разрядная версия поставщика, что влияло на подключение 64-разрядной версии Excel 2016 к SQL Server 2014 (не воспроизводится при установке с применением ClickOnce из Office 365, только при установке с помощью MSI Excel).
    * Устранена проблема с надежностью в тупиковой ситуации при обновлении модели Analysis Services со вставленными таблицами с уровнями совместимости 1103–1200, что могло приводить к ошибке "Связь использует недопустимый идентификатор столбца".
    * Устранена проблема SxS, при которой не удавалось импортировать данные модели AS после удаления SSDT 2015, если на том же компьютере была установлена версия SSDT-BI 2013 (картриджи совместно использовали параметры реестра).
    * Повышена надежность во время устранения проблем и сбоев при потере подключения к подсистеме AS (т. е. если SSDT оставить открытым на ночь, сервер перезапускался, а также другие случаи временной потери подключения). 
    * Устранены проблемы с открытием диалоговых окон не на тех экранах, на которых открыта служба VS при использовании нескольких мониторов. 
    * Реализована поддержка вставки из таблиц HTML (данные сетки) во вставленные таблицы модели AS. 
    * Устранена проблема, при которой происходит сбой обновления пустой вставленной таблицы до уровня совместимости 1200 (используется только как таблица контейнера для мер). 
    * Устранена проблема с обновлением табличной модели AS со вставленными таблицами до уровня совместимости 1200 для временного решения проблемы подсистемы AS с CalcTables (которые используются для вставленных таблиц на уровне 1200), чтобы выполнить полную обработку новых вычисляемых таблиц после обновления. 
    * Устранена проблема, при которой мог происходить сбой отмены создания вычисляемой таблицы модели 1200 AS с неполным выражением DAX. 
    * Устранена проблема импорта модели 1200 с сервера AS в проект SSDT AS с совпадающими именами базы данных и таблицы. 
    * Устранена проблема с изменением меры ключевого показателя эффективности в табличной модели 1103. 
    * Устранена проблема, связанная с тем, что ссылка на объект не указывает на исключение при вставке меры ключевого показателя эффективности в сетке для модели 1200 AS. 
    * Устранена проблема, при которой невозможно было удалить столбец из представления схемы в вычисляемой таблице в моделях 1200. 
    * Устранена проблема, связанная с тем, что ссылка на объект не указывает на исключение при просмотре свойств файла проекта model.bim в представлении кода. 
    * Устранена проблема со вставкой данных в сетку модели AS для создания вставленной таблицы, при которой возвращаются неправильные значения для языков, использующих запятую в качестве десятичного разделителя. 
    * Устранена проблема при открытии проекта RS в версии 2008 в SSDT без обновления. 
    * Устранена проблема в пользовательском интерфейсе вычисляемой таблицы моделей уровня совместимости 1200 при использовании стандартного форматирования для типа столбца, чтобы позволить изменять тип форматирования в пользовательском интерфейсе. 
    

## <a name="ssdt-june-for-visual-studio-2015-for-sql-server-2016"></a>Июньская версия SSDT для Visual Studio 2015 (поддерживает SQL Server вплоть до версии 2016)  
Дата выпуска: 1 июня 2016 г.  
  
Номер сборки: 14.0.60525.0 

Выпущена общедоступная версия SSDT. В обновлении общедоступной версии SSDT за июнь 2016 г. добавлена поддержка последних обновлений SQL Server 2016 RTM, а также исправлены различные ошибки. Дополнительные сведения см. в статье [SQL Server Data Tools GA update for June 2016](https://blogs.msdn.microsoft.com/ssdt/2016/06/01/sql-server-data-tools-ga-update-for-june-2016/) (Обновление общедоступной версии SQL Server Data Tools за июнь 2016 г.).

  
  
## <a name="additional-resources"></a>Дополнительные ресурсы
  
[Скачать SQL Server Data Tools &#40;SSDT&#41;](../ssdt/download-sql-server-data-tools-ssdt.md)  
[Previous releases of SQL Server Data Tools (SSDT and SSDT-BI)](../ssdt/previous-releases-of-sql-server-data-tools-ssdt-and-ssdt-bi.md) (Предыдущие выпуски SQL Server Data Tools (SSDT и SSDT-BI))  
[Новые возможности в SQL Server 2016 (ядро СУБД)](https://msdn.microsoft.com/library/bb510411.aspx)  
[Новые возможности в службах Analysis Services](../analysis-services/what-s-new-in-analysis-services.md)  
[Новые возможности служб Integration Services в SQL Server 2016](../integration-services/what-s-new-in-integration-services-in-sql-server-2016.md)  
  

